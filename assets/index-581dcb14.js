(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var a=Function.bind.apply(e,r);return new a}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var Wt={},Xb={get exports(){return Wt},set exports(t){Wt=t}},Cl={},Sn={},Qb={get exports(){return Sn},set exports(t){Sn=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),Yb=Symbol.for("react.portal"),Jb=Symbol.for("react.fragment"),Zb=Symbol.for("react.strict_mode"),eE=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),nE=Symbol.for("react.forward_ref"),iE=Symbol.for("react.suspense"),aE=Symbol.for("react.memo"),sE=Symbol.for("react.lazy"),Im=Symbol.iterator;function oE(t){return t===null||typeof t!="object"?null:(t=Im&&t[Im]||t["@@iterator"],typeof t=="function"?t:null)}var f0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h0=Object.assign,p0={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=p0,this.updater=n||f0}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m0(){}m0.prototype=Ta.prototype;function Wf(t,e,n){this.props=t,this.context=e,this.refs=p0,this.updater=n||f0}var Gf=Wf.prototype=new m0;Gf.constructor=Wf;h0(Gf,Ta.prototype);Gf.isPureReactComponent=!0;var Am=Array.isArray,g0=Object.prototype.hasOwnProperty,$f={current:null},v0={key:!0,ref:!0,__self:!0,__source:!0};function y0(t,e,n){var i,r={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)g0.call(e,i)&&!v0.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];r.children=u}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Zs,type:t,key:a,ref:s,props:r,_owner:$f.current}}function uE(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function lE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dm=/\/+/g;function bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lE(""+t.key):e.toString(36)}function cu(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Zs:case Yb:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+bd(s,0):i,Am(r)?(n="",t!=null&&(n=t.replace(Dm,"$&/")+"/"),cu(r,e,n,"",function(l){return l})):r!=null&&(qf(r)&&(r=uE(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Dm,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Am(t))for(var o=0;o<t.length;o++){a=t[o];var u=i+bd(a,o);s+=cu(a,e,n,u,r)}else if(u=oE(t),typeof u=="function")for(t=u.call(t),o=0;!(a=t.next()).done;)a=a.value,u=i+bd(a,o++),s+=cu(a,e,n,u,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Fo(t,e,n){if(t==null)return t;var i=[],r=0;return cu(t,i,"","",function(a){return e.call(n,a,r++)}),i}function dE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},fu={transition:null},cE={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:fu,ReactCurrentOwner:$f};de.Children={map:Fo,forEach:function(t,e,n){Fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fo(t,function(){e++}),e},toArray:function(t){return Fo(t,function(e){return e})||[]},only:function(t){if(!qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ta;de.Fragment=Jb;de.Profiler=eE;de.PureComponent=Wf;de.StrictMode=Zb;de.Suspense=iE;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=h0({},t.props),r=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=$f.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)g0.call(e,u)&&!v0.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];i.children=o}return{$$typeof:Zs,type:t.type,key:r,ref:a,props:i,_owner:s}};de.createContext=function(t){return t={$$typeof:rE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tE,_context:t},t.Consumer=t};de.createElement=y0;de.createFactory=function(t){var e=y0.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:nE,render:t}};de.isValidElement=qf;de.lazy=function(t){return{$$typeof:sE,_payload:{_status:-1,_result:t},_init:dE}};de.memo=function(t,e){return{$$typeof:aE,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=fu.transition;fu.transition={};try{t()}finally{fu.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return wt.current.useCallback(t,e)};de.useContext=function(t){return wt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};de.useEffect=function(t,e){return wt.current.useEffect(t,e)};de.useId=function(){return wt.current.useId()};de.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return wt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};de.useRef=function(t){return wt.current.useRef(t)};de.useState=function(t){return wt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return wt.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(Qb);const fE=Kb(Sn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE=Sn,pE=Symbol.for("react.element"),mE=Symbol.for("react.fragment"),gE=Object.prototype.hasOwnProperty,vE=hE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yE={key:!0,ref:!0,__self:!0,__source:!0};function _0(t,e,n){var i,r={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)gE.call(e,i)&&!yE.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:pE,type:t,key:a,ref:s,props:r,_owner:vE.current}}Cl.Fragment=mE;Cl.jsx=_0;Cl.jsxs=_0;(function(t){t.exports=Cl})(Xb);var yc={},_c={},_E={get exports(){return _c},set exports(t){_c=t}},Xt={},Tc={},TE={get exports(){return Tc},set exports(t){Tc=t}},T0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var Z=G.length;G.push(te);e:for(;0<Z;){var xe=Z-1>>>1,pe=G[xe];if(0<r(pe,te))G[xe]=te,G[Z]=pe,Z=xe;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var te=G[0],Z=G.pop();if(Z!==te){G[0]=Z;e:for(var xe=0,pe=G.length,Pt=pe>>>1;xe<Pt;){var ot=2*(xe+1)-1,sr=G[ot],Ke=ot+1,or=G[Ke];if(0>r(sr,Z))Ke<pe&&0>r(or,sr)?(G[xe]=or,G[Ke]=Z,xe=Ke):(G[xe]=sr,G[ot]=Z,xe=ot);else if(Ke<pe&&0>r(or,Z))G[xe]=or,G[Ke]=Z,xe=Ke;else break e}}return te}function r(G,te){var Z=G.sortIndex-te.sortIndex;return Z!==0?Z:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],l=[],d=1,h=null,f=3,v=!1,T=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(G){for(var te=n(l);te!==null;){if(te.callback===null)i(l);else if(te.startTime<=G)i(l),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(l)}}function A(G){if(b=!1,P(G),!T)if(n(u)!==null)T=!0,ae(L);else{var te=n(l);te!==null&&le(A,te.startTime-G)}}function L(G,te){T=!1,b&&(b=!1,x(M),M=-1),v=!0;var Z=f;try{for(P(te),h=n(u);h!==null&&(!(h.expirationTime>te)||G&&!K());){var xe=h.callback;if(typeof xe=="function"){h.callback=null,f=h.priorityLevel;var pe=xe(h.expirationTime<=te);te=t.unstable_now(),typeof pe=="function"?h.callback=pe:h===n(u)&&i(u),P(te)}else i(u);h=n(u)}if(h!==null)var Pt=!0;else{var ot=n(l);ot!==null&&le(A,ot.startTime-te),Pt=!1}return Pt}finally{h=null,f=Z,v=!1}}var B=!1,F=null,M=-1,j=5,U=-1;function K(){return!(t.unstable_now()-U<j)}function q(){if(F!==null){var G=t.unstable_now();U=G;var te=!0;try{te=F(!0,G)}finally{te?re():(B=!1,F=null)}}else B=!1}var re;if(typeof C=="function")re=function(){C(q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ge=fe.port2;fe.port1.onmessage=q,re=function(){ge.postMessage(null)}}else re=function(){E(q,0)};function ae(G){F=G,B||(B=!0,re())}function le(G,te){M=E(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,ae(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var Z=f;f=te;try{return G()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=f;f=G;try{return te()}finally{f=Z}},t.unstable_scheduleCallback=function(G,te,Z){var xe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?xe+Z:xe):Z=xe,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Z+pe,G={id:d++,callback:te,priorityLevel:G,startTime:Z,expirationTime:pe,sortIndex:-1},Z>xe?(G.sortIndex=Z,e(l,G),n(u)===null&&G===n(l)&&(b?(x(M),M=-1):b=!0,le(A,Z-xe))):(G.sortIndex=pe,e(u,G),T||v||(T=!0,ae(L))),G},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(G){var te=f;return function(){var Z=f;f=te;try{return G.apply(this,arguments)}finally{f=Z}}}})(T0);(function(t){t.exports=T0})(TE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=Sn,qt=Tc;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x0=new Set,Cs={};function fi(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Cs[t]=e,t=0;t<e.length;t++)x0.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,SE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Om={},Lm={};function xE(t){return Sc.call(Lm,t)?!0:Sc.call(Om,t)?!1:SE.test(t)?Lm[t]=!0:(Om[t]=!0,!1)}function bE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EE(t,e,n,i){if(e===null||typeof e>"u"||bE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,i,r,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kf=/[\-:]([a-z])/g;function Xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kf,Xf);st[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kf,Xf);st[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kf,Xf);st[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qf(t,e,n,i){var r=st.hasOwnProperty(e)?st[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EE(e,n,r,i)&&(n=null),i||r===null?xE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var on=S0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),xc=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),Ec=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),C0=Symbol.for("react.offscreen"),Rm=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=Rm&&t[Rm]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Ed;function ts(t){if(Ed===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ed=e&&e[1]||""}return`
`+Ed+t}var Cd=!1;function wd(t,e){if(!t||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var i=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){i=l}t.call(e.prototype)}else{try{throw Error()}catch(l){i=l}t()}}catch(l){if(l&&i&&typeof l.stack=="string"){for(var r=l.stack.split(`
`),a=i.stack.split(`
`),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||r[s]!==a[o]){var u=`
`+r[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=o);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ts(t):""}function CE(t){switch(t.tag){case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return t=wd(t.type,!1),t;case 11:return t=wd(t.type.render,!1),t;case 1:return t=wd(t.type,!0),t;default:return""}}function Cc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Ai:return"Portal";case xc:return"Profiler";case Yf:return"StrictMode";case bc:return"Suspense";case Ec:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E0:return(t.displayName||"Context")+".Consumer";case b0:return(t._context.displayName||"Context")+".Provider";case Jf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zf:return e=t.displayName||null,e!==null?e:Cc(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return Cc(t(e))}catch{}}return null}function wE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cc(e);case 8:return e===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function An(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kE(t){var e=w0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=kE(t))}function k0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=w0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wc(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nm(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=An(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P0(t,e){e=e.checked,e!=null&&Qf(t,"checked",e,!1)}function kc(t,e){P0(t,e);var n=An(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pc(t,e.type,An(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pc(t,e,n){(e!=="number"||Iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rs=Array.isArray;function $i(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+An(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ic(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(rs(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:An(n)}}function I0(t,e){var n=An(e.value),i=An(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Um(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ac(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,D0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ws(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PE=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(t){PE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cs[e]=cs[t]})});function O0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cs.hasOwnProperty(t)&&cs[t]?(""+e).trim():e+"px"}function L0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=O0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var IE=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(t,e){if(e){if(IE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Oc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=null;function eh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rc=null,qi=null,Ki=null;function Bm(t){if(t=ro(t)){if(typeof Rc!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Al(e),Rc(t.stateNode,t.type,e))}}function R0(t){qi?Ki?Ki.push(t):Ki=[t]:qi=t}function N0(){if(qi){var t=qi,e=Ki;if(Ki=qi=null,Bm(t),e)for(t=0;t<e.length;t++)Bm(e[t])}}function M0(t,e){return t(e)}function F0(){}var kd=!1;function U0(t,e,n){if(kd)return t(e,n);kd=!0;try{return M0(t,e,n)}finally{kd=!1,(qi!==null||Ki!==null)&&(F0(),N0())}}function ks(t,e){var n=t.stateNode;if(n===null)return null;var i=Al(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Nc=!1;if(Yr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Nc=!1}function AE(t,e,n,i,r,a,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(d){this.onError(d)}}var fs=!1,Au=null,Du=!1,Mc=null,DE={onError:function(t){fs=!0,Au=t}};function OE(t,e,n,i,r,a,s,o,u){fs=!1,Au=null,AE.apply(DE,arguments)}function LE(t,e,n,i,r,a,s,o,u){if(OE.apply(this,arguments),fs){if(fs){var l=Au;fs=!1,Au=null}else throw Error(z(198));Du||(Du=!0,Mc=l)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jm(t){if(hi(t)!==t)throw Error(z(188))}function RE(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return jm(r),t;if(a===i)return jm(r),e;a=a.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function j0(t){return t=RE(t),t!==null?V0(t):null}function V0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V0(t);if(e!==null)return e;t=t.sibling}return null}var H0=qt.unstable_scheduleCallback,Vm=qt.unstable_cancelCallback,NE=qt.unstable_shouldYield,ME=qt.unstable_requestPaint,Ve=qt.unstable_now,FE=qt.unstable_getCurrentPriorityLevel,th=qt.unstable_ImmediatePriority,z0=qt.unstable_UserBlockingPriority,Ou=qt.unstable_NormalPriority,UE=qt.unstable_LowPriority,W0=qt.unstable_IdlePriority,wl=null,Dr=null;function BE(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:HE,jE=Math.log,VE=Math.LN2;function HE(t){return t>>>=0,t===0?32:31-(jE(t)/VE|0)|0}var Vo=64,Ho=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~r;o!==0?i=ns(o):(a&=s,a!==0&&(i=ns(a)))}else s=n&~r,s!==0?i=ns(s):a!==0&&(i=ns(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-mr(e),r=1<<n,i|=t[n],e&=~r;return i}function zE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-mr(a),o=1<<s,u=r[s];u===-1?(!(o&n)||o&i)&&(r[s]=zE(o,e)):u<=e&&(t.expiredLanes|=o),a&=~o}}function Fc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G0(){var t=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),t}function Pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function GE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-mr(n),a=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~a}}function rh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-mr(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var _e=0;function $0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q0,nh,K0,X0,Q0,Uc=!1,zo=[],xn=null,bn=null,En=null,Ps=new Map,Is=new Map,vn=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hm(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(e.pointerId)}}function Ha(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=ro(e),e!==null&&nh(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function qE(t,e,n,i,r){switch(e){case"focusin":return xn=Ha(xn,t,e,n,i,r),!0;case"dragenter":return bn=Ha(bn,t,e,n,i,r),!0;case"mouseover":return En=Ha(En,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return Ps.set(a,Ha(Ps.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Is.set(a,Ha(Is.get(a)||null,t,e,n,i,r)),!0}return!1}function Y0(t){var e=Qn(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=B0(n),e!==null){t.blockedOn=e,Q0(t.priority,function(){K0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Lc=i,n.target.dispatchEvent(i),Lc=null}else return e=ro(n),e!==null&&nh(e),t.blockedOn=n,!1;e.shift()}return!0}function zm(t,e,n){hu(t)&&n.delete(e)}function KE(){Uc=!1,xn!==null&&hu(xn)&&(xn=null),bn!==null&&hu(bn)&&(bn=null),En!==null&&hu(En)&&(En=null),Ps.forEach(zm),Is.forEach(zm)}function za(t,e){t.blockedOn===e&&(t.blockedOn=null,Uc||(Uc=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,KE)))}function As(t){function e(r){return za(r,t)}if(0<zo.length){za(zo[0],t);for(var n=1;n<zo.length;n++){var i=zo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(xn!==null&&za(xn,t),bn!==null&&za(bn,t),En!==null&&za(En,t),Ps.forEach(e),Is.forEach(e),n=0;n<vn.length;n++)i=vn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Y0(n),n.blockedOn===null&&vn.shift()}var Xi=on.ReactCurrentBatchConfig,Ru=!0;function XE(t,e,n,i){var r=_e,a=Xi.transition;Xi.transition=null;try{_e=1,ih(t,e,n,i)}finally{_e=r,Xi.transition=a}}function QE(t,e,n,i){var r=_e,a=Xi.transition;Xi.transition=null;try{_e=4,ih(t,e,n,i)}finally{_e=r,Xi.transition=a}}function ih(t,e,n,i){if(Ru){var r=Bc(t,e,n,i);if(r===null)Ud(t,e,i,Nu,n),Hm(t,i);else if(qE(r,t,e,n,i))i.stopPropagation();else if(Hm(t,i),e&4&&-1<$E.indexOf(t)){for(;r!==null;){var a=ro(r);if(a!==null&&q0(a),a=Bc(t,e,n,i),a===null&&Ud(t,e,i,Nu,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Ud(t,e,i,null,n)}}var Nu=null;function Bc(t,e,n,i){if(Nu=null,t=eh(i),t=Qn(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nu=t,null}function J0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FE()){case th:return 1;case z0:return 4;case Ou:case UE:return 16;case W0:return 536870912;default:return 16}default:return 16}}var _n=null,ah=null,pu=null;function Z0(){if(pu)return pu;var t,e=ah,n=e.length,i,r="value"in _n?_n.value:_n.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return pu=r.slice(t,1<i?1-i:void 0)}function mu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wo(){return!0}function Wm(){return!1}function Qt(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wo:Wm,this.isPropagationStopped=Wm,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=Qt(Sa),to=Ne({},Sa,{view:0,detail:0}),YE=Qt(to),Id,Ad,Wa,kl=Ne({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(Id=t.screenX-Wa.screenX,Ad=t.screenY-Wa.screenY):Ad=Id=0,Wa=t),Id)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),Gm=Qt(kl),JE=Ne({},kl,{dataTransfer:0}),ZE=Qt(JE),e1=Ne({},to,{relatedTarget:0}),Dd=Qt(e1),t1=Ne({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),r1=Qt(t1),n1=Ne({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i1=Qt(n1),a1=Ne({},Sa,{data:0}),$m=Qt(a1),s1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u1[t])?!!e[t]:!1}function oh(){return l1}var d1=Ne({},to,{key:function(t){if(t.key){var e=s1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(t){return t.type==="keypress"?mu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c1=Qt(d1),f1=Ne({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Qt(f1),h1=Ne({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),p1=Qt(h1),m1=Ne({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),g1=Qt(m1),v1=Ne({},kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y1=Qt(v1),_1=[9,13,27,32],uh=Yr&&"CompositionEvent"in window,hs=null;Yr&&"documentMode"in document&&(hs=document.documentMode);var T1=Yr&&"TextEvent"in window&&!hs,ey=Yr&&(!uh||hs&&8<hs&&11>=hs),Km=String.fromCharCode(32),Xm=!1;function ty(t,e){switch(t){case"keyup":return _1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ry(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oi=!1;function S1(t,e){switch(t){case"compositionend":return ry(e);case"keypress":return e.which!==32?null:(Xm=!0,Km);case"textInput":return t=e.data,t===Km&&Xm?null:t;default:return null}}function x1(t,e){if(Oi)return t==="compositionend"||!uh&&ty(t,e)?(t=Z0(),pu=ah=_n=null,Oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ey&&e.locale!=="ko"?null:e.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b1[t.type]:e==="textarea"}function ny(t,e,n,i){R0(i),e=Mu(e,"onChange"),0<e.length&&(n=new sh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ps=null,Ds=null;function E1(t){py(t,0)}function Pl(t){var e=Ni(t);if(k0(e))return t}function C1(t,e){if(t==="change")return e}var iy=!1;if(Yr){var Od;if(Yr){var Ld="oninput"in document;if(!Ld){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Ld=typeof Ym.oninput=="function"}Od=Ld}else Od=!1;iy=Od&&(!document.documentMode||9<document.documentMode)}function Jm(){ps&&(ps.detachEvent("onpropertychange",ay),Ds=ps=null)}function ay(t){if(t.propertyName==="value"&&Pl(Ds)){var e=[];ny(e,Ds,t,eh(t)),U0(E1,e)}}function w1(t,e,n){t==="focusin"?(Jm(),ps=e,Ds=n,ps.attachEvent("onpropertychange",ay)):t==="focusout"&&Jm()}function k1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(Ds)}function P1(t,e){if(t==="click")return Pl(e)}function I1(t,e){if(t==="input"||t==="change")return Pl(e)}function A1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:A1;function Os(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Sc.call(e,r)||!_r(t[r],e[r]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,e){var n=Zm(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function sy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oy(){for(var t=window,e=Iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D1(t){var e=oy(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sy(n.ownerDocument.documentElement,n)){if(i!==null&&lh(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=i.end===void 0?a:Math.min(i.end,r),!t.extend&&a>i&&(r=i,i=a,a=r),r=eg(n,a);var s=eg(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O1=Yr&&"documentMode"in document&&11>=document.documentMode,Li=null,jc=null,ms=null,Vc=!1;function tg(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vc||Li==null||Li!==Iu(i)||(i=Li,"selectionStart"in i&&lh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ms&&Os(ms,i)||(ms=i,i=Mu(jc,"onSelect"),0<i.length&&(e=new sh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Li)))}function Go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ri={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},Rd={},uy={};Yr&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Il(t){if(Rd[t])return Rd[t];if(!Ri[t])return t;var e=Ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uy)return Rd[t]=e[n];return t}var ly=Il("animationend"),dy=Il("animationiteration"),cy=Il("animationstart"),fy=Il("transitionend"),hy=new Map,rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){hy.set(t,e),fi(e,[t])}for(var Nd=0;Nd<rg.length;Nd++){var Md=rg[Nd],L1=Md.toLowerCase(),R1=Md[0].toUpperCase()+Md.slice(1);Nn(L1,"on"+R1)}Nn(ly,"onAnimationEnd");Nn(dy,"onAnimationIteration");Nn(cy,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(fy,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function ng(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,LE(i,e,void 0,t),t.currentTarget=null}function py(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break e;ng(r,o,l),a=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,l=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break e;ng(r,o,l),a=u}}}if(Du)throw t=Mc,Du=!1,Mc=null,t}function we(t,e){var n=e[$c];n===void 0&&(n=e[$c]=new Set);var i=t+"__bubble";n.has(i)||(my(e,t,2,!1),n.add(i))}function Fd(t,e,n){var i=0;e&&(i|=4),my(n,t,i,e)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Ls(t){if(!t[$o]){t[$o]=!0,x0.forEach(function(n){n!=="selectionchange"&&(N1.has(n)||Fd(n,!1,t),Fd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$o]||(e[$o]=!0,Fd("selectionchange",!1,e))}}function my(t,e,n,i){switch(J0(e)){case 1:var r=XE;break;case 4:r=QE;break;default:r=ih}n=r.bind(null,e,n,t),r=void 0,!Nc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ud(t,e,n,i,r){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;s=s.return}for(;o!==null;){if(s=Qn(o),s===null)return;if(u=s.tag,u===5||u===6){i=a=s;continue e}o=o.parentNode}}i=i.return}U0(function(){var l=a,d=eh(n),h=[];e:{var f=hy.get(t);if(f!==void 0){var v=sh,T=t;switch(t){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":v=c1;break;case"focusin":T="focus",v=Dd;break;case"focusout":T="blur",v=Dd;break;case"beforeblur":case"afterblur":v=Dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ZE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=p1;break;case ly:case dy:case cy:v=r1;break;case fy:v=g1;break;case"scroll":v=YE;break;case"wheel":v=y1;break;case"copy":case"cut":case"paste":v=i1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qm}var b=(e&4)!==0,E=!b&&t==="scroll",x=b?f!==null?f+"Capture":null:f;b=[];for(var C=l,P;C!==null;){P=C;var A=P.stateNode;if(P.tag===5&&A!==null&&(P=A,x!==null&&(A=ks(C,x),A!=null&&b.push(Rs(C,A,P)))),E)break;C=C.return}0<b.length&&(f=new v(f,T,null,n,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Lc&&(T=n.relatedTarget||n.fromElement)&&(Qn(T)||T[Jr]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(T=n.relatedTarget||n.toElement,v=l,T=T?Qn(T):null,T!==null&&(E=hi(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(v=null,T=l),v!==T)){if(b=Gm,A="onMouseLeave",x="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(b=qm,A="onPointerLeave",x="onPointerEnter",C="pointer"),E=v==null?f:Ni(v),P=T==null?f:Ni(T),f=new b(A,C+"leave",v,n,d),f.target=E,f.relatedTarget=P,A=null,Qn(d)===l&&(b=new b(x,C+"enter",T,n,d),b.target=P,b.relatedTarget=E,A=b),E=A,v&&T)t:{for(b=v,x=T,C=0,P=b;P;P=Si(P))C++;for(P=0,A=x;A;A=Si(A))P++;for(;0<C-P;)b=Si(b),C--;for(;0<P-C;)x=Si(x),P--;for(;C--;){if(b===x||x!==null&&b===x.alternate)break t;b=Si(b),x=Si(x)}b=null}else b=null;v!==null&&ig(h,f,v,b,!1),T!==null&&E!==null&&ig(h,E,T,b,!0)}}e:{if(f=l?Ni(l):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var L=C1;else if(Qm(f))if(iy)L=I1;else{L=k1;var B=w1}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=P1);if(L&&(L=L(t,l))){ny(h,L,n,d);break e}B&&B(t,f,l),t==="focusout"&&(B=f._wrapperState)&&B.controlled&&f.type==="number"&&Pc(f,"number",f.value)}switch(B=l?Ni(l):window,t){case"focusin":(Qm(B)||B.contentEditable==="true")&&(Li=B,jc=l,ms=null);break;case"focusout":ms=jc=Li=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,tg(h,n,d);break;case"selectionchange":if(O1)break;case"keydown":case"keyup":tg(h,n,d)}var F;if(uh)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Oi?ty(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(ey&&n.locale!=="ko"&&(Oi||M!=="onCompositionStart"?M==="onCompositionEnd"&&Oi&&(F=Z0()):(_n=d,ah="value"in _n?_n.value:_n.textContent,Oi=!0)),B=Mu(l,M),0<B.length&&(M=new $m(M,t,null,n,d),h.push({event:M,listeners:B}),F?M.data=F:(F=ry(n),F!==null&&(M.data=F)))),(F=T1?S1(t,n):x1(t,n))&&(l=Mu(l,"onBeforeInput"),0<l.length&&(d=new $m("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:l}),d.data=F))}py(h,e)})}function Rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=ks(t,n),a!=null&&i.unshift(Rs(t,a,r)),a=ks(t,e),a!=null&&i.push(Rs(t,a,r))),t=t.return}return i}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ig(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===i)break;o.tag===5&&l!==null&&(o=l,r?(u=ks(n,a),u!=null&&s.unshift(Rs(n,u,o))):r||(u=ks(n,a),u!=null&&s.push(Rs(n,u,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var M1=/\r\n?/g,F1=/\u0000|\uFFFD/g;function ag(t){return(typeof t=="string"?t:""+t).replace(M1,`
`).replace(F1,"")}function qo(t,e,n){if(e=ag(e),ag(t)!==e&&n)throw Error(z(425))}function Fu(){}var Hc=null,zc=null;function Wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(t){return sg.resolve(null).then(t).catch(j1)}:Gc;function j1(t){setTimeout(function(){throw t})}function Bd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),As(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);As(e)}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),kr="__reactFiber$"+xa,Ns="__reactProps$"+xa,Jr="__reactContainer$"+xa,$c="__reactEvents$"+xa,V1="__reactListeners$"+xa,H1="__reactHandles$"+xa;function Qn(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=og(t);t!==null;){if(n=t[kr])return n;t=og(t)}return e}t=n,n=t.parentNode}return null}function ro(t){return t=t[kr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Al(t){return t[Ns]||null}var qc=[],Mi=-1;function Mn(t){return{current:t}}function Ie(t){0>Mi||(t.current=qc[Mi],qc[Mi]=null,Mi--)}function Ee(t,e){Mi++,qc[Mi]=t.current,t.current=e}var Dn={},ht=Mn(Dn),Rt=Mn(!1),si=Dn;function ra(t,e){var n=t.type.contextTypes;if(!n)return Dn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Nt(t){return t=t.childContextTypes,t!=null}function Uu(){Ie(Rt),Ie(ht)}function ug(t,e,n){if(ht.current!==Dn)throw Error(z(168));Ee(ht,e),Ee(Rt,n)}function gy(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,wE(t)||"Unknown",r));return Ne({},n,i)}function Bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dn,si=ht.current,Ee(ht,t),Ee(Rt,Rt.current),!0}function lg(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=gy(t,e,si),i.__reactInternalMemoizedMergedChildContext=t,Ie(Rt),Ie(ht),Ee(ht,t)):Ie(Rt),Ee(Rt,n)}var Hr=null,Dl=!1,jd=!1;function vy(t){Hr===null?Hr=[t]:Hr.push(t)}function z1(t){Dl=!0,vy(t)}function Fn(){if(!jd&&Hr!==null){jd=!0;var t=0,e=_e;try{var n=Hr;for(_e=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Hr=null,Dl=!1}catch(r){throw Hr!==null&&(Hr=Hr.slice(t+1)),H0(th,Fn),r}finally{_e=e,jd=!1}}return null}var Fi=[],Ui=0,ju=null,Vu=0,Jt=[],Zt=0,oi=null,Gr=1,$r="";function $n(t,e){Fi[Ui++]=Vu,Fi[Ui++]=ju,ju=t,Vu=e}function yy(t,e,n){Jt[Zt++]=Gr,Jt[Zt++]=$r,Jt[Zt++]=oi,oi=t;var i=Gr;t=$r;var r=32-mr(i)-1;i&=~(1<<r),n+=1;var a=32-mr(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Gr=1<<32-mr(e)+r|n<<r|i,$r=a+t}else Gr=1<<a|n<<r|i,$r=t}function dh(t){t.return!==null&&($n(t,1),yy(t,1,0))}function ch(t){for(;t===ju;)ju=Fi[--Ui],Fi[Ui]=null,Vu=Fi[--Ui],Fi[Ui]=null;for(;t===oi;)oi=Jt[--Zt],Jt[Zt]=null,$r=Jt[--Zt],Jt[Zt]=null,Gr=Jt[--Zt],Jt[Zt]=null}var $t=null,Gt=null,De=!1,hr=null;function _y(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Gt=Cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oi!==null?{id:Gr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Gt=null,!0):!1;default:return!1}}function Kc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xc(t){if(De){var e=Gt;if(e){var n=e;if(!dg(t,e)){if(Kc(t))throw Error(z(418));e=Cn(n.nextSibling);var i=$t;e&&dg(t,e)?_y(i,n):(t.flags=t.flags&-4097|2,De=!1,$t=t)}}else{if(Kc(t))throw Error(z(418));t.flags=t.flags&-4097|2,De=!1,$t=t}}}function cg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Ko(t){if(t!==$t)return!1;if(!De)return cg(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wc(t.type,t.memoizedProps)),e&&(e=Gt)){if(Kc(t))throw Ty(),Error(z(418));for(;e;)_y(t,e),e=Cn(e.nextSibling)}if(cg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=$t?Cn(t.stateNode.nextSibling):null;return!0}function Ty(){for(var t=Gt;t;)t=Cn(t.nextSibling)}function na(){Gt=$t=null,De=!1}function fh(t){hr===null?hr=[t]:hr.push(t)}var W1=on.ReactCurrentBatchConfig;function cr(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hu=Mn(null),zu=null,Bi=null,hh=null;function ph(){hh=Bi=zu=null}function mh(t){var e=Hu.current;Ie(Hu),t._currentValue=e}function Qc(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){zu=t,hh=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(hh!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(zu===null)throw Error(z(308));Bi=t,zu.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Yn=null;function gh(t){Yn===null?Yn=[t]:Yn.push(t)}function Sy(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,gh(e)):(n.next=r.next,r.next=n),e.interleaved=n,Zr(t,i)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gn=!1;function vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Zr(t,n)}return r=i.interleaved,r===null?(e.next=e,gh(i)):(e.next=r.next,r.next=e),i.interleaved=e,Zr(t,n)}function gu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,rh(t,n)}}function fg(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wu(t,e,n,i){var r=t.updateQueue;gn=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,l=u.next;u.next=null,s===null?a=l:s.next=l,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=u))}if(a!==null){var h=r.baseState;s=0,d=l=u=null,o=a;do{var f=o.lane,v=o.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var T=t,b=o;switch(f=e,v=n,b.tag){case 1:if(T=b.payload,typeof T=="function"){h=T.call(v,h,f);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=b.payload,f=typeof T=="function"?T.call(v,h,f):T,f==null)break e;h=Ne({},h,f);break e;case 2:gn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(l=d=v,u=h):d=d.next=v,s|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(d===null&&(u=h),r.baseState=u,r.firstBaseUpdate=l,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);li|=s,t.lanes=s,t.memoizedState=h}}function hg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var by=new S0.Component().refs;function Yc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ol={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Et(),r=Pn(t),a=qr(i,r);a.payload=e,n!=null&&(a.callback=n),e=wn(t,a,r),e!==null&&(gr(e,t,r,i),gu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Et(),r=Pn(t),a=qr(i,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=wn(t,a,r),e!==null&&(gr(e,t,r,i),gu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),i=Pn(t),r=qr(n,i);r.tag=2,e!=null&&(r.callback=e),e=wn(t,r,i),e!==null&&(gr(e,t,i,n),gu(e,t,i))}};function pg(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!Os(n,i)||!Os(r,a):!0}function Ey(t,e,n){var i=!1,r=Dn,a=e.contextType;return typeof a=="object"&&a!==null?a=nr(a):(r=Nt(e)?si:ht.current,i=e.contextTypes,a=(i=i!=null)?ra(t,r):Dn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ol,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function mg(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ol.enqueueReplaceState(e,e.state,null)}function Jc(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=by,vh(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=nr(a):(a=Nt(e)?si:ht.current,r.context=ra(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Yc(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ol.enqueueReplaceState(r,r.state,null),Wu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var r=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=r.refs;o===by&&(o=r.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gg(t){var e=t._init;return e(t._payload)}function Cy(t){function e(x,C){if(t){var P=x.deletions;P===null?(x.deletions=[C],x.flags|=16):P.push(C)}}function n(x,C){if(!t)return null;for(;C!==null;)e(x,C),C=C.sibling;return null}function i(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function r(x,C){return x=In(x,C),x.index=0,x.sibling=null,x}function a(x,C,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<C?(x.flags|=2,C):P):(x.flags|=2,C)):(x.flags|=1048576,C)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,C,P,A){return C===null||C.tag!==6?(C=qd(P,x.mode,A),C.return=x,C):(C=r(C,P),C.return=x,C)}function u(x,C,P,A){var L=P.type;return L===Di?d(x,C,P.props.children,A,P.key):C!==null&&(C.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===mn&&gg(L)===C.type)?(A=r(C,P.props),A.ref=Ga(x,C,P),A.return=x,A):(A=xu(P.type,P.key,P.props,null,x.mode,A),A.ref=Ga(x,C,P),A.return=x,A)}function l(x,C,P,A){return C===null||C.tag!==4||C.stateNode.containerInfo!==P.containerInfo||C.stateNode.implementation!==P.implementation?(C=Kd(P,x.mode,A),C.return=x,C):(C=r(C,P.children||[]),C.return=x,C)}function d(x,C,P,A,L){return C===null||C.tag!==7?(C=ti(P,x.mode,A,L),C.return=x,C):(C=r(C,P),C.return=x,C)}function h(x,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return C=qd(""+C,x.mode,P),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Uo:return P=xu(C.type,C.key,C.props,null,x.mode,P),P.ref=Ga(x,null,C),P.return=x,P;case Ai:return C=Kd(C,x.mode,P),C.return=x,C;case mn:var A=C._init;return h(x,A(C._payload),P)}if(rs(C)||ja(C))return C=ti(C,x.mode,P,null),C.return=x,C;Xo(x,C)}return null}function f(x,C,P,A){var L=C!==null?C.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return L!==null?null:o(x,C,""+P,A);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Uo:return P.key===L?u(x,C,P,A):null;case Ai:return P.key===L?l(x,C,P,A):null;case mn:return L=P._init,f(x,C,L(P._payload),A)}if(rs(P)||ja(P))return L!==null?null:d(x,C,P,A,null);Xo(x,P)}return null}function v(x,C,P,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(P)||null,o(C,x,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Uo:return x=x.get(A.key===null?P:A.key)||null,u(C,x,A,L);case Ai:return x=x.get(A.key===null?P:A.key)||null,l(C,x,A,L);case mn:var B=A._init;return v(x,C,P,B(A._payload),L)}if(rs(A)||ja(A))return x=x.get(P)||null,d(C,x,A,L,null);Xo(C,A)}return null}function T(x,C,P,A){for(var L=null,B=null,F=C,M=C=0,j=null;F!==null&&M<P.length;M++){F.index>M?(j=F,F=null):j=F.sibling;var U=f(x,F,P[M],A);if(U===null){F===null&&(F=j);break}t&&F&&U.alternate===null&&e(x,F),C=a(U,C,M),B===null?L=U:B.sibling=U,B=U,F=j}if(M===P.length)return n(x,F),De&&$n(x,M),L;if(F===null){for(;M<P.length;M++)F=h(x,P[M],A),F!==null&&(C=a(F,C,M),B===null?L=F:B.sibling=F,B=F);return De&&$n(x,M),L}for(F=i(x,F);M<P.length;M++)j=v(F,x,M,P[M],A),j!==null&&(t&&j.alternate!==null&&F.delete(j.key===null?M:j.key),C=a(j,C,M),B===null?L=j:B.sibling=j,B=j);return t&&F.forEach(function(K){return e(x,K)}),De&&$n(x,M),L}function b(x,C,P,A){var L=ja(P);if(typeof L!="function")throw Error(z(150));if(P=L.call(P),P==null)throw Error(z(151));for(var B=L=null,F=C,M=C=0,j=null,U=P.next();F!==null&&!U.done;M++,U=P.next()){F.index>M?(j=F,F=null):j=F.sibling;var K=f(x,F,U.value,A);if(K===null){F===null&&(F=j);break}t&&F&&K.alternate===null&&e(x,F),C=a(K,C,M),B===null?L=K:B.sibling=K,B=K,F=j}if(U.done)return n(x,F),De&&$n(x,M),L;if(F===null){for(;!U.done;M++,U=P.next())U=h(x,U.value,A),U!==null&&(C=a(U,C,M),B===null?L=U:B.sibling=U,B=U);return De&&$n(x,M),L}for(F=i(x,F);!U.done;M++,U=P.next())U=v(F,x,M,U.value,A),U!==null&&(t&&U.alternate!==null&&F.delete(U.key===null?M:U.key),C=a(U,C,M),B===null?L=U:B.sibling=U,B=U);return t&&F.forEach(function(q){return e(x,q)}),De&&$n(x,M),L}function E(x,C,P,A){if(typeof P=="object"&&P!==null&&P.type===Di&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Uo:e:{for(var L=P.key,B=C;B!==null;){if(B.key===L){if(L=P.type,L===Di){if(B.tag===7){n(x,B.sibling),C=r(B,P.props.children),C.return=x,x=C;break e}}else if(B.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===mn&&gg(L)===B.type){n(x,B.sibling),C=r(B,P.props),C.ref=Ga(x,B,P),C.return=x,x=C;break e}n(x,B);break}else e(x,B);B=B.sibling}P.type===Di?(C=ti(P.props.children,x.mode,A,P.key),C.return=x,x=C):(A=xu(P.type,P.key,P.props,null,x.mode,A),A.ref=Ga(x,C,P),A.return=x,x=A)}return s(x);case Ai:e:{for(B=P.key;C!==null;){if(C.key===B)if(C.tag===4&&C.stateNode.containerInfo===P.containerInfo&&C.stateNode.implementation===P.implementation){n(x,C.sibling),C=r(C,P.children||[]),C.return=x,x=C;break e}else{n(x,C);break}else e(x,C);C=C.sibling}C=Kd(P,x.mode,A),C.return=x,x=C}return s(x);case mn:return B=P._init,E(x,C,B(P._payload),A)}if(rs(P))return T(x,C,P,A);if(ja(P))return b(x,C,P,A);Xo(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,C!==null&&C.tag===6?(n(x,C.sibling),C=r(C,P),C.return=x,x=C):(n(x,C),C=qd(P,x.mode,A),C.return=x,x=C),s(x)):n(x,C)}return E}var ia=Cy(!0),wy=Cy(!1),no={},Or=Mn(no),Ms=Mn(no),Fs=Mn(no);function Jn(t){if(t===no)throw Error(z(174));return t}function yh(t,e){switch(Ee(Fs,e),Ee(Ms,t),Ee(Or,no),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ac(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ac(e,t)}Ie(Or),Ee(Or,e)}function aa(){Ie(Or),Ie(Ms),Ie(Fs)}function ky(t){Jn(Fs.current);var e=Jn(Or.current),n=Ac(e,t.type);e!==n&&(Ee(Ms,t),Ee(Or,n))}function _h(t){Ms.current===t&&(Ie(Or),Ie(Ms))}var Le=Mn(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vd=[];function Th(){for(var t=0;t<Vd.length;t++)Vd[t]._workInProgressVersionPrimary=null;Vd.length=0}var vu=on.ReactCurrentDispatcher,Hd=on.ReactCurrentBatchConfig,ui=0,Re=null,$e=null,Xe=null,$u=!1,gs=!1,Us=0,G1=0;function ut(){throw Error(z(321))}function Sh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function xh(t,e,n,i,r,a){if(ui=a,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?X1:Q1,t=n(i,r),gs){a=0;do{if(gs=!1,Us=0,25<=a)throw Error(z(301));a+=1,Xe=$e=null,e.updateQueue=null,vu.current=Y1,t=n(i,r)}while(gs)}if(vu.current=qu,e=$e!==null&&$e.next!==null,ui=0,Xe=$e=Re=null,$u=!1,e)throw Error(z(300));return t}function bh(){var t=Us!==0;return Us=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Re.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function ir(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=Xe===null?Re.memoizedState:Xe.next;if(e!==null)Xe=e,$e=t;else{if(t===null)throw Error(z(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Xe===null?Re.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Bs(t,e){return typeof e=="function"?e(t):e}function zd(t){var e=ir(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=$e,r=i.baseQueue,a=n.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,i=i.baseState;var o=s=null,u=null,l=a;do{var d=l.lane;if((ui&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),i=l.hasEagerState?l.eagerState:t(i,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=i):u=u.next=h,Re.lanes|=d,li|=d}l=l.next}while(l!==null&&l!==a);u===null?s=i:u.next=o,_r(i,e.memoizedState)||(Lt=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do a=r.lane,Re.lanes|=a,li|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wd(t){var e=ir(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);_r(a,e.memoizedState)||(Lt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Py(){}function Iy(t,e){var n=Re,i=ir(),r=e(),a=!_r(i.memoizedState,r);if(a&&(i.memoizedState=r,Lt=!0),i=i.queue,Eh(Oy.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,js(9,Dy.bind(null,n,i,r,e),void 0,null),Ye===null)throw Error(z(349));ui&30||Ay(n,e,r)}return r}function Ay(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dy(t,e,n,i){e.value=n,e.getSnapshot=i,Ly(e)&&Ry(t)}function Oy(t,e,n){return n(function(){Ly(e)&&Ry(t)})}function Ly(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function Ry(t){var e=Zr(t,1);e!==null&&gr(e,t,1,-1)}function vg(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=K1.bind(null,Re,t),[e.memoizedState,t]}function js(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Ny(){return ir().memoizedState}function yu(t,e,n,i){var r=Er();Re.flags|=t,r.memoizedState=js(1|e,n,void 0,i===void 0?null:i)}function Ll(t,e,n,i){var r=ir();i=i===void 0?null:i;var a=void 0;if($e!==null){var s=$e.memoizedState;if(a=s.destroy,i!==null&&Sh(i,s.deps)){r.memoizedState=js(e,n,a,i);return}}Re.flags|=t,r.memoizedState=js(1|e,n,a,i)}function yg(t,e){return yu(8390656,8,t,e)}function Eh(t,e){return Ll(2048,8,t,e)}function My(t,e){return Ll(4,2,t,e)}function Fy(t,e){return Ll(4,4,t,e)}function Uy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function By(t,e,n){return n=n!=null?n.concat([t]):null,Ll(4,4,Uy.bind(null,e,t),n)}function Ch(){}function jy(t,e){var n=ir();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Sh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Vy(t,e){var n=ir();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Sh(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Hy(t,e,n){return ui&21?(_r(n,e)||(n=G0(),Re.lanes|=n,li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function $1(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var i=Hd.transition;Hd.transition={};try{t(!1),e()}finally{_e=n,Hd.transition=i}}function zy(){return ir().memoizedState}function q1(t,e,n){var i=Pn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Wy(t))Gy(e,n);else if(n=Sy(t,e,n,i),n!==null){var r=Et();gr(n,t,i,r),$y(n,e,i)}}function K1(t,e,n){var i=Pn(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wy(t))Gy(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,_r(o,s)){var u=e.interleaved;u===null?(r.next=r,gh(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=Sy(t,e,r,i),n!==null&&(r=Et(),gr(n,t,i,r),$y(n,e,i))}}function Wy(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Gy(t,e){gs=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $y(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,rh(t,n)}}var qu={readContext:nr,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},X1={readContext:nr,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:yg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yu(4194308,4,Uy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yu(4194308,4,t,e)},useInsertionEffect:function(t,e){return yu(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Er();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=q1.bind(null,Re,t),[i.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:vg,useDebugValue:Ch,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=vg(!1),e=t[0];return t=$1.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Re,r=Er();if(De){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ye===null)throw Error(z(349));ui&30||Ay(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,yg(Oy.bind(null,i,a,t),[t]),i.flags|=2048,js(9,Dy.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=Er(),e=Ye.identifierPrefix;if(De){var n=$r,i=Gr;n=(i&~(1<<32-mr(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Us++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=G1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q1={readContext:nr,useCallback:jy,useContext:nr,useEffect:Eh,useImperativeHandle:By,useInsertionEffect:My,useLayoutEffect:Fy,useMemo:Vy,useReducer:zd,useRef:Ny,useState:function(){return zd(Bs)},useDebugValue:Ch,useDeferredValue:function(t){var e=ir();return Hy(e,$e.memoizedState,t)},useTransition:function(){var t=zd(Bs)[0],e=ir().memoizedState;return[t,e]},useMutableSource:Py,useSyncExternalStore:Iy,useId:zy,unstable_isNewReconciler:!1},Y1={readContext:nr,useCallback:jy,useContext:nr,useEffect:Eh,useImperativeHandle:By,useInsertionEffect:My,useLayoutEffect:Fy,useMemo:Vy,useReducer:Wd,useRef:Ny,useState:function(){return Wd(Bs)},useDebugValue:Ch,useDeferredValue:function(t){var e=ir();return $e===null?e.memoizedState=t:Hy(e,$e.memoizedState,t)},useTransition:function(){var t=Wd(Bs)[0],e=ir().memoizedState;return[t,e]},useMutableSource:Py,useSyncExternalStore:Iy,useId:zy,unstable_isNewReconciler:!1};function sa(t,e){try{var n="",i=e;do n+=CE(i),i=i.return;while(i);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Gd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var J1=typeof WeakMap=="function"?WeakMap:Map;function qy(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Xu||(Xu=!0,df=i),Zc(t,e)},n}function Ky(t,e,n){n=qr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Zc(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zc(t,e),typeof i!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _g(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new J1;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=fC.bind(null,t,e,n),e.then(t,t))}function Tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sg(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,wn(n,e,1))),n.lanes|=1),t)}var Z1=on.ReactCurrentOwner,Lt=!1;function yt(t,e,n,i){e.child=t===null?wy(e,null,n,i):ia(e,t.child,n,i)}function xg(t,e,n,i,r){n=n.render;var a=e.ref;return Qi(e,r),i=xh(t,e,n,i,a,r),n=bh(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,en(t,e,r)):(De&&n&&dh(e),e.flags|=1,yt(t,e,i,r),e.child)}function bg(t,e,n,i,r){if(t===null){var a=n.type;return typeof a=="function"&&!Lh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Xy(t,e,a,i,r)):(t=xu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Os,n(s,i)&&t.ref===e.ref)return en(t,e,r)}return e.flags|=1,t=In(a,i),t.ref=e.ref,t.return=e,e.child=t}function Xy(t,e,n,i,r){if(t!==null){var a=t.memoizedProps;if(Os(a,i)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=i=a,(t.lanes&r)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,en(t,e,r)}return ef(t,e,n,i,r)}function Qy(t,e,n){var i=e.pendingProps,r=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Vi,Ht),Ht|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Vi,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Ee(Vi,Ht),Ht|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Ee(Vi,Ht),Ht|=i;return yt(t,e,r,n),e.child}function Yy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ef(t,e,n,i,r){var a=Nt(n)?si:ht.current;return a=ra(e,a),Qi(e,r),n=xh(t,e,n,i,a,r),i=bh(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,en(t,e,r)):(De&&i&&dh(e),e.flags|=1,yt(t,e,n,r),e.child)}function Eg(t,e,n,i,r){if(Nt(n)){var a=!0;Bu(e)}else a=!1;if(Qi(e,r),e.stateNode===null)_u(t,e),Ey(e,n,i),Jc(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=nr(l):(l=Nt(n)?si:ht.current,l=ra(e,l));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||u!==l)&&mg(e,s,i,l),gn=!1;var f=e.memoizedState;s.state=f,Wu(e,i,s,r),u=e.memoizedState,o!==i||f!==u||Rt.current||gn?(typeof d=="function"&&(Yc(e,n,d,i),u=e.memoizedState),(o=gn||pg(e,n,o,i,f,u,l))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=l,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,xy(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:cr(e.type,o),s.props=l,h=e.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=nr(u):(u=Nt(n)?si:ht.current,u=ra(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==u)&&mg(e,s,i,u),gn=!1,f=e.memoizedState,s.state=f,Wu(e,i,s,r);var T=e.memoizedState;o!==h||f!==T||Rt.current||gn?(typeof v=="function"&&(Yc(e,n,v,i),T=e.memoizedState),(l=gn||pg(e,n,l,i,f,T,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,T,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,T,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),s.props=i,s.state=T,s.context=u,i=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return tf(t,e,n,i,a,r)}function tf(t,e,n,i,r,a){Yy(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&lg(e,n,!1),en(t,e,a);i=e.stateNode,Z1.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=ia(e,t.child,null,a),e.child=ia(e,null,o,a)):yt(t,e,o,a),e.memoizedState=i.state,r&&lg(e,n,!0),e.child}function Jy(t){var e=t.stateNode;e.pendingContext?ug(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ug(t,e.context,!1),yh(t,e.containerInfo)}function Cg(t,e,n,i,r){return na(),fh(r),e.flags|=256,yt(t,e,n,i),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zy(t,e,n){var i=e.pendingProps,r=Le.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ee(Le,r&1),t===null)return Xc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,a?(i=e.mode,a=e.child,s={mode:"hidden",children:s},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ml(s,i,0,null),t=ti(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=nf(n),e.memoizedState=rf,t):wh(e,s));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return eC(t,e,s,i,o,r,n);if(a){a=i.fallback,s=e.mode,r=t.child,o=r.sibling;var u={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=In(r,u),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=In(o,a):(a=ti(a,s,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,s=t.child.memoizedState,s=s===null?nf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=rf,i}return a=t.child,t=a.sibling,i=In(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function wh(t,e){return e=Ml({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qo(t,e,n,i){return i!==null&&fh(i),ia(e,t.child,null,n),t=wh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eC(t,e,n,i,r,a,s){if(n)return e.flags&256?(e.flags&=-257,i=Gd(Error(z(422))),Qo(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,r=e.mode,i=Ml({mode:"visible",children:i.children},r,0,null),a=ti(a,r,s,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&ia(e,t.child,null,s),e.child.memoizedState=nf(s),e.memoizedState=rf,a);if(!(e.mode&1))return Qo(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,a=Error(z(419)),i=Gd(a,i,void 0),Qo(t,e,s,i)}if(o=(s&t.childLanes)!==0,Lt||o){if(i=Ye,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Zr(t,r),gr(i,t,r,-1))}return Oh(),i=Gd(Error(z(421))),Qo(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=hC.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,Gt=Cn(r.nextSibling),$t=e,De=!0,hr=null,t!==null&&(Jt[Zt++]=Gr,Jt[Zt++]=$r,Jt[Zt++]=oi,Gr=t.id,$r=t.overflow,oi=e),e=wh(e,i.children),e.flags|=4096,e)}function wg(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Qc(t.return,e,n)}function $d(t,e,n,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function e_(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(yt(t,e,i.children,n),i=Le.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,n,e);else if(t.tag===19)wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ee(Le,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Gu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),$d(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Gu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}$d(e,!0,n,null,a);break;case"together":$d(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function en(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tC(t,e,n){switch(e.tag){case 3:Jy(e),na();break;case 5:ky(e);break;case 1:Nt(e.type)&&Bu(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ee(Hu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ee(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Zy(t,e,n):(Ee(Le,Le.current&1),t=en(t,e,n),t!==null?t.sibling:null);Ee(Le,Le.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return e_(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(Le,Le.current),i)break;return null;case 22:case 23:return e.lanes=0,Qy(t,e,n)}return en(t,e,n)}var t_,af,r_,n_;t_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};r_=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Jn(Or.current);var a=null;switch(n){case"input":r=wc(t,r),i=wc(t,i),a=[];break;case"select":r=Ne({},r,{value:void 0}),i=Ne({},i,{value:void 0}),a=[];break;case"textarea":r=Ic(t,r),i=Ic(t,i),a=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Fu)}Dc(n,i);var s;n=null;for(l in r)if(!i.hasOwnProperty(l)&&r.hasOwnProperty(l)&&r[l]!=null)if(l==="style"){var o=r[l];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Cs.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in i){var u=i[l];if(o=r!=null?r[l]:void 0,i.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&we("scroll",t),a||o===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};n_=function(t,e,n,i){n!==i&&(e.flags|=4)};function $a(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function rC(t,e,n){var i=e.pendingProps;switch(ch(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Nt(e.type)&&Uu(),lt(e),null;case 3:return i=e.stateNode,aa(),Ie(Rt),Ie(ht),Th(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ko(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(hf(hr),hr=null))),af(t,e),lt(e),null;case 5:_h(e);var r=Jn(Fs.current);if(n=e.type,t!==null&&e.stateNode!=null)r_(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return lt(e),null}if(t=Jn(Or.current),Ko(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[kr]=e,i[Ns]=a,t=(e.mode&1)!==0,n){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(r=0;r<is.length;r++)we(is[r],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":Nm(i,a),we("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},we("invalid",i);break;case"textarea":Fm(i,a),we("invalid",i)}Dc(n,a),r=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?i.textContent!==o&&(a.suppressHydrationWarning!==!0&&qo(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&qo(i.textContent,o,t),r=["children",""+o]):Cs.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&we("scroll",i)}switch(n){case"input":Bo(i),Mm(i,a,!0);break;case"textarea":Bo(i),Um(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Fu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[kr]=e,t[Ns]=i,t_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Oc(n,i),n){case"dialog":we("cancel",t),we("close",t),r=i;break;case"iframe":case"object":case"embed":we("load",t),r=i;break;case"video":case"audio":for(r=0;r<is.length;r++)we(is[r],t);r=i;break;case"source":we("error",t),r=i;break;case"img":case"image":case"link":we("error",t),we("load",t),r=i;break;case"details":we("toggle",t),r=i;break;case"input":Nm(t,i),r=wc(t,i),we("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ne({},i,{value:void 0}),we("invalid",t);break;case"textarea":Fm(t,i),r=Ic(t,i),we("invalid",t);break;default:r=i}Dc(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?L0(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&D0(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ws(t,u):typeof u=="number"&&ws(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cs.hasOwnProperty(a)?u!=null&&a==="onScroll"&&we("scroll",t):u!=null&&Qf(t,a,u,s))}switch(n){case"input":Bo(t),Mm(t,i,!1);break;case"textarea":Bo(t),Um(t);break;case"option":i.value!=null&&t.setAttribute("value",""+An(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?$i(t,!!i.multiple,a,!1):i.defaultValue!=null&&$i(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)n_(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=Jn(Fs.current),Jn(Or.current),Ko(e)){if(i=e.stateNode,n=e.memoizedProps,i[kr]=e,(a=i.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:qo(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qo(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[kr]=e,e.stateNode=i}return lt(e),null;case 13:if(Ie(Le),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Gt!==null&&e.mode&1&&!(e.flags&128))Ty(),na(),e.flags|=98560,a=!1;else if(a=Ko(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[kr]=e}else na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),a=!1}else hr!==null&&(hf(hr),hr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?qe===0&&(qe=3):Oh())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return aa(),af(t,e),t===null&&Ls(e.stateNode.containerInfo),lt(e),null;case 10:return mh(e.type._context),lt(e),null;case 17:return Nt(e.type)&&Uu(),lt(e),null;case 19:if(Ie(Le),a=e.memoizedState,a===null)return lt(e),null;if(i=(e.flags&128)!==0,s=a.rendering,s===null)if(i)$a(a,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Gu(t),s!==null){for(e.flags|=128,$a(a,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Le,Le.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ve()>oa&&(e.flags|=128,i=!0,$a(a,!1),e.lanes=4194304)}else{if(!i)if(t=Gu(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$a(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!De)return lt(e),null}else 2*Ve()-a.renderingStartTime>oa&&n!==1073741824&&(e.flags|=128,i=!0,$a(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ve(),e.sibling=null,n=Le.current,Ee(Le,i?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Dh(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ht&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function nC(t,e){switch(ch(e),e.tag){case 1:return Nt(e.type)&&Uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),Ie(Rt),Ie(ht),Th(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _h(e),null;case 13:if(Ie(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Le),null;case 4:return aa(),null;case 10:return mh(e.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var Yo=!1,ct=!1,iC=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Me(t,e,i)}else n.current=null}function sf(t,e,n){try{n()}catch(i){Me(t,e,i)}}var kg=!1;function aC(t,e){if(Hc=Ru,t=oy(),lh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,l=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||r!==0&&h.nodeType!==3||(o=s+r),h!==a||i!==0&&h.nodeType!==3||(u=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++l===r&&(o=s),f===a&&++d===i&&(u=s),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zc={focusedElem:t,selectionRange:n},Ru=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var b=T.memoizedProps,E=T.memoizedState,x=e.stateNode,C=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:cr(e.type,b),E);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){Me(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return T=kg,kg=!1,T}function vs(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&sf(e,n,a)}r=r.next}while(r!==i)}}function Rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function of(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function i_(t){var e=t.alternate;e!==null&&(t.alternate=null,i_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[Ns],delete e[$c],delete e[V1],delete e[H1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a_(t){return t.tag===5||t.tag===3||t.tag===4}function Pg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fu));else if(i!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function lf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(lf(t,e,n),t=t.sibling;t!==null;)lf(t,e,n),t=t.sibling}var rt=null,fr=!1;function hn(t,e,n){for(n=n.child;n!==null;)s_(t,e,n),n=n.sibling}function s_(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 5:ct||ji(n,e);case 6:var i=rt,r=fr;rt=null,hn(t,e,n),rt=i,fr=r,rt!==null&&(fr?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(fr?(t=rt,n=n.stateNode,t.nodeType===8?Bd(t.parentNode,n):t.nodeType===1&&Bd(t,n),As(t)):Bd(rt,n.stateNode));break;case 4:i=rt,r=fr,rt=n.stateNode.containerInfo,fr=!0,hn(t,e,n),rt=i,fr=r;break;case 0:case 11:case 14:case 15:if(!ct&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var a=r,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&sf(n,e,s),r=r.next}while(r!==i)}hn(t,e,n);break;case 1:if(!ct&&(ji(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Me(n,e,o)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(ct=(i=ct)||n.memoizedState!==null,hn(t,e,n),ct=i):hn(t,e,n);break;default:hn(t,e,n)}}function Ig(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iC),e.forEach(function(i){var r=pC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,fr=!1;break e;case 3:rt=o.stateNode.containerInfo,fr=!0;break e;case 4:rt=o.stateNode.containerInfo,fr=!0;break e}o=o.return}if(rt===null)throw Error(z(160));s_(a,s,r),rt=null,fr=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(l){Me(r,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o_(e,t),e=e.sibling}function o_(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),br(t),i&4){try{vs(3,t,t.return),Rl(3,t)}catch(b){Me(t,t.return,b)}try{vs(5,t,t.return)}catch(b){Me(t,t.return,b)}}break;case 1:lr(e,t),br(t),i&512&&n!==null&&ji(n,n.return);break;case 5:if(lr(e,t),br(t),i&512&&n!==null&&ji(n,n.return),t.flags&32){var r=t.stateNode;try{ws(r,"")}catch(b){Me(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&P0(r,a),Oc(o,s);var l=Oc(o,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];d==="style"?L0(r,h):d==="dangerouslySetInnerHTML"?D0(r,h):d==="children"?ws(r,h):Qf(r,d,h,l)}switch(o){case"input":kc(r,a);break;case"textarea":I0(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?$i(r,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?$i(r,!!a.multiple,a.defaultValue,!0):$i(r,!!a.multiple,a.multiple?[]:"",!1))}r[Ns]=a}catch(b){Me(t,t.return,b)}}break;case 6:if(lr(e,t),br(t),i&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(b){Me(t,t.return,b)}}break;case 3:if(lr(e,t),br(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{As(e.containerInfo)}catch(b){Me(t,t.return,b)}break;case 4:lr(e,t),br(t);break;case 13:lr(e,t),br(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Ih=Ve())),i&4&&Ig(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(l=ct)||d,lr(e,t),ct=l):lr(e,t),br(t),i&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,v=f.child,f.tag){case 0:case 11:case 14:case 15:vs(4,f,f.return);break;case 1:ji(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(b){Me(i,n,b)}}break;case 5:ji(f,f.return);break;case 22:if(f.memoizedState!==null){Dg(h);continue}}v!==null?(v.return=f,ee=v):Dg(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,l?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=O0("display",s))}catch(b){Me(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(b){Me(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lr(e,t),br(t),i&4&&Ig(t);break;case 21:break;default:lr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a_(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ws(r,""),i.flags&=-33);var a=Pg(t);lf(t,a,r);break;case 3:case 4:var s=i.stateNode.containerInfo,o=Pg(t);uf(t,o,s);break;default:throw Error(z(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sC(t,e,n){ee=t,u_(t)}function u_(t,e,n){for(var i=(t.mode&1)!==0;ee!==null;){var r=ee,a=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||Yo;if(!s){var o=r.alternate,u=o!==null&&o.memoizedState!==null||ct;o=Yo;var l=ct;if(Yo=s,(ct=u)&&!l)for(ee=r;ee!==null;)s=ee,u=s.child,s.tag===22&&s.memoizedState!==null?Og(r):u!==null?(u.return=s,ee=u):Og(r);for(;a!==null;)ee=a,u_(a),a=a.sibling;ee=r,Yo=o,ct=l}Ag(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,ee=a):Ag(t)}}function Ag(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Rl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ct)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&hg(e,a,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hg(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&As(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ct||e.flags&512&&of(e)}catch(f){Me(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Dg(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Og(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rl(4,e)}catch(u){Me(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){Me(e,r,u)}}var a=e.return;try{of(e)}catch(u){Me(e,a,u)}break;case 5:var s=e.return;try{of(e)}catch(u){Me(e,s,u)}}}catch(u){Me(e,e.return,u)}if(e===t){ee=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ee=o;break}ee=e.return}}var oC=Math.ceil,Ku=on.ReactCurrentDispatcher,kh=on.ReactCurrentOwner,tr=on.ReactCurrentBatchConfig,he=0,Ye=null,ze=null,at=0,Ht=0,Vi=Mn(0),qe=0,Vs=null,li=0,Nl=0,Ph=0,ys=null,At=null,Ih=0,oa=1/0,jr=null,Xu=!1,df=null,kn=null,Jo=!1,Tn=null,Qu=0,_s=0,cf=null,Tu=-1,Su=0;function Et(){return he&6?Ve():Tu!==-1?Tu:Tu=Ve()}function Pn(t){return t.mode&1?he&2&&at!==0?at&-at:W1.transition!==null?(Su===0&&(Su=G0()),Su):(t=_e,t!==0||(t=window.event,t=t===void 0?16:J0(t.type)),t):1}function gr(t,e,n,i){if(50<_s)throw _s=0,cf=null,Error(z(185));eo(t,n,i),(!(he&2)||t!==Ye)&&(t===Ye&&(!(he&2)&&(Nl|=n),qe===4&&yn(t,at)),Mt(t,i),n===1&&he===0&&!(e.mode&1)&&(oa=Ve()+500,Dl&&Fn()))}function Mt(t,e){var n=t.callbackNode;WE(t,e);var i=Lu(t,t===Ye?at:0);if(i===0)n!==null&&Vm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Vm(n),e===1)t.tag===0?z1(Lg.bind(null,t)):vy(Lg.bind(null,t)),B1(function(){!(he&6)&&Fn()}),n=null;else{switch($0(i)){case 1:n=th;break;case 4:n=z0;break;case 16:n=Ou;break;case 536870912:n=W0;break;default:n=Ou}n=g_(n,l_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l_(t,e){if(Tu=-1,Su=0,he&6)throw Error(z(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var i=Lu(t,t===Ye?at:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Yu(t,i);else{e=i;var r=he;he|=2;var a=c_();(Ye!==t||at!==e)&&(jr=null,oa=Ve()+500,ei(t,e));do try{dC();break}catch(o){d_(t,o)}while(1);ph(),Ku.current=a,he=r,ze!==null?e=0:(Ye=null,at=0,e=qe)}if(e!==0){if(e===2&&(r=Fc(t),r!==0&&(i=r,e=ff(t,r))),e===1)throw n=Vs,ei(t,0),yn(t,i),Mt(t,Ve()),n;if(e===6)yn(t,i);else{if(r=t.current.alternate,!(i&30)&&!uC(r)&&(e=Yu(t,i),e===2&&(a=Fc(t),a!==0&&(i=a,e=ff(t,a))),e===1))throw n=Vs,ei(t,0),yn(t,i),Mt(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:qn(t,At,jr);break;case 3:if(yn(t,i),(i&130023424)===i&&(e=Ih+500-Ve(),10<e)){if(Lu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Et(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Gc(qn.bind(null,t,At,jr),e);break}qn(t,At,jr);break;case 4:if(yn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-mr(i);a=1<<s,s=e[s],s>r&&(r=s),i&=~a}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*oC(i/1960))-i,10<i){t.timeoutHandle=Gc(qn.bind(null,t,At,jr),i);break}qn(t,At,jr);break;case 5:qn(t,At,jr);break;default:throw Error(z(329))}}}return Mt(t,Ve()),t.callbackNode===n?l_.bind(null,t):null}function ff(t,e){var n=ys;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=Yu(t,e),t!==2&&(e=At,At=n,e!==null&&hf(e)),t}function hf(t){At===null?At=t:At.push.apply(At,t)}function uC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!_r(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yn(t,e){for(e&=~Ph,e&=~Nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),i=1<<n;t[n]=-1,e&=~i}}function Lg(t){if(he&6)throw Error(z(327));Yi();var e=Lu(t,0);if(!(e&1))return Mt(t,Ve()),null;var n=Yu(t,e);if(t.tag!==0&&n===2){var i=Fc(t);i!==0&&(e=i,n=ff(t,i))}if(n===1)throw n=Vs,ei(t,0),yn(t,e),Mt(t,Ve()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qn(t,At,jr),Mt(t,Ve()),null}function Ah(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(oa=Ve()+500,Dl&&Fn())}}function di(t){Tn!==null&&Tn.tag===0&&!(he&6)&&Yi();var e=he;he|=1;var n=tr.transition,i=_e;try{if(tr.transition=null,_e=1,t)return t()}finally{_e=i,tr.transition=n,he=e,!(he&6)&&Fn()}}function Dh(){Ht=Vi.current,Ie(Vi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U1(n)),ze!==null)for(n=ze.return;n!==null;){var i=n;switch(ch(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Uu();break;case 3:aa(),Ie(Rt),Ie(ht),Th();break;case 5:_h(i);break;case 4:aa();break;case 13:Ie(Le);break;case 19:Ie(Le);break;case 10:mh(i.type._context);break;case 22:case 23:Dh()}n=n.return}if(Ye=t,ze=t=In(t.current,null),at=Ht=e,qe=0,Vs=null,Ph=Nl=li=0,At=ys=null,Yn!==null){for(e=0;e<Yn.length;e++)if(n=Yn[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,a=n.pending;if(a!==null){var s=a.next;a.next=r,i.next=s}n.pending=i}Yn=null}return t}function d_(t,e){do{var n=ze;try{if(ph(),vu.current=qu,$u){for(var i=Re.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$u=!1}if(ui=0,Xe=$e=Re=null,gs=!1,Us=0,kh.current=null,n===null||n.return===null){qe=1,Vs=e,ze=null;break}e:{var a=t,s=n.return,o=n,u=e;if(e=at,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Tg(s);if(v!==null){v.flags&=-257,Sg(v,s,o,a,e),v.mode&1&&_g(a,l,e),e=v,u=l;var T=e.updateQueue;if(T===null){var b=new Set;b.add(u),e.updateQueue=b}else T.add(u);break e}else{if(!(e&1)){_g(a,l,e),Oh();break e}u=Error(z(426))}}else if(De&&o.mode&1){var E=Tg(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Sg(E,s,o,a,e),fh(sa(u,o));break e}}a=u=sa(u,o),qe!==4&&(qe=2),ys===null?ys=[a]:ys.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=qy(a,u,e);fg(a,x);break e;case 1:o=u;var C=a.type,P=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(kn===null||!kn.has(P)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=Ky(a,o,e);fg(a,A);break e}}a=a.return}while(a!==null)}h_(n)}catch(L){e=L,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function c_(){var t=Ku.current;return Ku.current=qu,t===null?qu:t}function Oh(){(qe===0||qe===3||qe===2)&&(qe=4),Ye===null||!(li&268435455)&&!(Nl&268435455)||yn(Ye,at)}function Yu(t,e){var n=he;he|=2;var i=c_();(Ye!==t||at!==e)&&(jr=null,ei(t,e));do try{lC();break}catch(r){d_(t,r)}while(1);if(ph(),he=n,Ku.current=i,ze!==null)throw Error(z(261));return Ye=null,at=0,qe}function lC(){for(;ze!==null;)f_(ze)}function dC(){for(;ze!==null&&!NE();)f_(ze)}function f_(t){var e=m_(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?h_(t):ze=e,kh.current=null}function h_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nC(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,ze=null;return}}else if(n=rC(n,e,Ht),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);qe===0&&(qe=5)}function qn(t,e,n){var i=_e,r=tr.transition;try{tr.transition=null,_e=1,cC(t,e,n,i)}finally{tr.transition=r,_e=i}return null}function cC(t,e,n,i){do Yi();while(Tn!==null);if(he&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(GE(t,a),t===Ye&&(ze=Ye=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,g_(Ou,function(){return Yi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=tr.transition,tr.transition=null;var s=_e;_e=1;var o=he;he|=4,kh.current=null,aC(t,n),o_(n,t),D1(zc),Ru=!!Hc,zc=Hc=null,t.current=n,sC(n),ME(),he=o,_e=s,tr.transition=a}else t.current=n;if(Jo&&(Jo=!1,Tn=t,Qu=r),a=t.pendingLanes,a===0&&(kn=null),BE(n.stateNode),Mt(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Xu)throw Xu=!1,t=df,df=null,t;return Qu&1&&t.tag!==0&&Yi(),a=t.pendingLanes,a&1?t===cf?_s++:(_s=0,cf=t):_s=0,Fn(),null}function Yi(){if(Tn!==null){var t=$0(Qu),e=tr.transition,n=_e;try{if(tr.transition=null,_e=16>t?16:t,Tn===null)var i=!1;else{if(t=Tn,Tn=null,Qu=0,he&6)throw Error(z(331));var r=he;for(he|=4,ee=t.current;ee!==null;){var a=ee,s=a.child;if(ee.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(ee=l;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:vs(8,d,a)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,v=d.return;if(i_(d),d===l){ee=null;break}if(f!==null){f.return=v,ee=f;break}ee=v}}}var T=a.alternate;if(T!==null){var b=T.child;if(b!==null){T.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}ee=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ee=s;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vs(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ee=x;break e}ee=a.return}}var C=t.current;for(ee=C;ee!==null;){s=ee;var P=s.child;if(s.subtreeFlags&2064&&P!==null)P.return=s,ee=P;else e:for(s=C;ee!==null;){if(o=ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Rl(9,o)}}catch(L){Me(o,o.return,L)}if(o===s){ee=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,ee=A;break e}ee=o.return}}if(he=r,Fn(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(wl,t)}catch{}i=!0}return i}finally{_e=n,tr.transition=e}}return!1}function Rg(t,e,n){e=sa(n,e),e=qy(t,e,1),t=wn(t,e,1),e=Et(),t!==null&&(eo(t,1,e),Mt(t,e))}function Me(t,e,n){if(t.tag===3)Rg(t,t,n);else for(;e!==null;){if(e.tag===3){Rg(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(kn===null||!kn.has(i))){t=sa(n,t),t=Ky(e,t,1),e=wn(e,t,1),t=Et(),e!==null&&(eo(e,1,t),Mt(e,t));break}}e=e.return}}function fC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(at&n)===n&&(qe===4||qe===3&&(at&130023424)===at&&500>Ve()-Ih?ei(t,0):Ph|=n),Mt(t,e)}function p_(t,e){e===0&&(t.mode&1?(e=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):e=1);var n=Et();t=Zr(t,e),t!==null&&(eo(t,e,n),Mt(t,n))}function hC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p_(t,n)}function pC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),p_(t,n)}var m_;m_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,tC(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,De&&e.flags&1048576&&yy(e,Vu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;_u(t,e),t=e.pendingProps;var r=ra(e,ht.current);Qi(e,n),r=xh(null,e,i,t,r,n);var a=bh();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(i)?(a=!0,Bu(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,vh(e),r.updater=Ol,e.stateNode=r,r._reactInternals=e,Jc(e,i,t,n),e=tf(null,e,i,!0,a,n)):(e.tag=0,De&&a&&dh(e),yt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(_u(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=gC(i),t=cr(i,t),r){case 0:e=ef(null,e,i,t,n);break e;case 1:e=Eg(null,e,i,t,n);break e;case 11:e=xg(null,e,i,t,n);break e;case 14:e=bg(null,e,i,cr(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cr(i,r),ef(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cr(i,r),Eg(t,e,i,r,n);case 3:e:{if(Jy(e),t===null)throw Error(z(387));i=e.pendingProps,a=e.memoizedState,r=a.element,xy(t,e),Wu(e,i,null,n);var s=e.memoizedState;if(i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=sa(Error(z(423)),e),e=Cg(t,e,i,n,r);break e}else if(i!==r){r=sa(Error(z(424)),e),e=Cg(t,e,i,n,r);break e}else for(Gt=Cn(e.stateNode.containerInfo.firstChild),$t=e,De=!0,hr=null,n=wy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),i===r){e=en(t,e,n);break e}yt(t,e,i,n)}e=e.child}return e;case 5:return ky(e),t===null&&Xc(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,Wc(i,r)?s=null:a!==null&&Wc(i,a)&&(e.flags|=32),Yy(t,e),yt(t,e,s,n),e.child;case 6:return t===null&&Xc(e),null;case 13:return Zy(t,e,n);case 4:return yh(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ia(e,null,i,n):yt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cr(i,r),xg(t,e,i,r,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value,Ee(Hu,i._currentValue),i._currentValue=s,a!==null)if(_r(a.value,s)){if(a.children===r.children&&!Rt.current){e=en(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var u=o.firstContext;u!==null;){if(u.context===i){if(a.tag===1){u=qr(-1,n&-n),u.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Qc(a.return,n,e),o.lanes|=n;break}u=u.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Qc(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}yt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Qi(e,n),r=nr(r),i=i(r),e.flags|=1,yt(t,e,i,n),e.child;case 14:return i=e.type,r=cr(i,e.pendingProps),r=cr(i.type,r),bg(t,e,i,r,n);case 15:return Xy(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cr(i,r),_u(t,e),e.tag=1,Nt(i)?(t=!0,Bu(e)):t=!1,Qi(e,n),Ey(e,i,r),Jc(e,i,r,n),tf(null,e,i,!0,t,n);case 19:return e_(t,e,n);case 22:return Qy(t,e,n)}throw Error(z(156,e.tag))};function g_(t,e){return H0(t,e)}function mC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,i){return new mC(t,e,n,i)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gC(t){if(typeof t=="function")return Lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jf)return 11;if(t===Zf)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xu(t,e,n,i,r,a){var s=2;if(i=t,typeof t=="function")Lh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Di:return ti(n.children,r,a,e);case Yf:s=8,r|=8;break;case xc:return t=er(12,n,e,r|2),t.elementType=xc,t.lanes=a,t;case bc:return t=er(13,n,e,r),t.elementType=bc,t.lanes=a,t;case Ec:return t=er(19,n,e,r),t.elementType=Ec,t.lanes=a,t;case C0:return Ml(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b0:s=10;break e;case E0:s=9;break e;case Jf:s=11;break e;case Zf:s=14;break e;case mn:s=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=er(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function ti(t,e,n,i){return t=er(7,t,i,e),t.lanes=n,t}function Ml(t,e,n,i){return t=er(22,t,i,e),t.elementType=C0,t.lanes=n,t.stateNode={isHidden:!1},t}function qd(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Rh(t,e,n,i,r,a,s,o,u){return t=new vC(t,e,n,o,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=er(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(a),t}function yC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function v_(t){if(!t)return Dn;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Nt(n))return gy(t,n,e)}return e}function y_(t,e,n,i,r,a,s,o,u){return t=Rh(n,i,!0,t,r,a,s,o,u),t.context=v_(null),n=t.current,i=Et(),r=Pn(n),a=qr(i,r),a.callback=e??null,wn(n,a,r),t.current.lanes=r,eo(t,r,i),Mt(t,i),t}function Fl(t,e,n,i){var r=e.current,a=Et(),s=Pn(r);return n=v_(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(a,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=wn(r,e,s),t!==null&&(gr(t,r,s,a),gu(t,r,s)),s}function Ju(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ng(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nh(t,e){Ng(t,e),(t=t.alternate)&&Ng(t,e)}function _C(){return null}var __=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mh(t){this._internalRoot=t}Ul.prototype.render=Mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Fl(t,e,null,null)};Ul.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Fl(null,t,null,null)}),e[Jr]=null}};function Ul(t){this._internalRoot=t}Ul.prototype.unstable_scheduleHydration=function(t){if(t){var e=X0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&Y0(t)}};function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mg(){}function TC(t,e,n,i,r){if(r){if(typeof i=="function"){var a=i;i=function(){var l=Ju(s);a.call(l)}}var s=y_(e,i,t,0,null,!1,!1,"",Mg);return t._reactRootContainer=s,t[Jr]=s.current,Ls(t.nodeType===8?t.parentNode:t),di(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var l=Ju(u);o.call(l)}}var u=Rh(t,0,!1,null,null,!1,!1,"",Mg);return t._reactRootContainer=u,t[Jr]=u.current,Ls(t.nodeType===8?t.parentNode:t),di(function(){Fl(e,u,n,i)}),u}function jl(t,e,n,i,r){var a=n._reactRootContainer;if(a){var s=a;if(typeof r=="function"){var o=r;r=function(){var u=Ju(s);o.call(u)}}Fl(e,s,t,r)}else s=TC(n,e,t,r,i);return Ju(s)}q0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(rh(e,n|1),Mt(e,Ve()),!(he&6)&&(oa=Ve()+500,Fn()))}break;case 13:di(function(){var i=Zr(t,1);if(i!==null){var r=Et();gr(i,t,1,r)}}),Nh(t,1)}};nh=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=Et();gr(e,t,134217728,n)}Nh(t,134217728)}};K0=function(t){if(t.tag===13){var e=Pn(t),n=Zr(t,e);if(n!==null){var i=Et();gr(n,t,e,i)}Nh(t,e)}};X0=function(){return _e};Q0=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Rc=function(t,e,n){switch(e){case"input":if(kc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Al(i);if(!r)throw Error(z(90));k0(i),kc(i,r)}}}break;case"textarea":I0(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};M0=Ah;F0=di;var SC={usingClientEntryPoint:!1,Events:[ro,Ni,Al,R0,N0,Ah]},qa={findFiberByHostInstance:Qn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xC={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j0(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||_C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{wl=Zo.inject(xC),Dr=Zo}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(e))throw Error(z(200));return yC(t,e,null,n)};Xt.createRoot=function(t,e){if(!Fh(t))throw Error(z(299));var n=!1,i="",r=__;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Rh(t,1,!1,null,null,n,!1,i,r),t[Jr]=e.current,Ls(t.nodeType===8?t.parentNode:t),new Mh(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=j0(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return di(t)};Xt.hydrate=function(t,e,n){if(!Bl(e))throw Error(z(200));return jl(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!Fh(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,r=!1,a="",s=__;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=y_(e,null,t,1,n??null,r,!1,a,s),t[Jr]=e.current,Ls(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ul(e)};Xt.render=function(t,e,n){if(!Bl(e))throw Error(z(200));return jl(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(z(40));return t._reactRootContainer?(di(function(){jl(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Xt.unstable_batchedUpdates=Ah;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Bl(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return jl(t,e,n,!1,i)};Xt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Xt})(_E);var Fg=_c;yc.createRoot=Fg.createRoot,yc.hydrateRoot=Fg.hydrateRoot;function bC(){return Wt.jsxs("footer",{className:"w-full flex flex-row justify-center gap-1 mb-4",children:[Wt.jsxs("p",{children:["Copyright © ",new Date().getFullYear()," MR-Addict"]}),Wt.jsx("p",{children:"•"}),Wt.jsx("a",{href:"https://github.com/MR-Addict/videojs-demo",className:"underline",children:"Github"})]})}var as;typeof window<"u"?as=window:typeof Pu<"u"?as=Pu:typeof self<"u"?as=self:as={};var I=as;const EC={},CC=Object.freeze(Object.defineProperty({__proto__:null,default:EC},Symbol.toStringTag,{value:"Module"})),wC=c0(CC);var Ug=typeof Pu<"u"?Pu:typeof window<"u"?window:{},kC=wC,ss;typeof document<"u"?ss=document:(ss=Ug["__GLOBAL_DOCUMENT_CACHE@4"],ss||(ss=Ug["__GLOBAL_DOCUMENT_CACHE@4"]=kC));var $=ss;function ar(){return ar=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ar.apply(this,arguments)}const PC=Object.freeze(Object.defineProperty({__proto__:null,default:ar},Symbol.toStringTag,{value:"Module"}));var Zu={},IC={get exports(){return Zu},set exports(t){Zu=t}};(function(t,e){function n(u){if(u&&typeof u=="object"){var l=u.which||u.keyCode||u.charCode;l&&(u=l)}if(typeof u=="number")return s[u];var d=String(u),h=i[d.toLowerCase()];if(h)return h;var h=r[d.toLowerCase()];if(h)return h;if(d.length===1)return d.charCodeAt(0)}n.isEventKey=function(l,d){if(l&&typeof l=="object"){var h=l.which||l.keyCode||l.charCode;if(h==null)return!1;if(typeof d=="string"){var f=i[d.toLowerCase()];if(f)return f===h;var f=r[d.toLowerCase()];if(f)return f===h}else if(typeof d=="number")return d===h;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var o in r)i[o]=r[o]})(IC,Zu);const oe=Zu;function se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ua(t,e){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},ua(t,e)}function X(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ua(t,e)}var AC=DC;function DC(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}var Hs={},OC={get exports(){return Hs},set exports(t){Hs=t}};const LC=c0(PC);var RC=MC,NC=Object.prototype.toString;function MC(t){if(!t)return!1;var e=NC.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var FC=I,UC=function(e,n){return n===void 0&&(n=!1),function(i,r,a){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var s=a;if(n)if(FC.TextDecoder){var o=BC(r.headers&&r.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function BC(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],a=i[1];return r.trim()==="charset"?a.trim():e},"utf-8")}var jC=UC,T_=I,VC=LC,HC=RC;Lr.httpHandler=jC;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var zC=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var r=i.indexOf(":"),a=i.slice(0,r).trim().toLowerCase(),s=i.slice(r+1).trim();typeof n[a]>"u"?n[a]=s:Array.isArray(n[a])?n[a].push(s):n[a]=[n[a],s]}),n};OC.exports=Lr;Hs.default=Lr;Lr.XMLHttpRequest=T_.XMLHttpRequest||qC;Lr.XDomainRequest="withCredentials"in new Lr.XMLHttpRequest?Lr.XMLHttpRequest:T_.XDomainRequest;WC(["get","put","post","patch","head","delete"],function(t){Lr[t==="delete"?"del":t]=function(e,n,i){return n=S_(e,n,i),n.method=t.toUpperCase(),x_(n)}});function WC(t,e){for(var n=0;n<t.length;n++)e(t[n])}function GC(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function S_(t,e,n){var i=t;return HC(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=VC({},e,{uri:t}),i.callback=n,i}function Lr(t,e,n){return e=S_(t,e,n),x_(e)}function x_(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(P,A,L){e||(e=!0,t.callback(P,A,L))};function i(){o.readyState===4&&setTimeout(s,0)}function r(){var C=void 0;if(o.response?C=o.response:C=o.responseText||$C(o),b)try{C=JSON.parse(C)}catch{}return C}function a(C){return clearTimeout(E),C instanceof Error||(C=new Error(""+(C||"Unknown XMLHttpRequest Error"))),C.statusCode=0,n(C,x)}function s(){if(!l){var C;clearTimeout(E),t.useXDR&&o.status===void 0?C=200:C=o.status===1223?204:o.status;var P=x,A=null;return C!==0?(P={body:r(),statusCode:C,method:h,headers:{},url:d,rawRequest:o},o.getAllResponseHeaders&&(P.headers=zC(o.getAllResponseHeaders()))):A=new Error("Internal XMLHttpRequest Error"),n(A,P,P.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Lr.XDomainRequest:o=new Lr.XMLHttpRequest);var u,l,d=o.url=t.uri||t.url,h=o.method=t.method||"GET",f=t.body||t.data,v=o.headers=t.headers||{},T=!!t.sync,b=!1,E,x={body:void 0,headers:{},statusCode:0,method:h,url:d,rawRequest:o};if("json"in t&&t.json!==!1&&(b=!0,v.accept||v.Accept||(v.Accept="application/json"),h!=="GET"&&h!=="HEAD"&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),f=JSON.stringify(t.json===!0?f:t.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){l=!0},o.ontimeout=a,o.open(h,d,!T,t.username,t.password),T||(o.withCredentials=!!t.withCredentials),!T&&t.timeout>0&&(E=setTimeout(function(){if(!l){l=!0,o.abort("timeout");var C=new Error("XMLHttpRequest timeout");C.code="ETIMEDOUT",a(C)}},t.timeout)),o.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&o.setRequestHeader(u,v[u]);else if(t.headers&&!GC(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(f||null),o}function $C(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function qC(){}var el={},KC={get exports(){return el},set exports(t){el=t}},Bg=$,Uh=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function zt(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}zt.prototype=Uh(Error.prototype);zt.prototype.constructor=zt;zt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Bh(t){function e(i,r,a,s){return(i|0)*3600+(r|0)*60+(a|0)+(s|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Ts(){this.values=Uh(null)}Ts.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function os(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if(typeof r[a]=="string"){var s=r[a].split(n);if(s.length===2){var o=s[0].trim(),u=s[1].trim();e(o,u)}}}function XC(t,e,n){var i=t;function r(){var o=Bh(t);if(o===null)throw new zt(zt.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,u){var l=new Ts;os(o,function(d,h){switch(d){case"region":for(var f=n.length-1;f>=0;f--)if(n[f].id===h){l.set(d,n[f].region);break}break;case"vertical":l.alt(d,h,["rl","lr"]);break;case"line":var v=h.split(","),T=v[0];l.integer(d,T),l.percent(d,T)&&l.set("snapToLines",!1),l.alt(d,T,["auto"]),v.length===2&&l.alt("lineAlign",v[1],["start","center","end"]);break;case"position":v=h.split(","),l.percent(d,v[0]),v.length===2&&l.alt("positionAlign",v[1],["start","center","end"]);break;case"size":l.percent(d,h);break;case"align":l.alt(d,h,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");try{u.line=l.get("line","auto")}catch{}u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100);try{u.align=l.get("align","center")}catch{u.align=l.get("align","middle")}try{u.position=l.get("position","auto")}catch{u.position=l.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=l.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=r(),s(),t.substr(0,3)!=="-->")throw new zt(zt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),s(),e.endTime=r(),s(),a(t,e)}var Xd=Bg.createElement&&Bg.createElement("textarea"),QC={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},jg={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},YC={v:"title",lang:"lang"},Vg={rt:"ruby"};function b_(t,e){function n(){if(!e)return null;function T(E){return e=e.substr(E.length),E}var b=e.match(/^([^<]*)(<[^>]*>?)?/);return T(b[1]?b[1]:b[2])}function i(T){return Xd.innerHTML=T,T=Xd.textContent,Xd.textContent="",T}function r(T,b){return!Vg[b.localName]||Vg[b.localName]===T.localName}function a(T,b){var E=QC[T];if(!E)return null;var x=t.document.createElement(E),C=YC[T];return C&&b&&(x[C]=b.trim()),x}for(var s=t.document.createElement("div"),o=s,u,l=[];(u=n())!==null;){if(u[0]==="<"){if(u[1]==="/"){l.length&&l[l.length-1]===u.substr(2).replace(">","")&&(l.pop(),o=o.parentNode);continue}var d=Bh(u.substr(1,u.length-2)),h;if(d){h=t.document.createProcessingInstruction("timestamp",d),o.appendChild(h);continue}var f=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(h=a(f[1],f[3]),!h)||!r(o,h))continue;if(f[2]){var v=f[2].split(".");v.forEach(function(T){var b=/^bg_/.test(T),E=b?T.slice(3):T;if(jg.hasOwnProperty(E)){var x=b?"background-color":"color",C=jg[E];h.style[x]=C}}),h.className=v.join(" ")}l.push(f[1]),o.appendChild(h),o=h;continue}o.appendChild(t.document.createTextNode(i(u)))}return s}var Hg=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function JC(t){for(var e=0;e<Hg.length;e++){var n=Hg[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function ZC(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(o,u){for(var l=u.childNodes.length-1;l>=0;l--)o.push(u.childNodes[l])}function a(o){if(!o||!o.length)return null;var u=o.pop(),l=u.textContent||u.innerText;if(l){var d=l.match(/^.*(\n|\r)/);return d?(o.length=0,d[0]):l}if(u.tagName==="ruby")return a(o);if(u.childNodes)return r(o,u),a(o)}for(r(e,t);n=a(e);)for(var s=0;s<n.length;s++)if(i=n.charCodeAt(s),JC(i))return"rtl";return"ltr"}function ew(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function Vl(){}Vl.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};Vl.prototype.formatStyle=function(t,e){return t===0?0:t+e};function tl(t,e,n){Vl.call(this),this.cue=e,this.cueDiv=b_(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:ZC(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}tl.prototype=Uh(Vl.prototype);tl.prototype.constructor=tl;function Tt(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Tt.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Tt.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Tt.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Tt.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Tt.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Tt.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};Tt.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Tt.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function tw(t,e,n,i){function r(E,x){for(var C,P=new Tt(E),A=1,L=0;L<x.length;L++){for(;E.overlapsOppositeAxis(n,x[L])||E.within(n)&&E.overlapsAny(i);)E.move(x[L]);if(E.within(n))return E;var B=E.intersectPercentage(n);A>B&&(C=new Tt(E),A=B),E=new Tt(P)}return C||P}var a=new Tt(e),s=e.cue,o=ew(s),u=[];if(s.snapToLines){var l;switch(s.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var d=a.lineHeight,h=d*Math.round(o),f=n[l]+d,v=u[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/d)*d),o<0&&(h+=s.vertical===""?n.height:n.width,u=u.reverse()),a.move(v,h)}else{var T=a.lineHeight/n.height*100;switch(s.lineAlign){case"center":o-=T/2;break;case"end":o-=T;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],a=new Tt(e)}var b=r(a,u);e.move(b.toCSSCompatValues(n))}function ba(){}ba.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ba.convertCueToDOMTree=function(t,e){return!t||!e?null:b_(t,e)};var rw=.05,nw="sans-serif",iw="1.5%";ba.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=iw,n.appendChild(i);function r(d){for(var h=0;h<d.length;h++)if(d[h].hasBeenReset||!d[h].displayState)return!0;return!1}if(!r(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],o=Tt.getSimpleBoxPosition(i),u=Math.round(o.height*rw*100)/100,l={font:u+"px "+nw};(function(){for(var d,h,f=0;f<e.length;f++)h=e[f],d=new tl(t,h,l),i.appendChild(d.div),tw(t,d,o,s),h.displayState=d.div,s.push(Tt.getSimpleBoxPosition(d))})()};ba.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};ba.Parser.prototype={reportOrThrowError:function(t){if(t instanceof zt)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var d=e.buffer,h=0;h<d.length&&d[h]!=="\r"&&d[h]!==`
`;)++h;var f=d.substr(0,h);return d[h]==="\r"&&++h,d[h]===`
`&&++h,e.buffer=d.substr(h),f}function i(d){var h=new Ts;if(os(d,function(v,T){switch(v){case"id":h.set(v,T);break;case"width":h.percent(v,T);break;case"lines":h.integer(v,T);break;case"regionanchor":case"viewportanchor":var b=T.split(",");if(b.length!==2)break;var E=new Ts;if(E.percent("x",b[0]),E.percent("y",b[1]),!E.has("x")||!E.has("y"))break;h.set(v+"X",E.get("x")),h.set(v+"Y",E.get("y"));break;case"scroll":h.alt(v,T,["up"]);break}},/=/,/\s/),h.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=h.get("width",100),f.lines=h.get("lines",3),f.regionAnchorX=h.get("regionanchorX",0),f.regionAnchorY=h.get("regionanchorY",100),f.viewportAnchorX=h.get("viewportanchorX",0),f.viewportAnchorY=h.get("viewportanchorY",100),f.scroll=h.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:h.get("id"),region:f})}}function r(d){var h=new Ts;os(d,function(f,v){switch(f){case"MPEGT":h.integer(f+"S",v);break;case"LOCA":h.set(f+"L",Bh(v));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:h.get("MPEGTS"),LOCAL:h.get("LOCAL")})}function a(d){d.match(/X-TIMESTAMP-MAP/)?os(d,function(h,f){switch(h){case"X-TIMESTAMP-MAP":r(f);break}},/=/):os(d,function(h,f){switch(h){case"Region":i(f);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=n();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new zt(zt.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:s=n(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{XC(s,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("-->")!==-1;if(!s||l&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new zt(zt.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var aw=ba,sw="auto",ow={"":1,lr:1,rl:1},uw={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function lw(t){if(typeof t!="string")return!1;var e=ow[t.toLowerCase()];return e?t.toLowerCase():!1}function Qd(t){if(typeof t!="string")return!1;var e=uw[t.toLowerCase()];return e?t.toLowerCase():!1}function E_(t,e,n){this.hasBeenReset=!1;var i="",r=!1,a=t,s=e,o=n,u=null,l="",d=!0,h="auto",f="start",v="auto",T="auto",b=100,E="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(x){i=""+x}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(x){r=!!x}},startTime:{enumerable:!0,get:function(){return a},set:function(x){if(typeof x!="number")throw new TypeError("Start time must be set to a number.");a=x,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(x){if(typeof x!="number")throw new TypeError("End time must be set to a number.");s=x,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(x){o=""+x,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(x){u=x,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(x){var C=lw(x);if(C===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=C,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(x){d=!!x,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(x){if(typeof x!="number"&&x!==sw)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=x,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(x){var C=Qd(x);C?(f=C,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return v},set:function(x){if(x<0||x>100)throw new Error("Position must be between 0 and 100.");v=x,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return T},set:function(x){var C=Qd(x);C?(T=C,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(x){if(x<0||x>100)throw new Error("Size must be between 0 and 100.");b=x,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return E},set:function(x){var C=Qd(x);if(!C)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");E=C,this.hasBeenReset=!0}}}),this.displayState=void 0}E_.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var dw=E_,cw={"":!0,up:!0};function fw(t){if(typeof t!="string")return!1;var e=cw[t.toLowerCase()];return e?t.toLowerCase():!1}function Ka(t){return typeof t=="number"&&t>=0&&t<=100}function hw(){var t=100,e=3,n=0,i=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Ka(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Ka(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Ka(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!Ka(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Ka(o))throw new Error("ViewportAnchorX must be between 0 and 100.");r=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var u=fw(o);u===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=u}}})}var pw=hw,tn=I,pi=KC.exports={WebVTT:aw,VTTCue:dw,VTTRegion:pw};tn.vttjs=pi;tn.WebVTT=pi.WebVTT;var mw=pi.VTTCue,gw=pi.VTTRegion,vw=tn.VTTCue,yw=tn.VTTRegion;pi.shim=function(){tn.VTTCue=mw,tn.VTTRegion=gw};pi.restore=function(){tn.VTTCue=vw,tn.VTTRegion=yw};tn.VTTCue||pi.shim();function _w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ss(t,e,n){return _w()?Ss=Reflect.construct.bind():Ss=function(r,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(r,o),l=new u;return s&&ua(l,s.prototype),l},Ss.apply(null,arguments)}function Tw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ua(t,e)}var pf={},Sw={get exports(){return pf},set exports(t){pf=t}};(function(t,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,l,d){if(d=d||{},u=u.trim(),l=l.trim(),!l){if(!d.alwaysNormalize)return u;var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse base URL.");return h.path=o.normalizePath(h.path),o.buildURLFromParts(h)}var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return d.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):l;var v=o.parseURL(u);if(!v)throw new Error("Error trying to parse base URL.");if(!v.netLoc&&v.path&&v.path[0]!=="/"){var T=r.exec(v.path);v.netLoc=T[1],v.path=T[2]}v.netLoc&&!v.path&&(v.path="/");var b={scheme:v.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(b.netLoc=v.netLoc,f.path[0]!=="/"))if(!f.path)b.path=v.path,f.params||(b.params=v.params,f.query||(b.query=v.query));else{var E=v.path,x=E.substring(0,E.lastIndexOf("/")+1)+f.path;b.path=o.normalizePath(x)}return b.path===null&&(b.path=d.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(b)},parseURL:function(u){var l=i.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(a,"");u.length!==(u=u.replace(s,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=o})()})(Sw);const zg=pf;var Wg="http://example.com",Hl=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=I.location&&I.location.href||"");var i=typeof I.URL=="function",r=/^\/\//.test(e),a=!I.location&&!/\/\//i.test(e);if(i?e=new I.URL(e,I.location||Wg):/\/\//i.test(e)||(e=zg.buildAbsoluteURL(I.location&&I.location.href||"",e)),i){var s=new URL(n,e);return a?s.href.slice(Wg.length):r?s.href.slice(s.protocol.length):s.href}return zg.buildAbsoluteURL(e,n)},jh=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var r=this.listeners[i];if(r)if(arguments.length===2)for(var a=r.length,s=0;s<a;++s)r[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=r.length,l=0;l<u;++l)r[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),xw=function(e){return I.atob?I.atob(e):Buffer.from(e,"base64").toString("binary")};function C_(t){for(var e=xw(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var bw=function(t){X(e,t);function e(){var i;return i=t.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(r){var a;for(this.buffer+=r,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(jh),Ew=String.fromCharCode(9),Yd=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},Cw=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},dr=function(e){for(var n=e.split(Cw()),i={},r=n.length,a;r--;)n[r]!==""&&(a=/([^=]*)=(.*)/.exec(n[r]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},ww=function(t){X(e,t);function e(){var i;return i=t.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(r){var a=this,s,o;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var u=this.tagMappers.reduce(function(l,d){var h=d(r);return h===r?l:l.concat([h])},[r]);u.forEach(function(l){for(var d=0;d<a.customParsers.length;d++)if(a.customParsers[d].call(a,l))return;if(l.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:l.slice(1)});return}if(l=l.replace("\r",""),s=/^#EXTM3U/.exec(l),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(l),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(l),s){o=ar(Yd(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(l),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"map"},s[1]){var h=dr(s[1]);h.URI&&(o.uri=h.URI),h.BYTERANGE&&(o.byterange=Yd(h.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=dr(s[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),v={};f[0]&&(v.width=parseInt(f[0],10)),f[1]&&(v.height=parseInt(f[1],10)),o.attributes.RESOLUTION=v}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(l),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=dr(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(l),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(l),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(l),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(l),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=dr(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(l),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=dr(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=dr(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(Ew)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=dr(s[1]),["DURATION"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseFloat(o.attributes[T]))}),["INDEPENDENT","GAP"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=/YES/.test(o.attributes[T]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Yd(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=dr(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseFloat(o.attributes[T]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=/YES/.test(o.attributes[T]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=dr(s[1]),["PART-TARGET"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseFloat(o.attributes[T]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=dr(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(T){if(o.attributes.hasOwnProperty(T)){o.attributes[T]=parseInt(o.attributes[T],10);var b=T==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[b]=o.attributes[T],delete o.attributes[T]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=dr(s[1]),["LAST-MSN","LAST-PART"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseInt(o.attributes[T],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:l.slice(4)})})}},n.addParser=function(r){var a=this,s=r.expression,o=r.customType,u=r.dataParser,l=r.segment;typeof u!="function"&&(u=function(h){return h}),this.customParsers.push(function(d){var h=s.exec(d);if(h)return a.trigger("data",{type:"custom",data:u(d),customType:o,segment:l}),!0})},n.addTagMapper=function(r){var a=r.expression,s=r.map,o=function(l){return a.test(l)?s(l):l};this.tagMappers.push(o)},e}(jh),kw=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},xi=function(e){var n={};return Object.keys(e).forEach(function(i){n[kw(i)]=e[i]}),n},Jd=function(e){var n=e.serverControl,i=e.targetDuration,r=e.partTargetDuration;if(n){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",u=i&&i*3,l=r&&r*2;i&&!n.hasOwnProperty(s)&&(n[s]=u,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+u+")."})),u&&n[s]<u&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+n[s]+") to targetDuration * 3 ("+u+")"}),n[s]=u),r&&!n.hasOwnProperty(o)&&(n[o]=r*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[o]+")."})),r&&n[o]<l&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+n[o]+") to partTargetDuration * 2 ("+l+")."}),n[o]=l)}},Pw=function(t){X(e,t);function e(){var i;i=t.call(this)||this,i.lineStream=new bw,i.parseStream=new ww,i.lineStream.pipe(i.parseStream);var r=se(i),a=[],s={},o,u,l=!1,d=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",v=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var T=0,b=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&u&&(s.key=u),!s.timeline&&typeof v=="number"&&(s.timeline=v),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(E){var x,C;({tag:function(){({version:function(){E.version&&(this.manifest.version=E.version)},"allow-cache":function(){this.manifest.allowCache=E.allowed,"allowed"in E||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var L={};"length"in E&&(s.byterange=L,L.length=E.length,"offset"in E||(E.offset=T)),"offset"in E&&(s.byterange=L,L.offset=E.offset),T=L.offset+L.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),E.duration>0&&(s.duration=E.duration),E.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!E.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(E.attributes.METHOD==="NONE"){u=null;return}if(!E.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(E.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:E.attributes};return}if(E.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:E.attributes.URI};return}if(E.attributes.KEYFORMAT===f){var L=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(L.indexOf(E.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(E.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),E.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(E.attributes.KEYID&&E.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:E.attributes.KEYFORMAT,keyId:E.attributes.KEYID.substring(2)},pssh:C_(E.attributes.URI.split(",")[1])};return}E.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:E.attributes.METHOD||"AES-128",uri:E.attributes.URI},typeof E.attributes.IV<"u"&&(u.iv=E.attributes.IV)},"media-sequence":function(){if(!isFinite(E.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+E.number});return}this.manifest.mediaSequence=E.number},"discontinuity-sequence":function(){if(!isFinite(E.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+E.number});return}this.manifest.discontinuitySequence=E.number,v=E.number},"playlist-type":function(){if(!/VOD|EVENT/.test(E.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+E.playlist});return}this.manifest.playlistType=E.playlistType},map:function(){o={},E.uri&&(o.uri=E.uri),E.byterange&&(o.byterange=E.byterange),u&&(o.key=u)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!E.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),ar(s.attributes,E.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(E.attributes&&E.attributes.TYPE&&E.attributes["GROUP-ID"]&&E.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var L=this.manifest.mediaGroups[E.attributes.TYPE];L[E.attributes["GROUP-ID"]]=L[E.attributes["GROUP-ID"]]||{},x=L[E.attributes["GROUP-ID"]],C={default:/yes/i.test(E.attributes.DEFAULT)},C.default?C.autoselect=!0:C.autoselect=/yes/i.test(E.attributes.AUTOSELECT),E.attributes.LANGUAGE&&(C.language=E.attributes.LANGUAGE),E.attributes.URI&&(C.uri=E.attributes.URI),E.attributes["INSTREAM-ID"]&&(C.instreamId=E.attributes["INSTREAM-ID"]),E.attributes.CHARACTERISTICS&&(C.characteristics=E.attributes.CHARACTERISTICS),E.attributes.FORCED&&(C.forced=/yes/i.test(E.attributes.FORCED)),x[E.attributes.NAME]=C},discontinuity:function(){v+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=E.dateTimeString,this.manifest.dateTimeObject=E.dateTimeObject),s.dateTimeString=E.dateTimeString,s.dateTimeObject=E.dateTimeObject},targetduration:function(){if(!isFinite(E.duration)||E.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+E.duration});return}this.manifest.targetDuration=E.duration,Jd.call(this,this.manifest)},start:function(){if(!E.attributes||isNaN(E.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:E.attributes["TIME-OFFSET"],precise:E.attributes.PRECISE}},"cue-out":function(){s.cueOut=E.data},"cue-out-cont":function(){s.cueOutCont=E.data},"cue-in":function(){s.cueIn=E.data},skip:function(){this.manifest.skip=xi(E.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",E.attributes,["SKIPPED-SEGMENTS"])},part:function(){var L=this;l=!0;var B=this.manifest.segments.length,F=xi(E.attributes);s.parts=s.parts||[],s.parts.push(F),F.byterange&&(F.byterange.hasOwnProperty("offset")||(F.byterange.offset=b),b=F.byterange.offset+F.byterange.length);var M=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+M+" for segment #"+B,E.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(j,U){j.hasOwnProperty("lastPart")||L.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+U+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var L=this.manifest.serverControl=xi(E.attributes);L.hasOwnProperty("canBlockReload")||(L.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Jd.call(this,this.manifest),L.canSkipDateranges&&!L.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var L=this.manifest.segments.length,B=xi(E.attributes),F=B.type&&B.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(B),B.byterange&&(B.byterange.hasOwnProperty("offset")||(B.byterange.offset=F?b:0,F&&(b=B.byterange.offset+B.byterange.length)));var M=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+M+" for segment #"+L,E.attributes,["TYPE","URI"]),!!B.type)for(var j=0;j<s.preloadHints.length-1;j++){var U=s.preloadHints[j];U.type&&U.type===B.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+M+" for segment #"+L+" has the same TYPE "+B.type+" as preload hint #"+j})}},"rendition-report":function(){var L=xi(E.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(L);var B=this.manifest.renditionReports.length-1,F=["LAST-MSN","URI"];l&&F.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+B,E.attributes,F)},"part-inf":function(){this.manifest.partInf=xi(E.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",E.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Jd.call(this,this.manifest)}}[E.tagType]||d).call(r)},uri:function(){s.uri=E.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=v,o&&(s.map=o),b=0,s={}},comment:function(){},custom:function(){E.segment?(s.custom=s.custom||{},s.custom[E.customType]=E.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[E.customType]=E.data)}})[E.type].call(r)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(r,a,s){var o=[];s.forEach(function(u){a.hasOwnProperty(u)||o.push(u)}),o.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+o.join(", ")})},n.push=function(r){this.lineStream.push(r)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(r){this.parseStream.addParser(r)},n.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(jh),ri={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Iw=["video","audio","text"],Gg=["Video","Audio","Text"],w_=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(r).toString(16)).slice(-2);return"avc1."+a+"00"+s})},Cr=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var a;Iw.forEach(function(s){var o=ri[s].exec(r.toLowerCase());if(!(!o||o.length<=1)){a=s;var u=r.substring(0,o[1].length),l=r.replace(u,"");i.push({type:u,details:l,mediaType:s})}}),a||i.push({type:r,details:"",mediaType:"unknown"})}),i},Aw=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var a=i[r];if(a.default&&a.playlists)return Cr(a.playlists[0].attributes.CODECS)}return null},k_=function(e){return e===void 0&&(e=""),ri.audio.test(e.trim().toLowerCase())},Dw=function(e){return e===void 0&&(e=""),ri.text.test(e.trim().toLowerCase())},zs=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return w_(a.trim())}),i="video";n.length===1&&k_(n[0])?i="audio":n.length===1&&Dw(n[0])&&(i="application");var r="mp4";return n.every(function(a){return ri.mp4.test(a)})?r="mp4":n.every(function(a){return ri.webm.test(a)})?r="webm":n.every(function(a){return ri.ogg.test(a)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},bu=function(e){return e===void 0&&(e=""),I.MediaSource&&I.MediaSource.isTypeSupported&&I.MediaSource.isTypeSupported(zs(e))||!1},Zd=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<Gg.length;i++){var r=Gg[i];if(ri["muxer"+r].test(n))return!0}return!1})},$g="mp4a.40.2",Ow="avc1.4d400d",Lw=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Rw=/^application\/dash\+xml/i,P_=function(e){return Lw.test(e)?"hls":Rw.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Nw=function(e){return e.toString(2).length},Mw=function(e){return Math.ceil(Nw(e)/8)},I_=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Fw=function(e){return I_(e)},ne=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!Fw(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},nt=I.BigInt||Number,mf=[nt("0x1"),nt("0x100"),nt("0x10000"),nt("0x1000000"),nt("0x100000000"),nt("0x10000000000"),nt("0x1000000000000"),nt("0x100000000000000"),nt("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var Uw=function(e,n){var i=n===void 0?{}:n,r=i.signed,a=r===void 0?!1:r,s=i.le,o=s===void 0?!1:s;e=ne(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],d=l.call(e,function(f,v,T){var b=o?T:Math.abs(T+1-e.length);return f+nt(v)*mf[b]},nt(0));if(a){var h=mf[e.length]/nt(2)-nt(1);d=nt(d),d>h&&(d-=h,d-=h,d-=nt(2))}return Number(d)},Bw=function(e,n){var i=n===void 0?{}:n,r=i.le,a=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=nt(e);for(var s=Mw(e),o=new Uint8Array(new ArrayBuffer(s)),u=0;u<s;u++){var l=a?u:Math.abs(u+1-o.length);o[l]=Number(e/mf[u]&nt(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},A_=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},jw=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return ne(n[0]);var r=n.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),a=new Uint8Array(r),s=0;return n.forEach(function(o){o=ne(o),a.set(o,s),s+=o.byteLength}),a},Ae=function(e,n,i){var r=i===void 0?{}:i,a=r.offset,s=a===void 0?0:a,o=r.mask,u=o===void 0?[]:o;e=ne(e),n=ne(n);var l=n.every?n.every:Array.prototype.every;return n.length&&e.length-s>=n.length&&l.call(n,function(d,h){var f=u[h]?u[h]&e[s+h]:e[s+h];return d===f})},Vw=function(e,n,i){n.forEach(function(r){for(var a in e.mediaGroups[r])for(var s in e.mediaGroups[r][a]){var o=e.mediaGroups[r][a][s];i(o,r,a,s)}})},Un={},un={};function Hw(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function Vh(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function zw(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var D_=Vh({HTML:"text/html",isHTML:function(t){return t===D_.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),O_=Vh({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===O_.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});un.assign=zw;un.find=Hw;un.freeze=Vh;un.MIME_TYPE=D_;un.NAMESPACE=O_;var L_=un,Rr=L_.find,Ws=L_.NAMESPACE;function Ww(t){return t!==""}function Gw(t){return t?t.split(/[\t\n\f\r ]+/).filter(Ww):[]}function $w(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function qg(t){if(!t)return[];var e=Gw(t);return Object.keys(e.reduce($w,{}))}function qw(t){return function(e){return t&&t.indexOf(e)!==-1}}function io(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Ft(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};var i=r;r.prototype=e.prototype,r=new r,io(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Ut={},vr=Ut.ELEMENT_NODE=1,la=Ut.ATTRIBUTE_NODE=2,rl=Ut.TEXT_NODE=3,R_=Ut.CDATA_SECTION_NODE=4,N_=Ut.ENTITY_REFERENCE_NODE=5,Kw=Ut.ENTITY_NODE=6,M_=Ut.PROCESSING_INSTRUCTION_NODE=7,F_=Ut.COMMENT_NODE=8,U_=Ut.DOCUMENT_NODE=9,B_=Ut.DOCUMENT_TYPE_NODE=10,rn=Ut.DOCUMENT_FRAGMENT_NODE=11,Xw=Ut.NOTATION_NODE=12,pt={},Ze={};pt.INDEX_SIZE_ERR=(Ze[1]="Index size error",1);pt.DOMSTRING_SIZE_ERR=(Ze[2]="DOMString size error",2);var Dt=pt.HIERARCHY_REQUEST_ERR=(Ze[3]="Hierarchy request error",3);pt.WRONG_DOCUMENT_ERR=(Ze[4]="Wrong document",4);pt.INVALID_CHARACTER_ERR=(Ze[5]="Invalid character",5);pt.NO_DATA_ALLOWED_ERR=(Ze[6]="No data allowed",6);pt.NO_MODIFICATION_ALLOWED_ERR=(Ze[7]="No modification allowed",7);var j_=pt.NOT_FOUND_ERR=(Ze[8]="Not found",8);pt.NOT_SUPPORTED_ERR=(Ze[9]="Not supported",9);var Kg=pt.INUSE_ATTRIBUTE_ERR=(Ze[10]="Attribute in use",10);pt.INVALID_STATE_ERR=(Ze[11]="Invalid state",11);pt.SYNTAX_ERR=(Ze[12]="Syntax error",12);pt.INVALID_MODIFICATION_ERR=(Ze[13]="Invalid modification",13);pt.NAMESPACE_ERR=(Ze[14]="Invalid namespace",14);pt.INVALID_ACCESS_ERR=(Ze[15]="Invalid access",15);function He(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Ze[t]),this.message=Ze[t],Error.captureStackTrace&&Error.captureStackTrace(this,He);return n.code=t,e&&(this.message=this.message+": "+e),n}He.prototype=Error.prototype;io(pt,He);function Kr(){}Kr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)Hi(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function da(t,e){this._node=t,this._refresh=e,Hh(this)}function Hh(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);J_(t,"length",n.length),io(n,t),t._inc=e}}da.prototype.item=function(t){return Hh(this),this[t]};Ft(da,Kr);function nl(){}function V_(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function Xg(t,e,n,i){if(i?e[V_(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&W_(r,t,i),Qw(r,t,n))}}function Qg(t,e,n){var i=V_(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var a=t.ownerDocument;a&&(W_(a,t,n),n.ownerElement=null)}}else throw new He(j_,new Error(t.tagName+"@"+n))}nl.prototype={length:0,item:Kr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new He(Kg);var n=this.getNamedItem(t.nodeName);return Xg(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new He(Kg);return n=this.getNamedItemNS(t.namespaceURI,t.localName),Xg(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return Qg(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return Qg(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function H_(){}H_.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new ao;if(i.implementation=this,i.childNodes=new Kr,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new zl;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function Te(){}Te.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return il(this,t,e)},replaceChild:function(t,e){il(this,t,e,$_),e&&this.removeChild(e)},removeChild:function(t){return G_(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return gf(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==rl&&t.nodeType==rl?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==la?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==la?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function z_(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}io(Ut,Te);io(Ut,Te.prototype);function Gs(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Gs(t,e))return!0;while(t=t.nextSibling)}function ao(){this.ownerDocument=this}function Qw(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===Ws.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function W_(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===Ws.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function zh(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a,delete i[i.length]}}}function G_(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,zh(t.ownerDocument,t),e}function Yw(t){return t&&(t.nodeType===Te.DOCUMENT_NODE||t.nodeType===Te.DOCUMENT_FRAGMENT_NODE||t.nodeType===Te.ELEMENT_NODE)}function Jw(t){return t&&(Nr(t)||Wh(t)||nn(t)||t.nodeType===Te.DOCUMENT_FRAGMENT_NODE||t.nodeType===Te.COMMENT_NODE||t.nodeType===Te.PROCESSING_INSTRUCTION_NODE)}function nn(t){return t&&t.nodeType===Te.DOCUMENT_TYPE_NODE}function Nr(t){return t&&t.nodeType===Te.ELEMENT_NODE}function Wh(t){return t&&t.nodeType===Te.TEXT_NODE}function Yg(t,e){var n=t.childNodes||[];if(Rr(n,Nr)||nn(e))return!1;var i=Rr(n,nn);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function Jg(t,e){var n=t.childNodes||[];function i(a){return Nr(a)&&a!==e}if(Rr(n,i))return!1;var r=Rr(n,nn);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function Zw(t,e,n){if(!Yw(t))throw new He(Dt,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new He(j_,"child not in parent");if(!Jw(e)||nn(e)&&t.nodeType!==Te.DOCUMENT_NODE)throw new He(Dt,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function ek(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Te.DOCUMENT_FRAGMENT_NODE){var a=r.filter(Nr);if(a.length>1||Rr(r,Wh))throw new He(Dt,"More than one element or text in fragment");if(a.length===1&&!Yg(t,n))throw new He(Dt,"Element in fragment can not be inserted before doctype")}if(Nr(e)&&!Yg(t,n))throw new He(Dt,"Only one element can be added and only after doctype");if(nn(e)){if(Rr(i,nn))throw new He(Dt,"Only one doctype is allowed");var s=Rr(i,Nr);if(n&&i.indexOf(s)<i.indexOf(n))throw new He(Dt,"Doctype can only be inserted before an element");if(!n&&s)throw new He(Dt,"Doctype can not be appended since element is present")}}function $_(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Te.DOCUMENT_FRAGMENT_NODE){var a=r.filter(Nr);if(a.length>1||Rr(r,Wh))throw new He(Dt,"More than one element or text in fragment");if(a.length===1&&!Jg(t,n))throw new He(Dt,"Element in fragment can not be inserted before doctype")}if(Nr(e)&&!Jg(t,n))throw new He(Dt,"Only one element can be added and only after doctype");if(nn(e)){let u=function(l){return nn(l)&&l!==n};var o=u;if(Rr(i,u))throw new He(Dt,"Only one doctype is allowed");var s=Rr(i,Nr);if(n&&i.indexOf(s)<i.indexOf(n))throw new He(Dt,"Doctype can only be inserted before an element")}}function il(t,e,n,i){Zw(t,e,n),t.nodeType===Te.DOCUMENT_NODE&&(i||ek)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===rn){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var o=n?n.previousSibling:t.lastChild;a.previousSibling=o,s.nextSibling=n,o?o.nextSibling=a:t.firstChild=a,n==null?t.lastChild=s:n.previousSibling=s;do a.parentNode=t;while(a!==s&&(a=a.nextSibling));return zh(t.ownerDocument||t,t),e.nodeType==rn&&(e.firstChild=e.lastChild=null),e}function tk(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,zh(t.ownerDocument,t,e),e}ao.prototype={nodeName:"#document",nodeType:U_,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==rn){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return il(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===vr&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),G_(this,t)},replaceChild:function(t,e){il(this,t,e,$_),t.ownerDocument=this,e&&this.removeChild(e),Nr(t)&&(this.documentElement=t)},importNode:function(t,e){return Y_(this,t,e)},getElementById:function(t){var e=null;return Gs(this.documentElement,function(n){if(n.nodeType==vr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=qg(t);return new da(this,function(n){var i=[];return e.length>0&&Gs(n.documentElement,function(r){if(r!==n&&r.nodeType===vr){var a=r.getAttribute("class");if(a){var s=t===a;if(!s){var o=qg(a);s=e.every(qw(o))}s&&i.push(r)}}}),i})},createElement:function(t){var e=new ci;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Kr;var n=e.attributes=new nl;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Wl;return t.ownerDocument=this,t.childNodes=new Kr,t},createTextNode:function(t){var e=new Gh;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new $h;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new qh;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Xh;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new al;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Kh;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new ci,i=e.split(":"),r=n.attributes=new nl;return n.childNodes=new Kr,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new al,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};Ft(ao,Te);function ci(){this._nsMap={}}ci.prototype={nodeType:vr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===rn?this.insertBefore(t,null):tk(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new da(this,function(e){var n=[];return Gs(e,function(i){i!==e&&i.nodeType==vr&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new da(this,function(n){var i=[];return Gs(n,function(r){r!==n&&r.nodeType===vr&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};ao.prototype.getElementsByTagName=ci.prototype.getElementsByTagName;ao.prototype.getElementsByTagNameNS=ci.prototype.getElementsByTagNameNS;Ft(ci,Te);function al(){}al.prototype.nodeType=la;Ft(al,Te);function so(){}so.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Ze[Dt])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};Ft(so,Te);function Gh(){}Gh.prototype={nodeName:"#text",nodeType:rl,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Ft(Gh,so);function $h(){}$h.prototype={nodeName:"#comment",nodeType:F_};Ft($h,so);function qh(){}qh.prototype={nodeName:"#cdata-section",nodeType:R_};Ft(qh,so);function zl(){}zl.prototype.nodeType=B_;Ft(zl,Te);function q_(){}q_.prototype.nodeType=Xw;Ft(q_,Te);function K_(){}K_.prototype.nodeType=Kw;Ft(K_,Te);function Kh(){}Kh.prototype.nodeType=N_;Ft(Kh,Te);function Wl(){}Wl.prototype.nodeName="#document-fragment";Wl.prototype.nodeType=rn;Ft(Wl,Te);function Xh(){}Xh.prototype.nodeType=M_;Ft(Xh,Te);function X_(){}X_.prototype.serializeToString=function(t,e,n){return Q_.call(t,e,n)};Te.prototype.toString=Q_;function Q_(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&r==null){var r=i.lookupPrefix(a);if(r==null)var s=[{namespace:a,prefix:null}]}return Hi(this,n,t,e,s),n.join("")}function Zg(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===Ws.XML||r===Ws.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==r}return!0}function ec(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,z_),'"')}function Hi(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case vr:var a=t.attributes,s=a.length,x=t.firstChild,o=t.tagName;n=Ws.isHTML(t.namespaceURI)||n;var u=o;if(!n&&!t.prefix&&t.namespaceURI){for(var l,d=0;d<a.length;d++)if(a.item(d).name==="xmlns"){l=a.item(d).value;break}if(!l)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.prefix===""&&f.namespace===t.namespaceURI){l=f.namespace;break}}if(l!==t.namespaceURI)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.namespace===t.namespaceURI){f.prefix&&(u=f.prefix+":"+o);break}}}e.push("<",u);for(var v=0;v<s;v++){var T=a.item(v);T.prefix=="xmlns"?r.push({prefix:T.localName,namespace:T.value}):T.nodeName=="xmlns"&&r.push({prefix:"",namespace:T.value})}for(var v=0;v<s;v++){var T=a.item(v);if(Zg(T,n,r)){var b=T.prefix||"",E=T.namespaceURI;ec(e,b?"xmlns:"+b:"xmlns",E),r.push({prefix:b,namespace:E})}Hi(T,e,n,i,r)}if(o===u&&Zg(t,n,r)){var b=t.prefix||"",E=t.namespaceURI;ec(e,b?"xmlns:"+b:"xmlns",E),r.push({prefix:b,namespace:E})}if(x||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;x;)x.data?e.push(x.data):Hi(x,e,n,i,r.slice()),x=x.nextSibling;else for(;x;)Hi(x,e,n,i,r.slice()),x=x.nextSibling;e.push("</",u,">")}else e.push("/>");return;case U_:case rn:for(var x=t.firstChild;x;)Hi(x,e,n,i,r.slice()),x=x.nextSibling;return;case la:return ec(e,t.name,t.value);case rl:return e.push(t.data.replace(/[<&>]/g,z_));case R_:return e.push("<![CDATA[",t.data,"]]>");case F_:return e.push("<!--",t.data,"-->");case B_:var C=t.publicId,P=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(" PUBLIC ",C),P&&P!="."&&e.push(" ",P),e.push(">");else if(P&&P!=".")e.push(" SYSTEM ",P,">");else{var A=t.internalSubset;A&&e.push(" [",A,"]"),e.push(">")}return;case M_:return e.push("<?",t.target," ",t.data,"?>");case N_:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Y_(t,e,n){var i;switch(e.nodeType){case vr:i=e.cloneNode(!1),i.ownerDocument=t;case rn:break;case la:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(Y_(t,r,n)),r=r.nextSibling;return i}function gf(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];typeof a!="object"&&a!=i[r]&&(i[r]=a)}switch(e.childNodes&&(i.childNodes=new Kr),i.ownerDocument=t,i.nodeType){case vr:var s=e.attributes,o=i.attributes=new nl,u=s.length;o._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(gf(t,s.item(l),!0));break;case la:n=!0}if(n)for(var d=e.firstChild;d;)i.appendChild(gf(t,d,n)),d=d.nextSibling;return i}function J_(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case vr:case rn:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};var getTextContent=t;Object.defineProperty(da.prototype,"length",{get:function(){return Hh(this),this.$$length}}),Object.defineProperty(Te.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case vr:case rn:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),J_=function(e,n,i){e["$$"+n]=i}}}catch{}Un.DocumentType=zl;Un.DOMException=He;Un.DOMImplementation=H_;Un.Element=ci;Un.Node=Te;Un.NodeList=Kr;Un.XMLSerializer=X_;var Gl={},Z_={};(function(t){var e=un.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES})(Z_);var Qh={},$s=un.NAMESPACE,vf=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ev=new RegExp("[\\-\\.0-9"+vf.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tv=new RegExp("^"+vf.source+ev.source+"*(?::"+vf.source+ev.source+"*)?$"),Xa=0,pn=1,bi=2,Qa=3,Ei=4,Ci=5,Ya=6,eu=7;function ca(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ca)}ca.prototype=new Error;ca.prototype.name=ca.name;function eT(){}eT.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),tT(e,e={}),rk(t,e,n,i,this.errorHandler),i.endDocument()}};function rk(t,e,n,i,r){function a(ae){if(ae>65535){ae-=65536;var le=55296+(ae>>10),G=56320+(ae&1023);return String.fromCharCode(le,G)}else return String.fromCharCode(ae)}function s(ae){var le=ae.slice(1,-1);return Object.hasOwnProperty.call(n,le)?n[le]:le.charAt(0)==="#"?a(parseInt(le.substr(1).replace("x","0x"))):(r.error("entity not found:"+ae),ae)}function o(ae){if(ae>b){var le=t.substring(b,ae).replace(/&#?\w+;/g,s);f&&u(b),i.characters(le,0,ae-b),b=ae}}function u(ae,le){for(;ae>=d&&(le=h.exec(t));)l=le.index,d=l+le[0].length,f.lineNumber++;f.columnNumber=ae-l+1}for(var l=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,v=[{currentNSMap:e}],T={},b=0;;){try{var E=t.indexOf("<",b);if(E<0){if(!t.substr(b).match(/^\s*$/)){var x=i.doc,C=x.createTextNode(t.substr(b));x.appendChild(C),i.currentElement=C}return}switch(E>b&&o(E),t.charAt(E+1)){case"/":var K=t.indexOf(">",E+3),P=t.substring(E+2,K).replace(/[ \t\n\r]+$/g,""),A=v.pop();K<0?(P=t.substring(E+2).replace(/[\s<].*/,""),r.error("end tag name: "+P+" is not complete:"+A.tagName),K=E+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),r.error("end tag name: "+P+" maybe not complete"),K=E+1+P.length);var L=A.localNSMap,B=A.tagName==P,F=B||A.tagName&&A.tagName.toLowerCase()==P.toLowerCase();if(F){if(i.endElement(A.uri,A.localName,P),L)for(var M in L)Object.prototype.hasOwnProperty.call(L,M)&&i.endPrefixMapping(M);B||r.fatalError("end tag name: "+P+" is not match the current start tagName:"+A.tagName)}else v.push(A);K++;break;case"?":f&&u(E),K=ok(t,E,i);break;case"!":f&&u(E),K=sk(t,E,i,r);break;default:f&&u(E);var j=new rT,U=v[v.length-1].currentNSMap,K=nk(t,E,j,U,s,r),q=j.length;if(!j.closed&&ak(t,K,j.tagName,T)&&(j.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),f&&q){for(var re=rv(f,{}),fe=0;fe<q;fe++){var ge=j[fe];u(ge.offset),ge.locator=rv(f,{})}i.locator=re,nv(j,i,U)&&v.push(j),i.locator=f}else nv(j,i,U)&&v.push(j);$s.isHTML(j.uri)&&!j.closed?K=ik(t,K,j.tagName,s,i):K++}}catch(ae){if(ae instanceof ca)throw ae;r.error("element parse error: "+ae),K=-1}K>b?b=K:o(Math.max(E,b)+1)}}function rv(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function nk(t,e,n,i,r,a){function s(f,v,T){n.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),n.addValue(f,v.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),T)}for(var o,u,l=++e,d=Xa;;){var h=t.charAt(l);switch(h){case"=":if(d===pn)o=t.slice(e,l),d=Qa;else if(d===bi)d=Qa;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===Qa||d===pn)if(d===pn&&(a.warning('attribute value must after "="'),o=t.slice(e,l)),e=l+1,l=t.indexOf(h,e),l>0)u=t.slice(e,l),s(o,u,e-1),d=Ci;else throw new Error("attribute value no end '"+h+"' match");else if(d==Ei)u=t.slice(e,l),s(o,u,e),a.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=l+1,d=Ci;else throw new Error('attribute value must after "="');break;case"/":switch(d){case Xa:n.setTagName(t.slice(e,l));case Ci:case Ya:case eu:d=eu,n.closed=!0;case Ei:case pn:break;case bi:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),d==Xa&&n.setTagName(t.slice(e,l)),l;case">":switch(d){case Xa:n.setTagName(t.slice(e,l));case Ci:case Ya:case eu:break;case Ei:case pn:u=t.slice(e,l),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case bi:d===bi&&(u=o),d==Ei?(a.warning('attribute "'+u+'" missed quot(")!'),s(o,u,e)):((!$s.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,e));break;case Qa:throw new Error("attribute value missed!!")}return l;case"":h=" ";default:if(h<=" ")switch(d){case Xa:n.setTagName(t.slice(e,l)),d=Ya;break;case pn:o=t.slice(e,l),d=bi;break;case Ei:var u=t.slice(e,l);a.warning('attribute "'+u+'" missed quot(")!!'),s(o,u,e);case Ci:d=Ya;break}else switch(d){case bi:n.tagName,(!$s.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=l,d=pn;break;case Ci:a.warning('attribute space is required"'+o+'"!!');case Ya:d=pn,e=l;break;case Qa:d=Ei,e=l;break;case eu:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function nv(t,e,n){for(var i=t.tagName,r=null,h=t.length;h--;){var a=t[h],s=a.qName,o=a.value,f=s.indexOf(":");if(f>0)var u=a.prefix=s.slice(0,f),l=s.slice(f+1),d=u==="xmlns"&&l;else l=s,u=null,d=s==="xmlns"&&"";a.localName=l,d!==!1&&(r==null&&(r={},tT(n,n={})),n[d]=r[d]=o,a.uri=$s.XMLNS,e.startPrefixMapping(d,o))}for(var h=t.length;h--;){a=t[h];var u=a.prefix;u&&(u==="xml"&&(a.uri=$s.XML),u!=="xmlns"&&(a.uri=n[u||""]))}var f=i.indexOf(":");f>0?(u=t.prefix=i.slice(0,f),l=t.localName=i.slice(f+1)):(u=null,l=t.localName=i);var v=t.uri=n[u||""];if(e.startElement(v,l,i,t),t.closed){if(e.endElement(v,l,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=r,!0}function ik(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return e+1}function ak(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function tT(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function sk(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(n.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var s=uk(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],l=!1,d=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],d=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(d=s[3][0]));var h=s[o-1];return n.startDTD(u,l,d),n.endDTD(),h.index+h[0].length}}return-1}function ok(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function rT(){this.attributeNames={}}rT.prototype={setTagName:function(t){if(!tv.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!tv.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function uk(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}Qh.XMLReader=eT;Qh.ParseError=ca;var lk=un,dk=Un,iv=Z_,nT=Qh,ck=dk.DOMImplementation,av=lk.NAMESPACE,fk=nT.ParseError,hk=nT.XMLReader;function iT(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function aT(t){this.options=t||{locator:{}}}aT.prototype.parseFromString=function(t,e){var n=this.options,i=new hk,r=n.domBuilder||new oo,a=n.errorHandler,s=n.locator,o=n.xmlns||{},u=/\/x?html?$/.test(e),l=u?iv.HTML_ENTITIES:iv.XML_ENTITIES;s&&r.setDocumentLocator(s),i.errorHandler=pk(a,r,s),i.domBuilder=n.domBuilder||r,u&&(o[""]=av.HTML),o.xml=o.xml||av.XML;var d=n.normalizeLineEndings||iT;return t&&typeof t=="string"?i.parse(d(t),o,l):i.errorHandler.error("invalid doc source"),r.doc};function pk(t,e,n){if(!t){if(e instanceof oo)return e;t=e}var i={},r=t instanceof Function;n=n||{};function a(s){var o=t[s];!o&&r&&(o=t.length==2?function(u){t(s,u)}:t),i[s]=o&&function(u){o("[xmldom "+s+"]	"+u+yf(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function oo(){this.cdata=!1}function wi(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}oo.prototype={startDocument:function(){this.doc=new ck().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,a=r.createElementNS(t,n||e),s=i.length;tu(this,a),this.currentElement=a,this.locator&&wi(this.locator,a);for(var o=0;o<s;o++){var t=i.getURI(o),u=i.getValue(o),n=i.getQName(o),l=r.createAttributeNS(t,n);this.locator&&wi(i.getLocator(o),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&wi(this.locator,n),tu(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=sv.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&wi(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=sv.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&wi(this.locator,i),tu(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&wi(this.locator,r),tu(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,yf(this.locator))},error:function(t){console.error("[xmldom error]	"+t,yf(this.locator))},fatalError:function(t){throw new fk(t,this.locator)}};function yf(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function sv(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){oo.prototype[t]=function(){return null}});function tu(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Gl.__DOMHandler=oo;Gl.normalizeLineEndings=iT;Gl.DOMParser=aT;var mk=Gl.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var ov=function(e){return!!e&&typeof e=="object"},St=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(r,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(r[s])&&Array.isArray(a[s])?r[s]=r[s].concat(a[s]):ov(r[s])&&ov(a[s])?r[s]=t(r[s],a[s]):r[s]=a[s]}),r},{})},sT=function(e){return Object.keys(e).map(function(n){return e[n]})},gk=function(e,n){for(var i=[],r=e;r<n;r++)i.push(r);return i},$l=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},oT=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},vk=function(e,n){return e.reduce(function(i,r,a){return r[n]&&i.push(a),i},[])},_f=function(e,n){for(var i=0;i<e.length;i++)if(n(e[i]))return i;return-1},yk=function(e,n){return sT(e.reduce(function(i,r){return r.forEach(function(a){i[n(a)]=a}),i},{}))},fa={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},qs=function(e){var n=e.baseUrl,i=n===void 0?"":n,r=e.source,a=r===void 0?"":r,s=e.range,o=s===void 0?"":s,u=e.indexRange,l=u===void 0?"":u,d={uri:a,resolvedUri:Hl(i||"",a)};if(o||l){var h=o||l,f=h.split("-"),v=I.BigInt?I.BigInt(f[0]):parseInt(f[0],10),T=I.BigInt?I.BigInt(f[1]):parseInt(f[1],10);v<Number.MAX_SAFE_INTEGER&&typeof v=="bigint"&&(v=Number(v)),T<Number.MAX_SAFE_INTEGER&&typeof T=="bigint"&&(T=Number(T));var b;typeof T=="bigint"||typeof v=="bigint"?b=I.BigInt(T)-I.BigInt(v)+I.BigInt(1):b=T-v+1,typeof b=="bigint"&&b<Number.MAX_SAFE_INTEGER&&(b=Number(b)),d.byterange={length:b,offset:v}}return d},_k=function(e){var n;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=I.BigInt(e.offset)+I.BigInt(e.length)-I.BigInt(1):n=e.offset+e.length-1,e.offset+"-"+n},uv=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},Tk={static:function(e){var n=e.duration,i=e.timescale,r=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,o=uv(e.endNumber),u=n/r;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/u}:{start:0,end:a/u}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,r=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,u=e.periodStart,l=u===void 0?0:u,d=e.minimumUpdatePeriod,h=d===void 0?0:d,f=e.timeShiftBufferDepth,v=f===void 0?1/0:f,T=uv(e.endNumber),b=(n+i)/1e3,E=r+l,x=b+h,C=x-E,P=Math.ceil(C*s/o),A=Math.floor((b-E-v)*s/o),L=Math.floor((b-E)*s/o);return{start:Math.max(0,A),end:typeof T=="number"?T:Math.min(P,L)}}},Sk=function(e){return function(n){var i=e.duration,r=e.timescale,a=r===void 0?1:r,s=e.periodStart,o=e.startNumber,u=o===void 0?1:o;return{number:u+n,duration:i/a,timeline:s,time:n*i}}},Yh=function(e){var n=e.type,i=e.duration,r=e.timescale,a=r===void 0?1:r,s=e.periodDuration,o=e.sourceDuration,u=Tk[n](e),l=u.start,d=u.end,h=gk(l,d).map(Sk(e));if(n==="static"){var f=h.length-1,v=typeof s=="number"?s:o;h[f].duration=v-i/a*f}return h},uT=function(e){var n=e.baseUrl,i=e.initialization,r=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,u=e.periodStart,l=e.presentationTime,d=e.number,h=d===void 0?0:d,f=e.duration;if(!n)throw new Error(fa.NO_BASE_URL);var v=qs({baseUrl:n,source:r.sourceURL,range:r.range}),T=qs({baseUrl:n,source:n,indexRange:o});if(T.map=v,f){var b=Yh(e);b.length&&(T.duration=b[0].duration,T.timeline=b[0].timeline)}else a&&(T.duration=a,T.timeline=u);return T.presentationTime=l||u,T.number=h,[T]},Jh=function(e,n,i){var r=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,u=o.offset+o.length,l=n.timescale,d=n.references.filter(function(j){return j.referenceType!==1}),h=[],f=e.endList?"static":"dynamic",v=e.sidx.timeline,T=v,b=e.mediaSequence||0,E;typeof n.firstOffset=="bigint"?E=I.BigInt(u)+n.firstOffset:E=u+n.firstOffset;for(var x=0;x<d.length;x++){var C=n.references[x],P=C.referencedSize,A=C.subsegmentDuration,L=void 0;typeof E=="bigint"?L=E+I.BigInt(P)-I.BigInt(1):L=E+P-1;var B=E+"-"+L,F={baseUrl:i,timescale:l,timeline:s,periodStart:v,presentationTime:T,number:b,duration:A,sourceDuration:a,indexRange:B,type:f},M=uT(F)[0];r&&(M.map=r),h.push(M),typeof E=="bigint"?E+=I.BigInt(P):E+=P,T+=A/l,b++}return e.segments=h,e},xk=["AUDIO","SUBTITLES"],bk=1/60,lT=function(e){return yk(e,function(n){var i=n.timeline;return i}).sort(function(n,i){return n.timeline>i.timeline?1:-1})},Ek=function(e,n){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===n)return e[i];return null},lv=function(e){var n=[];return Vw(e,xk,function(i,r,a,s){n=n.concat(i.playlists||[])}),n},dv=function(e){var n=e.playlist,i=e.mediaSequence;n.mediaSequence=i,n.segments.forEach(function(r,a){r.number=n.mediaSequence+a})},Ck=function(e){var n=e.oldPlaylists,i=e.newPlaylists,r=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=_f(r,function(d){var h=d.timeline;return h===a.timeline});var s=Ek(n,a.attributes.NAME);if(s&&!a.sidx){var o=a.segments[0],u=_f(s.segments,function(d){return Math.abs(d.presentationTime-o.presentationTime)<bk});if(u===-1){dv({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var l=s.segments[u];l.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),dv({playlist:a,mediaSequence:s.segments[u].number})}})},wk=function(e){var n=e.oldManifest,i=e.newManifest,r=n.playlists.concat(lv(n)),a=i.playlists.concat(lv(i));return i.timelineStarts=lT([n.timelineStarts,i.timelineStarts]),Ck({oldPlaylists:r,newPlaylists:a,timelineStarts:i.timelineStarts}),i},ql=function(e){return e&&e.uri+"-"+_k(e.byterange)},tc=function(e){var n=sT(e.reduce(function(i,r){var a=r.attributes.id+(r.attributes.lang||"");if(!i[a])i[a]=r,i[a].attributes.timelineStarts=[];else{if(r.segments){var s;r.segments[0]&&(r.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,r.segments)}r.attributes.contentProtection&&(i[a].attributes.contentProtection=r.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:r.attributes.periodStart,timeline:r.attributes.periodStart}),i},{}));return n.map(function(i){return i.discontinuityStarts=vk(i.segments||[],"discontinuity"),i})},Zh=function(e,n){var i=ql(e.sidx),r=i&&n[i]&&n[i].sidx;return r&&Jh(e,r,e.sidx.resolvedUri),e},kk=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=Zh(e[i],n);return e},Pk=function(e,n){var i,r=e.attributes,a=e.segments,s=e.sidx,o=e.mediaSequence,u=e.discontinuitySequence,l=e.discontinuityStarts,d={attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:u,discontinuityStarts:l,timelineStarts:r.timelineStarts,mediaSequence:o,segments:a};return r.contentProtection&&(d.contentProtection=r.contentProtection),s&&(d.sidx=s),n&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d},Ik=function(e){var n,i=e.attributes,r=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,o=e.discontinuitySequence;typeof r>"u"&&(r=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var u=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(u.CODECS=i.codecs),{attributes:u,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:a,segments:r}},Ak=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var r,a=e.reduce(function(o,u){var l=u.attributes.role&&u.attributes.role.value||"",d=u.attributes.lang||"",h=u.attributes.label||"main";if(d&&!u.attributes.label){var f=l?" ("+l+")":"";h=""+u.attributes.lang+f}o[h]||(o[h]={language:d,autoselect:!0,default:l==="main",playlists:[],uri:""});var v=Zh(Pk(u,i),n);return o[h].playlists.push(v),typeof r>"u"&&l==="main"&&(r=u,r.default=!0),o},{});if(!r){var s=Object.keys(a)[0];a[s].default=!0}return a},Dk=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,r){var a=r.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(Zh(Ik(r),n)),i},{})},Ok=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(r){var a=r.channel,s=r.language;n[s]={autoselect:!1,default:!1,instreamId:a,language:s},r.hasOwnProperty("aspectRatio")&&(n[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(n[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(n[s]["3D"]=r["3D"])}),n},{})},Lk=function(e){var n,i=e.attributes,r=e.segments,a=e.sidx,s=e.discontinuityStarts,o={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:r};return i.frameRate&&(o.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(o.contentProtection=i.contentProtection),a&&(o.sidx=a),o},Rk=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},Nk=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},Mk=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},Fk=function(e,n){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=_f(n,function(r){var a=r.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(r,a){r.number=a})})},cv=function(e){return e?Object.keys(e).reduce(function(n,i){var r=e[i];return n.concat(r.playlists)},[]):[]},Uk=function(e){var n,i=e.dashPlaylists,r=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,o=e.previousManifest;if(!i.length)return{};var u=i[0].attributes,l=u.sourceDuration,d=u.type,h=u.suggestedPresentationDelay,f=u.minimumUpdatePeriod,v=tc(i.filter(Rk)).map(Lk),T=tc(i.filter(Nk)),b=tc(i.filter(Mk)),E=i.map(function(F){return F.attributes.captionServices}).filter(Boolean),x={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:l,playlists:kk(v,s)};f>=0&&(x.minimumUpdatePeriod=f*1e3),r&&(x.locations=r),d==="dynamic"&&(x.suggestedPresentationDelay=h);var C=x.playlists.length===0,P=T.length?Ak(T,s,C):null,A=b.length?Dk(b,s):null,L=v.concat(cv(P),cv(A)),B=L.map(function(F){var M=F.timelineStarts;return M});return x.timelineStarts=lT(B),Fk(L,x.timelineStarts),P&&(x.mediaGroups.AUDIO.audio=P),A&&(x.mediaGroups.SUBTITLES.subs=A),E.length&&(x.mediaGroups["CLOSED-CAPTIONS"].cc=Ok(E)),o?wk({oldManifest:o,newManifest:x}):x},Bk=function(e,n,i){var r=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,u=o===void 0?1:o,l=e.periodStart,d=l===void 0?0:l,h=e.minimumUpdatePeriod,f=h===void 0?0:h,v=(r+a)/1e3,T=s+d,b=v+f,E=b-T;return Math.ceil((E*u-n)/i)},dT=function(e,n){for(var i=e.type,r=e.minimumUpdatePeriod,a=r===void 0?0:r,s=e.media,o=s===void 0?"":s,u=e.sourceDuration,l=e.timescale,d=l===void 0?1:l,h=e.startNumber,f=h===void 0?1:h,v=e.periodStart,T=[],b=-1,E=0;E<n.length;E++){var x=n[E],C=x.d,P=x.r||0,A=x.t||0;b<0&&(b=A),A&&A>b&&(b=A);var L=void 0;if(P<0){var B=E+1;B===n.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?L=Bk(e,b,C):L=(u*d-b)/C:L=(n[B].t-b)/C}else L=P+1;for(var F=f+T.length+L,M=f+T.length;M<F;)T.push({number:M,duration:C/d,time:b,timeline:v}),b+=C,M++}return T},jk=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Vk=function(e){return function(n,i,r,a){if(n==="$$")return"$";if(typeof e[i]>"u")return n;var s=""+e[i];return i==="RepresentationID"||(r?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},fv=function(e,n){return e.replace(jk,Vk(n))},Hk=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Yh(e):dT(e,n)},zk=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,a=r===void 0?{sourceURL:"",range:""}:r,s=qs({baseUrl:e.baseUrl,source:fv(a.sourceURL,i),range:a.range}),o=Hk(e,n);return o.map(function(u){i.Number=u.number,i.Time=u.time;var l=fv(e.media||"",i),d=e.timescale||1,h=e.presentationTimeOffset||0,f=e.periodStart+(u.time-h)/d,v={uri:l,timeline:u.timeline,duration:u.duration,resolvedUri:Hl(e.baseUrl||"",l),map:s,number:u.number,presentationTime:f};return v})},Wk=function(e,n){var i=e.baseUrl,r=e.initialization,a=r===void 0?{}:r,s=qs({baseUrl:i,source:a.sourceURL,range:a.range}),o=qs({baseUrl:i,source:n.media,range:n.mediaRange});return o.map=s,o},Gk=function(e,n){var i=e.duration,r=e.segmentUrls,a=r===void 0?[]:r,s=e.periodStart;if(!i&&!n||i&&n)throw new Error(fa.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(d){return Wk(e,d)}),u;i&&(u=Yh(e)),n&&(u=dT(e,n));var l=u.map(function(d,h){if(o[h]){var f=o[h],v=e.timescale||1,T=e.presentationTimeOffset||0;return f.timeline=d.timeline,f.duration=d.duration,f.number=d.number,f.presentationTime=s+(d.time-T)/v,f}}).filter(function(d){return d});return l},$k=function(e){var n=e.attributes,i=e.segmentInfo,r,a;i.template?(a=zk,r=St(n,i.template)):i.base?(a=uT,r=St(n,i.base)):i.list&&(a=Gk,r=St(n,i.list));var s={attributes:n};if(!a)return s;var o=a(r,i.segmentTimeline);if(r.duration){var u=r,l=u.duration,d=u.timescale,h=d===void 0?1:d;r.duration=l/h}else o.length?r.duration=o.reduce(function(f,v){return Math.max(f,Math.ceil(v.duration))},0):r.duration=0;return s.attributes=r,s.segments=o,i.base&&r.indexRange&&(s.sidx=o[0],s.segments=[]),s},qk=function(e){return e.map($k)},Be=function(e,n){return oT(e.childNodes).filter(function(i){var r=i.tagName;return r===n})},ep=function(e){return e.textContent.trim()},Kk=function(e){return parseFloat(e.split("/").reduce(function(n,i){return n/i}))},ki=function(e){var n=31536e3,i=30*24*60*60,r=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,u=o.exec(e);if(!u)return 0;var l=u.slice(1),d=l[0],h=l[1],f=l[2],v=l[3],T=l[4],b=l[5];return parseFloat(d||0)*n+parseFloat(h||0)*i+parseFloat(f||0)*r+parseFloat(v||0)*a+parseFloat(T||0)*s+parseFloat(b||0)},Xk=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},hv={mediaPresentationDuration:function(e){return ki(e)},availabilityStartTime:function(e){return Xk(e)/1e3},minimumUpdatePeriod:function(e){return ki(e)},suggestedPresentationDelay:function(e){return ki(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return ki(e)},start:function(e){return ki(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return Kk(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?ki(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},dt=function(e){return e&&e.attributes?oT(e.attributes).reduce(function(n,i){var r=hv[i.name]||hv.DEFAULT;return n[i.name]=r(i.value),n},{}):{}},Qk={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Kl=function(e,n){return n.length?$l(e.map(function(i){return n.map(function(r){return Hl(i,ep(r))})})):e},tp=function(e){var n=Be(e,"SegmentTemplate")[0],i=Be(e,"SegmentList")[0],r=i&&Be(i,"SegmentURL").map(function(f){return St({tag:"SegmentURL"},dt(f))}),a=Be(e,"SegmentBase")[0],s=i||n,o=s&&Be(s,"SegmentTimeline")[0],u=i||a||n,l=u&&Be(u,"Initialization")[0],d=n&&dt(n);d&&l?d.initialization=l&&dt(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var h={template:d,segmentTimeline:o&&Be(o,"S").map(function(f){return dt(f)}),list:i&&St(dt(i),{segmentUrls:r,initialization:dt(l)}),base:a&&St(dt(a),{initialization:dt(l)})};return Object.keys(h).forEach(function(f){h[f]||delete h[f]}),h},Yk=function(e,n,i){return function(r){var a=Be(r,"BaseURL"),s=Kl(n,a),o=St(e,dt(r)),u=tp(r);return s.map(function(l){return{segmentInfo:St(i,u),attributes:St(o,{baseUrl:l})}})}},Jk=function(e){return e.reduce(function(n,i){var r=dt(i);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());var a=Qk[r.schemeIdUri];if(a){n[a]={attributes:r};var s=Be(i,"cenc:pssh")[0];if(s){var o=ep(s);n[a].pssh=o&&C_(o)}}return n},{})},Zk=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var a,s;if(s=r,/^CC\d=/.test(r)){var o=r.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(r)&&(a=r);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var s=r.split("="),o=s[0],u=s[1],l=u===void 0?"":u;a.channel=o,a.language=r,l.split(",").forEach(function(d){var h=d.split(":"),f=h[0],v=h[1];f==="lang"?a.language=v:f==="er"?a.easyReader=Number(v):f==="war"?a.aspectRatio=Number(v):f==="3D"&&(a["3D"]=Number(v))})}else a.language=r;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},eP=function(e,n,i){return function(r){var a=dt(r),s=Kl(n,Be(r,"BaseURL")),o=Be(r,"Role")[0],u={role:dt(o)},l=St(e,a,u),d=Be(r,"Accessibility")[0],h=Zk(dt(d));h&&(l=St(l,{captionServices:h}));var f=Be(r,"Label")[0];if(f&&f.childNodes.length){var v=f.childNodes[0].nodeValue.trim();l=St(l,{label:v})}var T=Jk(Be(r,"ContentProtection"));Object.keys(T).length&&(l=St(l,{contentProtection:T}));var b=tp(r),E=Be(r,"Representation"),x=St(i,b);return $l(E.map(Yk(l,s,x)))}},tP=function(e,n){return function(i,r){var a=Kl(n,Be(i.node,"BaseURL")),s=St(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var o=Be(i.node,"AdaptationSet"),u=tp(i.node);return $l(o.map(eP(s,a,u)))}},rP=function(e){var n=e.attributes,i=e.priorPeriodAttributes,r=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&r==="static"?0:null},nP=function(e,n){n===void 0&&(n={});var i=n,r=i.manifestUri,a=r===void 0?"":r,s=i.NOW,o=s===void 0?Date.now():s,u=i.clientOffset,l=u===void 0?0:u,d=Be(e,"Period");if(!d.length)throw new Error(fa.INVALID_NUMBER_OF_PERIOD);var h=Be(e,"Location"),f=dt(e),v=Kl([a],Be(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=l,h.length&&(f.locations=h.map(ep));var T=[];return d.forEach(function(b,E){var x=dt(b),C=T[E-1];x.start=rP({attributes:x,priorPeriodAttributes:C?C.attributes:null,mpdType:f.type}),T.push({node:b,attributes:x})}),{locations:f.locations,representationInfo:$l(T.map(tP(f,v)))}},cT=function(e){if(e==="")throw new Error(fa.DASH_EMPTY_MANIFEST);var n=new mk,i,r;try{i=n.parseFromString(e,"application/xml"),r=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(fa.DASH_INVALID_XML);return r},iP=function(e){var n=Be(e,"UTCTiming")[0];if(!n)return null;var i=dt(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(fa.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},aP=function(e,n){n===void 0&&(n={});var i=nP(cT(e),n),r=qk(i.representationInfo);return Uk({dashPlaylists:r,locations:i.locations,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest})},sP=function(e){return iP(cT(e))},fT=Math.pow(2,32),oP=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*fT+e.getUint32(4)},uP={getUint64:oP,MAX_UINT32:fT},pv=uP.getUint64,lP=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=pv(t.subarray(i)),n.firstOffset=pv(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},dP=lP,cP=ne([73,68,51]),fP=function(e,n){n===void 0&&(n=0),e=ne(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(i&16)>>4;return a?r+20:r+10},us=function t(e,n){return n===void 0&&(n=0),e=ne(e),e.length-n<10||!Ae(e,cP,{offset:n})?n:(n+=fP(e,n),t(e,n))},mv=function(e){return typeof e=="string"?A_(e):e},hP=function(e){return Array.isArray(e)?e.map(function(n){return mv(n)}):[mv(e)]},pP=function t(e,n,i){i===void 0&&(i=!1),n=hP(n),e=ne(e);var r=[];if(!n.length)return r;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var u=a+s;if(u>e.length){if(i)break;u=e.length}var l=e.subarray(a+8,u);Ae(o,n[0])&&(n.length===1?r.push(l):r.push.apply(r,t(l,n.slice(1),i))),a=u}return r},ru={EBML:ne([26,69,223,163]),DocType:ne([66,130]),Segment:ne([24,83,128,103]),SegmentInfo:ne([21,73,169,102]),Tracks:ne([22,84,174,107]),Track:ne([174]),TrackNumber:ne([215]),DefaultDuration:ne([35,227,131]),TrackEntry:ne([174]),TrackType:ne([131]),FlagDefault:ne([136]),CodecID:ne([134]),CodecPrivate:ne([99,162]),VideoTrack:ne([224]),AudioTrack:ne([225]),Cluster:ne([31,67,182,117]),Timestamp:ne([231]),TimestampScale:ne([42,215,177]),BlockGroup:ne([160]),BlockDuration:ne([155]),Block:ne([161]),SimpleBlock:ne([163])},Tf=[128,64,32,16,8,4,2,1],mP=function(e){for(var n=1,i=0;i<Tf.length&&!(e&Tf[i]);i++)n++;return n},sl=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var a=mP(e[n]),s=e.subarray(n,n+a);return i&&(s=Array.prototype.slice.call(e,n,n+a),s[0]^=Tf[a-1]),{length:a,value:Uw(s,{signed:r}),bytes:s}},gv=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?Bw(e):e},gP=function(e){return Array.isArray(e)?e.map(function(n){return gv(n)}):[gv(e)]},vP=function t(e,n,i){if(i>=n.length)return n.length;var r=sl(n,i,!1);if(Ae(e.bytes,r.bytes))return i;var a=sl(n,i+r.length);return t(e,n,i+a.length+a.value+r.length)},vv=function t(e,n){n=gP(n),e=ne(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var a=sl(e,r,!1),s=sl(e,r+a.length),o=r+a.length+s.length;s.value===127&&(s.value=vP(a,e,o),s.value!==e.length&&(s.value-=o));var u=o+s.value>e.length?e.length:o+s.value,l=e.subarray(o,u);Ae(n[0],a.bytes)&&(n.length===1?i.push(l):i=i.concat(t(l,n.slice(1))));var d=a.length+s.length+l.length;r+=d}return i},yP=ne([0,0,0,1]),_P=ne([0,0,1]),TP=ne([0,0,3]),SP=function(e){for(var n=[],i=1;i<e.length-2;)Ae(e.subarray(i,i+3),TP)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,a=new Uint8Array(r),s=0;for(i=0;i<r;s++,i++)s===n[0]&&(s++,n.shift()),a[i]=e[s];return a},hT=function(e,n,i,r){r===void 0&&(r=1/0),e=ne(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<r||s);){var u=void 0;if(Ae(e.subarray(a),yP)?u=4:Ae(e.subarray(a),_P)&&(u=3),!u){a++;continue}if(o++,s)return SP(e.subarray(s,a));var l=void 0;n==="h264"?l=e[a+u]&31:n==="h265"&&(l=e[a+u]>>1&63),i.indexOf(l)!==-1&&(s=a+u),a+=u+(n==="h264"?1:2)}return e.subarray(0,0)},xP=function(e,n,i){return hT(e,"h264",n,i)},bP=function(e,n,i){return hT(e,"h265",n,i)},vt={webm:ne([119,101,98,109]),matroska:ne([109,97,116,114,111,115,107,97]),flac:ne([102,76,97,67]),ogg:ne([79,103,103,83]),ac3:ne([11,119]),riff:ne([82,73,70,70]),avi:ne([65,86,73]),wav:ne([87,65,86,69]),"3gp":ne([102,116,121,112,51,103]),mp4:ne([102,116,121,112]),fmp4:ne([115,116,121,112]),mov:ne([102,116,121,112,113,116]),moov:ne([109,111,111,118]),moof:ne([109,111,111,102])},ha={aac:function(e){var n=us(e);return Ae(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=us(e);return Ae(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=vv(e,[ru.EBML,ru.DocType])[0];return Ae(n,vt.webm)},mkv:function(e){var n=vv(e,[ru.EBML,ru.DocType])[0];return Ae(n,vt.matroska)},mp4:function(e){if(ha["3gp"](e)||ha.mov(e))return!1;if(Ae(e,vt.mp4,{offset:4})||Ae(e,vt.fmp4,{offset:4})||Ae(e,vt.moof,{offset:4})||Ae(e,vt.moov,{offset:4}))return!0},mov:function(e){return Ae(e,vt.mov,{offset:4})},"3gp":function(e){return Ae(e,vt["3gp"],{offset:4})},ac3:function(e){var n=us(e);return Ae(e,vt.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=us(e);return Ae(e,vt.flac,{offset:n})},ogg:function(e){return Ae(e,vt.ogg)},avi:function(e){return Ae(e,vt.riff)&&Ae(e,vt.avi,{offset:8})},wav:function(e){return Ae(e,vt.riff)&&Ae(e,vt.wav,{offset:8})},h264:function(e){return xP(e,7,3).length},h265:function(e){return bP(e,[32,33],3).length}},Sf=Object.keys(ha).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Sf.forEach(function(t){var e=ha[t];ha[t]=function(n){return e(ne(n))}});var EP=ha,rp=function(e){e=ne(e);for(var n=0;n<Sf.length;n++){var i=Sf[n];if(EP[i](e))return i}return""},CP=function(e){return pP(e,["moof"]).length>0},np=9e4,ip,ap,Xl,sp,pT,mT,gT;ip=function(t){return t*np};ap=function(t,e){return t*e};Xl=function(t){return t/np};sp=function(t,e){return t/e};pT=function(t,e){return ip(sp(t,e))};mT=function(t,e){return ap(Xl(t),e)};gT=function(t,e,n){return Xl(n?t:t-e)};var ol={ONE_SECOND_IN_TS:np,secondsToVideoTs:ip,secondsToAudioTs:ap,videoTsToSeconds:Xl,audioTsToSeconds:sp,audioTsToVideoTs:pT,videoTsToAudioTs:mT,metadataTsToSeconds:gT};function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(t)}function wP(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function bf(t){var e=typeof Map=="function"?new Map:void 0;return bf=function(i){if(i===null||!wP(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return Ss(i,arguments,xf(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ua(r,i)},bf(t)}/**
 * @license
 * Video.js 7.21.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var vT="7.21.4",zr={},On=function(e,n){return zr[e]=zr[e]||[],n&&(zr[e]=zr[e].concat(n)),zr[e]},kP=function(e,n){On(e,n)},yT=function(e,n){var i=On(e).indexOf(n);return i<=-1?!1:(zr[e]=zr[e].slice(),zr[e].splice(i,1),!0)},PP=function(e,n){On(e,[].concat(n).map(function(i){var r=function a(){return yT(e,a),i.apply(void 0,arguments)};return r}))},ul={prefixed:!0},Eu=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],yv=Eu[0],ls;for(var nu=0;nu<Eu.length;nu++)if(Eu[nu][1]in $){ls=Eu[nu];break}if(ls){for(var iu=0;iu<ls.length;iu++)ul[yv[iu]]=ls[iu];ul.prefixed=ls[0]!==yv[0]}var It=[],IP=function(e,n){return function(i,r,a){var s=n.levels[r],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),It){It.push([].concat(a));var u=It.length-1e3;It.splice(0,u>0?u:0)}if(I.console){var l=I.console[i];!l&&i==="debug"&&(l=I.console.info||I.console.log),!(!l||!s||!o.test(i))&&l[Array.isArray(a)?"apply":"call"](I.console,a)}}};function _T(t){var e="info",n,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n("log",e,s)};return n=IP(t,i),i.createLogger=function(r){return _T(t+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(r){if(typeof r=="string"){if(!i.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},i.history=function(){return It?[].concat(It):[]},i.history.filter=function(r){return(It||[]).filter(function(a){return new RegExp(".*"+r+".*").test(a[0])})},i.history.clear=function(){It&&(It.length=0)},i.history.disable=function(){It!==null&&(It.length=0,It=null)},i.history.enable=function(){It===null&&(It=[])},i.error=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("error",e,a)},i.warn=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("warn",e,a)},i.debug=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("debug",e,a)},i}var ue=_T("VIDEOJS"),TT=ue.createLogger,AP=Object.prototype.toString,ST=function(e){return an(e)?Object.keys(e):[]};function Ji(t,e){ST(t).forEach(function(n){return e(t[n],n)})}function DP(t,e,n){return n===void 0&&(n=0),ST(t).reduce(function(i,r){return e(i,t[r],r)},n)}function Fe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?ar.apply(void 0,[t].concat(n)):(n.forEach(function(r){r&&Ji(r,function(a,s){t[s]=a})}),t)}function an(t){return!!t&&typeof t=="object"}function Ks(t){return an(t)&&AP.call(t)==="[object Object]"&&t.constructor===Object}function Xs(t,e){if(!t||!e)return"";if(typeof I.getComputedStyle=="function"){var n;try{n=I.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var Je=I.navigator&&I.navigator.userAgent||"",_v=/AppleWebKit\/([\d.]+)/i.exec(Je),OP=_v?parseFloat(_v.pop()):null,xT=/iPod/i.test(Je),LP=function(){var t=Je.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),ln=/Android/i.test(Je),op=function(){var t=Je.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),bT=ln&&op<5&&OP<537,ET=/Firefox/i.test(Je),uo=/Edg/i.test(Je),dn=!uo&&(/Chrome/i.test(Je)||/CriOS/i.test(Je)),CT=function(){var t=Je.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),lo=function(){var t=/MSIE\s(\d+)\.\d/.exec(Je),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Je)&&/rv:11.0/.test(Je)&&(e=11),e}(),up=/Safari/i.test(Je)&&!dn&&!ln&&!uo,wT=/Windows/i.test(Je),pa=!!(Ea()&&("ontouchstart"in I||I.navigator.maxTouchPoints||I.DocumentTouch&&I.document instanceof I.DocumentTouch)),lp=/iPad/i.test(Je)||up&&pa&&!/iPhone/i.test(Je),dp=/iPhone/i.test(Je)&&!lp,Ct=dp||lp||xT,Ql=(up||Ct)&&!dn,RP=Object.freeze({__proto__:null,IS_IPOD:xT,IOS_VERSION:LP,IS_ANDROID:ln,ANDROID_VERSION:op,IS_NATIVE_ANDROID:bT,IS_FIREFOX:ET,IS_EDGE:uo,IS_CHROME:dn,CHROME_VERSION:CT,IE_VERSION:lo,IS_SAFARI:up,IS_WINDOWS:wT,TOUCH_ENABLED:pa,IS_IPAD:lp,IS_IPHONE:dp,IS_IOS:Ct,IS_ANY_SAFARI:Ql});function Tv(t){return typeof t=="string"&&!!t.trim()}function kT(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function NP(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function Ea(){return $===I.document}function Ca(t){return an(t)&&t.nodeType===1}function PT(){try{return I.parent!==I.self}catch{return!0}}function IT(t){return function(e,n){if(!Tv(e))return $[t](null);Tv(n)&&(n=$.querySelector(n));var i=Ca(n)?n:$;return i[t]&&i[t](e)}}function ce(t,e,n,i){t===void 0&&(t="div"),e===void 0&&(e={}),n===void 0&&(n={});var r=$.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(ue.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),r.setAttribute(a,s)):a==="textContent"?mi(r,s):(r[a]!==s||a==="tabIndex")&&(r[a]=s)}),Object.getOwnPropertyNames(n).forEach(function(a){r.setAttribute(a,n[a])}),i&&fp(r,i),r}function mi(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Ef(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ni(t,e){return kT(e),t.classList?t.classList.contains(e):NP(e).test(t.className)}function Xr(t,e){return t.classList?t.classList.add(e):ni(t,e)||(t.className=(t.className+" "+e).trim()),t}function co(t,e){return t?(t.classList?t.classList.remove(e):(kT(e),t.className=t.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),t):(ue.warn("removeClass was called with an element that doesn't exist"),null)}function AT(t,e,n){var i=ni(t,e);if(typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?Xr(t,e):co(t,e),t}function DT(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Vr(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var a=i[r].name,s=i[r].value;(typeof t[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function OT(t,e){return t.getAttribute(e)}function ma(t,e,n){t.setAttribute(e,n)}function Yl(t,e){t.removeAttribute(e)}function LT(){$.body.focus(),$.onselectstart=function(){return!1}}function RT(){$.onselectstart=function(){return!0}}function ga(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Xs(t,"height"))),n.width||(n.width=parseFloat(Xs(t,"width"))),n}}function Qs(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;t.offsetParent&&t!==$[ul.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function Jl(t,e){var n={x:0,y:0};if(Ct)for(var i=t;i&&i.nodeName.toLowerCase()!=="html";){var r=Xs(i,"transform");if(/^matrix/.test(r)){var a=r.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(r)){var s=r.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var o={},u=Qs(e.target),l=Qs(t),d=l.width,h=l.height,f=e.offsetY-(l.top-u.top),v=e.offsetX-(l.left-u.left);return e.changedTouches&&(v=e.changedTouches[0].pageX-l.left,f=e.changedTouches[0].pageY+l.top,Ct&&(v-=n.x,f-=n.y)),o.y=1-Math.max(0,Math.min(1,f/h)),o.x=Math.max(0,Math.min(1,v/d)),o}function NT(t){return an(t)&&t.nodeType===3}function cp(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function MT(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Ca(e)||NT(e))return e;if(typeof e=="string"&&/\S/.test(e))return $.createTextNode(e)}).filter(function(e){return e})}function fp(t,e){return MT(e).forEach(function(n){return t.appendChild(n)}),t}function FT(t,e){return fp(cp(t),e)}function Ys(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Ln=IT("querySelector"),UT=IT("querySelectorAll"),BT=Object.freeze({__proto__:null,isReal:Ea,isEl:Ca,isInFrame:PT,createEl:ce,textContent:mi,prependTo:Ef,hasClass:ni,addClass:Xr,removeClass:co,toggleClass:AT,setAttributes:DT,getAttributes:Vr,getAttribute:OT,setAttribute:ma,removeAttribute:Yl,blockTextSelection:LT,unblockTextSelection:RT,getBoundingClientRect:ga,findPosition:Qs,getPointerPosition:Jl,isTextNode:NT,emptyEl:cp,normalizeContent:MT,appendContent:fp,insertContent:FT,isSingleLeftClick:Ys,$:Ln,$$:UT}),jT=!1,Cf,MP=function(){if(Cf.options.autoSetup!==!1){var e=Array.prototype.slice.call($.getElementsByTagName("video")),n=Array.prototype.slice.call($.getElementsByTagName("audio")),i=Array.prototype.slice.call($.getElementsByTagName("video-js")),r=e.concat(n,i);if(r&&r.length>0)for(var a=0,s=r.length;a<s;a++){var o=r[a];if(o&&o.getAttribute){if(o.player===void 0){var u=o.getAttribute("data-setup");u!==null&&Cf(o)}}else{wf(1);break}}else jT||wf(1)}};function wf(t,e){Ea()&&(e&&(Cf=e),I.setTimeout(MP,t))}function kf(){jT=!0,I.removeEventListener("load",kf)}Ea()&&($.readyState==="complete"?kf():I.addEventListener("load",kf));var VT=function(e){var n=$.createElement("style");return n.className=e,n},HT=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},FP=3,UP=FP;function cn(){return UP++}var zT;I.WeakMap||(zT=function(){function t(){this.vdata="vdata"+Math.floor(I.performance&&I.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(i,r){var a=i[this.vdata]||cn();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=r,this},e.get=function(i){var r=i[this.vdata];if(r)return this.data[r];ue("We have no data for this element",i)},e.has=function(i){var r=i[this.vdata];return r in this.data},e.delete=function(i){var r=i[this.vdata];r&&(delete this.data[r],delete i[this.vdata])},t}());var xt=I.WeakMap?new WeakMap:new zT;function Sv(t,e){if(xt.has(t)){var n=xt.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&xt.delete(t)}}function hp(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function Zl(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var i=t||I.event;t={};for(var r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||$),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){var a=$.documentElement,s=$.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var au,BP=function(){if(typeof au!="boolean"){au=!1;try{var e=Object.defineProperty({},"passive",{get:function(){au=!0}});I.addEventListener("test",null,e),I.removeEventListener("test",null,e)}catch{}}return au},jP=["touchstart","touchmove"];function Kt(t,e,n){if(Array.isArray(e))return hp(Kt,t,e,n);xt.has(t)||xt.set(t,{});var i=xt.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=cn()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=Zl(a);var o=i.handlers[a.type];if(o)for(var u=o.slice(0),l=0,d=u.length;l<d&&!a.isImmediatePropagationStopped();l++)try{u[l].call(t,a,s)}catch(h){ue.error(h)}}}),i.handlers[e].length===1)if(t.addEventListener){var r=!1;BP()&&jP.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function ft(t,e,n){if(xt.has(t)){var i=xt.get(t);if(i.handlers){if(Array.isArray(e))return hp(ft,t,e,n);var r=function(l,d){i.handlers[d]=[],Sv(l,d)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);return}var s=i.handlers[e];if(s){if(!n){r(t,e);return}if(n.guid)for(var o=0;o<s.length;o++)s[o].guid===n.guid&&s.splice(o--,1);Sv(t,e)}}}}function wa(t,e,n){var i=xt.has(t)?xt.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Zl(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)wa.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){xt.has(e.target)||xt.set(e.target,{});var a=xt.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function ed(t,e,n){if(Array.isArray(e))return hp(ed,t,e,n);var i=function r(){ft(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||cn(),Kt(t,e,i)}function WT(t,e,n){var i=function r(){ft(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||cn(),Kt(t,e,i)}var VP=Object.freeze({__proto__:null,fixEvent:Zl,on:Kt,off:ft,trigger:wa,one:ed,any:WT}),Tr=30,Pe=function(e,n,i){n.guid||(n.guid=cn());var r=n.bind(e);return r.guid=i?i+"_"+n.guid:n.guid,r},sn=function(e,n){var i=I.performance.now(),r=function(){var s=I.performance.now();s-i>=n&&(e.apply(void 0,arguments),i=s)};return r},HP=function(e,n,i,r){r===void 0&&(r=I);var a,s=function(){r.clearTimeout(a),a=null},o=function(){var l=this,d=arguments,h=function(){a=null,h=null,i||e.apply(l,d)};!a&&i&&e.apply(l,d),r.clearTimeout(a),a=r.setTimeout(h,n)};return o.cancel=s,o},et=function(){};et.prototype.allowedEvents_={};et.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Kt(this,t,e),this.addEventListener=n};et.prototype.addEventListener=et.prototype.on;et.prototype.off=function(t,e){ft(this,t,e)};et.prototype.removeEventListener=et.prototype.off;et.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ed(this,t,e),this.addEventListener=n};et.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},WT(this,t,e),this.addEventListener=n};et.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=Zl(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),wa(this,t)};et.prototype.dispatchEvent=et.prototype.trigger;var Ja;et.prototype.queueTrigger=function(t){var e=this;Ja||(Ja=new Map);var n=t.type||t,i=Ja.get(this);i||(i=new Map,Ja.set(this,i));var r=i.get(n);i.delete(n),I.clearTimeout(r);var a=I.setTimeout(function(){i.delete(n),i.size===0&&(i=null,Ja.delete(e)),e.trigger(t)},0);i.set(n,a)};var td=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Qr=function(e){return e instanceof et||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},zP=function(e,n){Qr(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},Pf=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ll=function(e,n,i){if(!e||!e.nodeName&&!Qr(e))throw new Error("Invalid target for "+td(n)+"#"+i+"; must be a DOM node or evented object.")},GT=function(e,n,i){if(!Pf(e))throw new Error("Invalid event type for "+td(n)+"#"+i+"; must be a non-empty string or array.")},$T=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+td(n)+"#"+i+"; must be a function.")},rc=function(e,n,i){var r=n.length<3||n[0]===e||n[0]===e.eventBusEl_,a,s,o;return r?(a=e.eventBusEl_,n.length>=3&&n.shift(),s=n[0],o=n[1]):(a=n[0],s=n[1],o=n[2]),ll(a,e,i),GT(s,e,i),$T(o,e,i),o=Pe(e,o),{isTargetingSelf:r,target:a,type:s,listener:o}},Gn=function(e,n,i,r){ll(e,e,n),e.nodeName?VP[n](e,i,r):e[n](i,r)},WP={on:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=rc(this,i,"on"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(Gn(o,"on",u,l),!s){var d=function(){return e.off(o,u,l)};d.guid=l.guid;var h=function(){return e.off("dispose",d)};h.guid=l.guid,Gn(this,"on","dispose",d),Gn(o,"on","dispose",h)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=rc(this,i,"one"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)Gn(o,"one",u,l);else{var d=function h(){e.off(o,u,h);for(var f=arguments.length,v=new Array(f),T=0;T<f;T++)v[T]=arguments[T];l.apply(null,v)};d.guid=l.guid,Gn(o,"one",u,d)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=rc(this,i,"any"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)Gn(o,"any",u,l);else{var d=function h(){e.off(o,u,h);for(var f=arguments.length,v=new Array(f),T=0;T<f;T++)v[T]=arguments[T];l.apply(null,v)};d.guid=l.guid,Gn(o,"any",u,d)}},off:function(e,n,i){if(!e||Pf(e))ft(this.eventBusEl_,e,n);else{var r=e,a=n;ll(r,this,"off"),GT(a,this,"off"),$T(i,this,"off"),i=Pe(this,i),this.off("dispose",i),r.nodeName?(ft(r,a,i),ft(r,"dispose",i)):Qr(r)&&(r.off(a,i),r.off("dispose",i))}},trigger:function(e,n){ll(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!Pf(i)){var r="Invalid event type for "+td(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||ue).error(r);else throw new Error(r)}return wa(this.eventBusEl_,e,n)}};function pp(t,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=ce("span",{className:"vjs-event-bus"});return Fe(t,WP),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&xt.has(r)&&xt.delete(r)}),I.setTimeout(function(){t.eventBusEl_=null},0)}),t}var GP={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return Ji(e,function(r,a){n.state[a]!==r&&(i=i||{},i[a]={from:n.state[a],to:r}),n.state[a]=r}),i&&Qr(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function qT(t,e){return Fe(t,GP),t.state=Fe({},t.state,e),typeof t.handleStateChanged=="function"&&Qr(t)&&t.on("statechanged",t.handleStateChanged),t}var Cu=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},je=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},$P=function(e,n){return je(e)===je(n)};function ke(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(r){r&&Ji(r,function(a,s){if(!Ks(a)){t[s]=a;return}Ks(t[s])||(t[s]={}),t[s]=ke(t[s],a)})}),t}var qP=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var r=this.has(i);return delete this.map_[i],r},e.set=function(i,r){return this.map_[i]=r,this},e.forEach=function(i,r){for(var a in this.map_)i.call(r,this.map_[a],a,this)},t}(),KP=I.Map?I.Map:qP,XP=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var r=this.has(i);return delete this.set_[i],r},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,r){for(var a in this.set_)i.call(r,a,a,this)},t}(),nc=I.Set?I.Set:XP,H=function(){function t(n,i,r){var a=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ke({},this.options_),i=this.options_=ke(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=n&&n.id&&n.id()||"no_player";this.id_=s+"_component_"+cn()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(o){return a.addClass(o)}),i.evented!==!1&&(pp(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),qT(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new nc,this.setIntervalIds_=new nc,this.rafIds_=new nc,this.namedRafs_=new KP,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(r),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return!!this.isDisposed_},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=ke(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,r,a){return ce(i,r,a)},e.localize=function(i,r,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),u=o&&o[s],l=s&&s.split("-")[0],d=o&&o[l],h=a;return u&&u[i]?h=u[i]:d&&d[i]&&(h=d[i]),r&&(h=h.replace(/\{(\d+)\}/g,function(f,v){var T=r[v-1],b=T;return typeof T>"u"&&(b=f),b})),h},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];r=r.reduce(function(u,l){return u.concat(l)},[]);for(var s=this,o=0;o<r.length;o++)if(s=s.getChild(r[o]),!s||!s.getChild)return;return s},e.addChild=function(i,r,a){r===void 0&&(r={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=je(i);var u=r.componentClass||o;r.name=o;var l=t.getComponent(u);if(!l)throw new Error("Component "+u+" does not exist");if(typeof l!="function")return null;s=new l(this.player_||this,r)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&je(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[Cu(o)]=s),typeof s.el=="function"&&s.el()){var d=null;this.children_[a+1]&&(this.children_[a+1].el_?d=this.children_[a+1].el_:Ca(this.children_[a+1])&&(d=this.children_[a+1])),this.contentEl().insertBefore(s.el(),d)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var r=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){r=!0,this.children_.splice(a,1);break}if(r){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[je(i.name())]=null,this.childNameIndex_[Cu(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,r=this.options_.children;if(r){var a=this.options_,s=function(d){var h=d.name,f=d.opts;if(a[h]!==void 0&&(f=a[h]),f!==!1){f===!0&&(f={}),f.playerOptions=i.options_.playerOptions;var v=i.addChild(h,f);v&&(i[h]=v)}},o,u=t.getComponent("Tech");Array.isArray(r)?o=r:o=Object.keys(r),o.concat(Object.keys(this.options_).filter(function(l){return!o.some(function(d){return typeof d=="string"?l===d:l===d.name})})).map(function(l){var d,h;return typeof l=="string"?(d=l,h=r[d]||i.options_[d]||{}):(d=l.name,h=l),{name:d,opts:h}}).filter(function(l){var d=t.getComponent(l.opts.componentClass||je(l.name));return d&&!u.isTech(d)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,r){if(r===void 0&&(r=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}r?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(i,r){return Ln(i,r||this.contentEl())},e.$$=function(i,r){return UT(i,r||this.contentEl())},e.hasClass=function(i){return ni(this.el_,i)},e.addClass=function(i){Xr(this.el_,i)},e.removeClass=function(i){co(this.el_,i)},e.toggleClass=function(i,r){AT(this.el_,i,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return OT(this.el_,i)},e.setAttribute=function(i,r){ma(this.el_,i,r)},e.removeAttribute=function(i){Yl(this.el_,i)},e.width=function(i,r){return this.dimension("width",i,r)},e.height=function(i,r){return this.dimension("height",i,r)},e.dimensions=function(i,r){this.width(i,!0),this.height(r)},e.dimension=function(i,r,a){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[i]=r:r==="auto"?this.el_.style[i]="":this.el_.style[i]=r+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+je(i)],10)},e.currentDimension=function(i){var r=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Xs(this.el_,i),r=parseFloat(r),r===0||isNaN(r)){var a="offset"+je(i);r=this.el_[a]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(oe.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,r=null,a=10,s=200,o;this.on("touchstart",function(l){l.touches.length===1&&(r={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},i=I.performance.now(),o=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)o=!1;else if(r){var d=l.touches[0].pageX-r.pageX,h=l.touches[0].pageY-r.pageY,f=Math.sqrt(d*d+h*h);f>a&&(o=!1)}});var u=function(){o=!1};this.on("touchleave",u),this.on("touchcancel",u),this.on("touchend",function(l){if(r=null,o===!0){var d=I.performance.now()-i;d<s&&(l.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=Pe(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){i(),this.clearInterval(r),r=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(r)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,r){var a=this,s;return i=Pe(this,i),this.clearTimersOnDispose_(),s=I.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},r),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),I.clearTimeout(i)),i},e.setInterval=function(i,r){i=Pe(this,i),this.clearTimersOnDispose_();var a=I.setInterval(i,r);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),I.clearInterval(i)),i},e.requestAnimationFrame=function(i){var r=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=Pe(this,i),a=I.requestAnimationFrame(function(){r.rafIds_.has(a)&&r.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,r){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),r=Pe(this,r);var s=this.requestAnimationFrame(function(){r(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){this.namedRafs_.has(i)&&(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),I.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var a=r[0],s=r[1];i[a].forEach(function(o,u){return i[s](u)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,r){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=t.getComponent("Tech"),s=a&&a.isTech(r),o=t===r||t.prototype.isPrototypeOf(r.prototype);if(s||!o){var u;throw s?u="techs must be registered using Tech.registerTech()":u="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+u+".")}i=je(i),t.components_||(t.components_={});var l=t.getComponent("Player");if(i==="Player"&&l&&l.players){var d=l.players,h=Object.keys(d);if(d&&h.length>0&&h.map(function(f){return d[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=r,t.components_[Cu(i)]=r,r},t.getComponent=function(i){if(!(!i||!t.components_))return t.components_[i]},t}();H.prototype.supportsRaf_=typeof I.requestAnimationFrame=="function"&&typeof I.cancelAnimationFrame=="function";H.registerComponent("Component",H);function QP(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function xv(t,e,n,i){return QP(t,i,n.length-1),n[i][e]}function ic(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:xv.bind(null,"start",0,t),end:xv.bind(null,"end",1,t)},I.Symbol&&I.Symbol.iterator&&(e[I.Symbol.iterator]=function(){return(t||[]).values()}),e}function ii(t,e){return Array.isArray(t)?ic(t):t===void 0||e===void 0?ic():ic([[t,e]])}function KT(t,e){var n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=ii(0,0));for(var a=0;a<t.length;a++)i=t.start(a),r=t.end(a),r>e&&(r=e),n+=r-i;return n/e}function bt(t){if(t instanceof bt)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:an(t)&&(typeof t.code=="number"&&(this.code=t.code),Fe(this,t)),this.message||(this.message=bt.defaultMessages[this.code]||"")}bt.prototype.code=0;bt.prototype.message="";bt.prototype.status=null;bt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];bt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Pi=0;Pi<bt.errorTypes.length;Pi++)bt[bt.errorTypes[Pi]]=Pi,bt.prototype[bt.errorTypes[Pi]]=Pi;function xs(t){return t!=null&&typeof t.then=="function"}function Pr(t){xs(t)&&t.then(null,function(e){})}var If=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,r,a){return e[r]&&(i[r]=e[r]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},YP=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(a){return a.track}),r=Array.prototype.map.call(n,function(a){var s=If(a.track);return a.src&&(s.src=a.src),s});return r.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(If))},JP=function(e,n){return e.forEach(function(i){var r=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return r.addCue(a)})}),n.textTracks()},bv={textTracksToJson:YP,jsonToTextTracks:JP,trackToJson_:If},ac="vjs-modal-dialog",ka=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ce("div",{className:ac+"-content"},{role:"document"}),a.descEl_=ce("p",{className:ac+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),mi(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return ac+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},n.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(r){if(typeof r=="boolean"){var a=this.closeable_=!!r,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(r){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),FT(a,r),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var u=this.getChild("closeButton");u&&s.appendChild(u.el_)},n.empty=function(){this.trigger("beforemodalempty"),cp(this.contentEl()),this.trigger("modalempty")},n.content=function(r){return typeof r<"u"&&(this.content_=r),this.content_},n.conditionalFocus_=function(){var r=$.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(r)||a===r)&&(this.previouslyActiveEl_=r,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(r){if(r.stopPropagation(),oe.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(oe.isEventKey(r,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,u=0;u<a.length;u++)if(s===a[u]){o=u;break}$.activeElement===this.el_&&(o=0),r.shiftKey&&o===0?(a[a.length-1].focus(),r.preventDefault()):!r.shiftKey&&o===a.length-1&&(a[0].focus(),r.preventDefault())}},n.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(a){return(a instanceof I.HTMLAnchorElement||a instanceof I.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof I.HTMLInputElement||a instanceof I.HTMLSelectElement||a instanceof I.HTMLTextAreaElement||a instanceof I.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof I.HTMLIFrameElement||a instanceof I.HTMLObjectElement||a instanceof I.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(H);ka.prototype.options_={pauseOnOpen:!0,temporary:!0};H.registerComponent("ModalDialog",ka);var va=function(t){X(e,t);function e(i){var r;i===void 0&&(i=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(se(r),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)r.addTrack(i[a]);return r}var n=e.prototype;return n.addTrack=function(r){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){a.trigger({track:r,type:"labelchange",target:a})},Qr(r)&&r.addEventListener("labelchange",r.labelchange_)},n.removeTrack=function(r){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===r){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}a&&this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(r){for(var a=null,s=0,o=this.length;s<o;s++){var u=this[s];if(u.id===r){a=u;break}}return a},e}(et);va.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var ZP in va.prototype.allowedEvents_)va.prototype["on"+ZP]=null;var sc=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},eI=function(t){X(e,t);function e(i){var r;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){sc(i,i[a]);break}return r=t.call(this,i)||this,r.changing_=!1,r}var n=e.prototype;return n.addTrack=function(r){var a=this;r.enabled&&sc(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){a.changing_||(a.changing_=!0,sc(a,r),a.changing_=!1,a.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(va),oc=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},tI=function(t){X(e,t);function e(i){var r;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){oc(i,i[a]);break}return r=t.call(this,i)||this,r.changing_=!1,Object.defineProperty(se(r),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),r}var n=e.prototype;return n.addTrack=function(r){var a=this;r.selected&&oc(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){a.changing_||(a.changing_=!0,oc(a,r),a.changing_=!1,a.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(va),XT=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(r){var a=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(va),rI=function(){function t(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,r=n.length;i<r;i++)this.addTrackElement_(n[i])}var e=t.prototype;return e.addTrackElement_=function(i){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var r,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){r=this.trackElements_[a];break}return r},e.removeTrackElement_=function(i){for(var r=0,a=this.trackElements_.length;r<a;r++)if(i===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),Ev=function(){function t(n){t.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(i){var r=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(l){""+l in this||Object.defineProperty(this,""+l,{get:function(){return this.cues_[l]}})};if(r<s)for(a=r;a<s;a++)o.call(this,a)},e.getCueById=function(i){for(var r=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){r=o;break}}return r},t}(),nI={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},iI={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},aI={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Cv={disabled:"disabled",hidden:"hidden",showing:"showing"},mp=function(t){X(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r={id:n.id||"vjs_track_"+cn(),kind:n.kind||"",language:n.language||""},a=n.label||"",s=function(l){Object.defineProperty(se(i),l,{get:function(){return r[l]},set:function(){}})};for(var o in r)s(o);return Object.defineProperty(se(i),"label",{get:function(){return a},set:function(l){l!==a&&(a=l,this.trigger("labelchange"))}}),i}return e}(et),gp=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=$.createElement("a");i.href=e;for(var r={},a=0;a<n.length;a++)r[n[a]]=i[n[a]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=I.location.protocol),r.host||(r.host=I.location.host),r},QT=function(e){if(!e.match(/^https?:\/\//)){var n=$.createElement("a");n.href=e,e=n.href}return e},vp=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},rd=function(e,n){n===void 0&&(n=I.location);var i=gp(e),r=i.protocol===":"?n.protocol:i.protocol,a=r+i.host!==n.protocol+n.host;return a},sI=Object.freeze({__proto__:null,parseUrl:gp,getAbsoluteURL:QT,getFileExtension:vp,isCrossOrigin:rd}),wv=function(e,n){var i=new I.WebVTT.Parser(I,I.vttjs,I.WebVTT.StringDecoder()),r=[];i.oncue=function(a){n.addCue(a)},i.onparsingerror=function(a){r.push(a)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),r.length>0&&(I.console&&I.console.groupCollapsed&&I.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach(function(a){return ue.error(a)}),I.console&&I.console.groupEnd&&I.console.groupEnd()),i.flush()},kv=function(e,n){var i={uri:e},r=rd(e);r&&(i.cors=r);var a=n.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),Hs(i,Pe(this,function(s,o,u){if(s)return ue.error(s,o);n.loaded_=!0,typeof I.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(l){if(l.type==="vttjserror"){ue.error("vttjs failed to load, stopping trying to process "+n.src);return}return wv(u,n)}):wv(u,n)}))},fo=function(t){X(e,t);function e(i){var r;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=ke(i,{kind:aI[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=Cv[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),r=t.call(this,a)||this,r.tech_=a.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var u=new Ev(r.cues_),l=new Ev(r.activeCues_),d=!1;r.timeupdateHandler=Pe(se(r),function(f){if(f===void 0&&(f={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){f.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1),f.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var h=function(){r.stopTracking()};return r.tech_.one("dispose",h),s!=="disabled"&&r.startTracking(),Object.defineProperties(se(r),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(v){Cv[v]&&s!==v&&(s=v,!this.preload_&&s!=="disabled"&&this.cues.length===0&&kv(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?u:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return l;for(var v=this.tech_.currentTime(),T=[],b=0,E=this.cues.length;b<E;b++){var x=this.cues[b];(x.startTime<=v&&x.endTime>=v||x.startTime===x.endTime&&x.startTime<=v&&x.startTime+.5>=v)&&T.push(x)}if(d=!1,T.length!==this.activeCues_.length)d=!0;else for(var C=0;C<T.length;C++)this.activeCues_.indexOf(T[C])===-1&&(d=!0);return this.activeCues_=T,l.setCues_(this.activeCues_),l},set:function(){}}}),a.src?(r.src=a.src,r.preload_||(r.loaded_=!0),(r.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&kv(r.src,se(r))):r.loaded_=!0,r}var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(r){var a=r;if(I.vttjs&&!(r instanceof I.vttjs.VTTCue)){a=new I.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var s in r)s in a||(a[s]=r[s]);a.id=r.id,a.originalCue_=r}for(var o=this.tech_.textTracks(),u=0;u<o.length;u++)o[u]!==this&&o[u].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(r){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===r||s.originalCue_&&s.originalCue_===r){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(mp);fo.prototype.allowedEvents_={cuechange:"cuechange"};var YT=function(t){X(e,t);function e(n){var i;n===void 0&&(n={});var r=ke(n,{kind:iI[n.kind]||""});i=t.call(this,r)||this;var a=!1;return Object.defineProperty(se(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return e}(mp),JT=function(t){X(e,t);function e(n){var i;n===void 0&&(n={});var r=ke(n,{kind:nI[n.kind]||""});i=t.call(this,r)||this;var a=!1;return Object.defineProperty(se(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return e}(mp),ZT=0,oI=1,eS=2,uI=3,Pa=function(t){X(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r,a=new fo(n);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(se(i),{readyState:{get:function(){return r}},track:{get:function(){return a}}}),r=ZT,a.addEventListener("loadeddata",function(){r=eS,i.trigger({type:"load",target:se(i)})}),i}return e}(et);Pa.prototype.allowedEvents_={load:"load"};Pa.NONE=ZT;Pa.LOADING=oI;Pa.LOADED=eS;Pa.ERROR=uI;var rr={audio:{ListClass:eI,TrackClass:YT,capitalName:"Audio"},video:{ListClass:tI,TrackClass:JT,capitalName:"Video"},text:{ListClass:XT,TrackClass:fo,capitalName:"Text"}};Object.keys(rr).forEach(function(t){rr[t].getterName=t+"Tracks",rr[t].privateName=t+"Tracks_"});var ya={remoteText:{ListClass:XT,TrackClass:fo,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:rI,TrackClass:Pa,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},_t=ar({},rr,ya);ya.names=Object.keys(ya);rr.names=Object.keys(rr);_t.names=[].concat(ya.names).concat(rr.names);function lI(t,e,n,i,r){r===void 0&&(r={});var a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var s=new _t.text.TrackClass(r);return a.addTrack(s),s}var Se=function(t){X(e,t);function e(i,r){var a;return i===void 0&&(i={}),r===void 0&&(r=function(){}),i.reportTouchActivity=!1,a=t.call(this,null,i,r)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),_t.names.forEach(function(s){var o=_t[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new _t.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=e.prototype;return n.triggerSourceset=function(r){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Pe(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(r){this.duration_=this.duration()},n.buffered=function(){return ii(0,0)},n.bufferedPercent=function(){return KT(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(rr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(r){var a=this;r=[].concat(r),r.forEach(function(s){for(var o=a[s+"Tracks"]()||[],u=o.length;u--;){var l=o[u];s==="text"&&a.removeRemoteTextTrack(l),o.removeTrack(l)}})},n.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],a=r.length;a--;){var s=r[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(r){return r!==void 0&&(this.error_=new bt(r),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?ii(0,0):ii()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var r=this;rr.names.forEach(function(a){var s=rr[a],o=function(){r.trigger(a+"trackchange")},u=r[s.getterName]();u.addEventListener("removetrack",o),u.addEventListener("addtrack",o),r.on("dispose",function(){u.removeEventListener("removetrack",o),u.removeEventListener("addtrack",o)})})},n.addWebVttScript_=function(){var r=this;if(!I.WebVTT)if($.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ks(el)&&Object.keys(el).length>0){this.trigger("vttjsloaded");return}var a=$.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){r.trigger("vttjsloaded")},a.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),I.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var r=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(f){return a.addTrack(f.track)},u=function(f){return a.removeTrack(f.track)};s.on("addtrack",o),s.on("removetrack",u),this.addWebVttScript_();var l=function(){return r.trigger("texttrackchange")},d=function(){l();for(var f=0;f<a.length;f++){var v=a[f];v.removeEventListener("cuechange",l),v.mode==="showing"&&v.addEventListener("cuechange",l)}};d(),a.addEventListener("change",d),a.addEventListener("addtrack",d),a.addEventListener("removetrack",d),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",u),a.removeEventListener("change",d),a.removeEventListener("addtrack",d),a.removeEventListener("removetrack",d);for(var h=0;h<a.length;h++){var f=a[h];f.removeEventListener("cuechange",l)}})},n.addTextTrack=function(r,a,s){if(!r)throw new Error("TextTrack kind is required but was not provided");return lI(this,r,a,s)},n.createRemoteTextTrack=function(r){var a=ke(r,{tech:this});return new ya.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(r,a){var s=this;r===void 0&&(r={});var o=this.createRemoteTextTrack(r);return a!==!0&&a!==!1&&(ue.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},n.removeRemoteTextTrack=function(r){var a=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var r=this.options_.Promise||I.Promise;if(r)return r.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(r){var a=this,s=cn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),r())})):this.requestNamedAnimationFrame(s,r),s},n.cancelVideoFrameCallback=function(r){this.queuedHanders_.has(r)?this.queuedHanders_.delete(r):this.cancelNamedAnimationFrame(r)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,a){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=je(r),e.techs_[r]=a,e.techs_[Cu(r)]=a,r!=="Tech"&&e.defaultTechOrder_.push(r),a},e.getTech=function(r){if(r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=je(r),I&&I.videojs&&I.videojs[r])return ue.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),I.videojs[r]}},e}(H);_t.names.forEach(function(t){var e=_t[t];Se.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Se.prototype.featuresVolumeControl=!0;Se.prototype.featuresMuteControl=!0;Se.prototype.featuresFullscreenResize=!1;Se.prototype.featuresPlaybackRate=!1;Se.prototype.featuresProgressEvents=!1;Se.prototype.featuresSourceset=!1;Se.prototype.featuresTimeupdateEvents=!1;Se.prototype.featuresNativeTextTracks=!1;Se.prototype.featuresVideoFrameCallback=!1;Se.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],r,a=0;a<i.length;a++)if(r=i[a].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],a,s=0;s<r.length;s++)if(a=r[s].canHandleSource(n,i),a)return r[s];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:ue.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};H.registerComponent("Tech",Se);Se.registerTech("Tech",Se);Se.defaultTechOrder_=[];var ai={},Af={},dl={};function dI(t,e){ai[t]=ai[t]||[],ai[t].push(e)}function cI(t,e,n){t.setTimeout(function(){return Kn(e,ai[e.type],n,t)},1)}function fI(t,e){t.forEach(function(n){return n.setTech&&n.setTech(e)})}function hI(t,e,n){return t.reduceRight(yp(n),e[n]())}function pI(t,e,n,i){return e[n](t.reduce(yp(n),i))}function Pv(t,e,n,i){i===void 0&&(i=null);var r="call"+je(n),a=t.reduce(yp(r),i),s=a===dl,o=s?null:e[n](a);return vI(t,n,o,s),o}var mI={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},gI={setCurrentTime:1,setMuted:1,setVolume:1},Iv={play:1,pause:1};function yp(t){return function(e,n){return e===dl?dl:n[t]?n[t](e):e}}function vI(t,e,n,i){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](i,n)}}function yI(t){Af[t.id()]=null}function _I(t,e){var n=Af[t.id()],i=null;if(n==null)return i=e(t),Af[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],s=a[0],o=a[1];s===e&&(i=o)}return i===null&&(i=e(t),n.push([e,i])),i}function Kn(t,e,n,i,r,a){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),a===void 0&&(a=!1);var s=e,o=s[0],u=s.slice(1);if(typeof o=="string")Kn(t,ai[o],n,i,r,a);else if(o){var l=_I(i,o);if(!l.setSource)return r.push(l),Kn(t,u,n,i,r,a);l.setSource(Fe({},t),function(d,h){if(d)return Kn(t,u,n,i,r,a);r.push(l),Kn(h,t.type===h.type?u:ai[h.type],n,i,r,a)})}else u.length?Kn(t,u,n,i,r,a):a?n(t,r):Kn(t,ai["*"],n,i,r,!0)}var TI={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},cl=function(e){e===void 0&&(e="");var n=vp(e),i=TI[n.toLowerCase()];return i||""},SI=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===n});if(i.length)return i[0].type;for(var r=e.$$("source"),a=0;a<r.length;a++){var s=r[a];if(s.type&&s.src&&s.src===n)return s.type}return cl(n)},xI=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=t(i),Array.isArray(i)?n=n.concat(i):an(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[Av({src:e})]:an(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Av(e)]:e=[];return e};function Av(t){if(!t.type){var e=cl(t.src);e&&(t.type=e)}return t}var bI=function(t){X(e,t);function e(n,i,r){var a,s=ke({createEl:!1},i);if(a=t.call(this,n,s,r)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,u=i.playerOptions.techOrder;o<u.length;o++){var l=je(u[o]),d=Se.getTech(l);if(l||(d=H.getComponent(l)),d&&d.isSupported()){n.loadTech_(l);break}}else n.src(i.playerOptions.sources);return a}return e}(H);H.registerComponent("MediaLoader",bI);var nd=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var n=e.prototype;return n.createEl=function(r,a,s){r===void 0&&(r="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Fe({className:this.buildCSSClass(),tabIndex:0},a),r==="button"&&ue.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),s=Fe({role:"button"},s),this.tabIndex_=a.tabIndex;var o=ce(r,a,s);return o.appendChild(ce("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(r){return this.controlTextEl_=ce("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},n.controlText=function(r,a){if(a===void 0&&(a=this.el()),r===void 0)return this.controlText_||"Need Text";var s=this.localize(r);this.controlText_=r,mi(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(r){oe.isEventKey(r,"Space")||oe.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(H);H.registerComponent("ClickableComponent",nd);var EI=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},n.createEl=function(){var r=ce("div",{className:"vjs-poster",tabIndex:-1});return r},n.update=function(r){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(r){var a="";r&&(a='url("'+r+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(r){if(this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((lo||uo)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?Pr(this.player_.play()):this.player_.pause()}},e}(nd);H.registerComponent("PosterImage",EI);var Yt="#222",Dv="#ccc",CI={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function uc(t,e){var n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function lc(t,e,n){try{t.style[e]=n}catch{return}}var wI=function(t){X(e,t);function e(i,r,a){var s;s=t.call(this,i,r,a)||this;var o=function(l){return s.updateDisplay(l)};return i.on("loadstart",function(u){return s.toggleDisplay(u)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(u){return s.preselectTrack(u)}),i.ready(Pe(se(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),I.addEventListener("orientationchange",o),i.on("dispose",function(){return I.removeEventListener("orientationchange",o)});for(var u=this.options_.playerOptions.tracks||[],l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()})),s}var n=e.prototype;return n.preselectTrack=function(){for(var r={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,u,l,d=0;d<a.length;d++){var h=a[d];s&&s.enabled&&s.language&&s.language===h.language&&h.kind in r?h.kind===s.kind?l=h:l||(l=h):s&&!s.enabled?(l=null,o=null,u=null):h.default&&(h.kind==="descriptions"&&!o?o=h:h.kind in r&&!u&&(u=h))}l?l.mode="showing":u?u.mode="showing":o&&(o.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof I.WebVTT=="function"&&I.WebVTT.processCues(I,[],this.el_)},n.updateDisplay=function(){var r=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<r.length;++o){var u=r[o];u.mode==="showing"&&s.push(u)}this.updateForTrack(s);return}for(var l=null,d=null,h=r.length;h--;){var f=r[h];f.mode==="showing"&&(f.kind==="descriptions"?l=f:d=f)}d?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):l&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))},n.updateDisplayState=function(r){for(var a=this.player_.textTrackSettings.getValues(),s=r.activeCues,o=s.length;o--;){var u=s[o];if(u){var l=u.displayState;if(a.color&&(l.firstChild.style.color=a.color),a.textOpacity&&lc(l.firstChild,"color",uc(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(l.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&lc(l.firstChild,"backgroundColor",uc(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?lc(l,"backgroundColor",uc(a.windowColor,a.windowOpacity)):l.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?l.firstChild.style.textShadow="2px 2px 3px "+Yt+", 2px 2px 4px "+Yt+", 2px 2px 5px "+Yt:a.edgeStyle==="raised"?l.firstChild.style.textShadow="1px 1px "+Yt+", 2px 2px "+Yt+", 3px 3px "+Yt:a.edgeStyle==="depressed"?l.firstChild.style.textShadow="1px 1px "+Dv+", 0 1px "+Dv+", -1px -1px "+Yt+", 0 -1px "+Yt:a.edgeStyle==="uniform"&&(l.firstChild.style.textShadow="0 0 4px "+Yt+", 0 0 4px "+Yt+", 0 0 4px "+Yt+", 0 0 4px "+Yt)),a.fontPercent&&a.fontPercent!==1){var d=I.parseFloat(l.style.fontSize);l.style.fontSize=d*a.fontPercent+"px",l.style.height="auto",l.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?l.firstChild.style.fontVariant="small-caps":l.firstChild.style.fontFamily=CI[a.fontFamily])}}},n.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof I.WebVTT!="function"||r.every(function(v){return!v.activeCues}))){for(var a=[],s=0;s<r.length;++s)for(var o=r[s],u=0;u<o.activeCues.length;++u)a.push(o.activeCues[u]);I.WebVTT.processCues(I,a,this.el_);for(var l=0;l<r.length;++l){for(var d=r[l],h=0;h<d.activeCues.length;++h){var f=d.activeCues[h].displayState;Xr(f,"vjs-text-track-cue"),Xr(f,"vjs-text-track-cue-"+(d.language?d.language:l)),d.language&&ma(f,"lang",d.language)}this.player_.textTrackSettings&&this.updateDisplayState(d)}}},e}(H);H.registerComponent("TextTrackDisplay",wI);var kI=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=this.player_.isAudio(),a=this.localize(r?"Audio Player":"Video Player"),s=ce("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(H);H.registerComponent("LoadingSpinner",kI);var yr=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,a,s){a===void 0&&(a={}),s===void 0&&(s={}),r="button",a=Fe({className:this.buildCSSClass()},a),s=Fe({type:"button"},s);var o=ce(r,a,s);return o.appendChild(ce("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.addChild=function(r,a){a===void 0&&(a={});var s=this.constructor.name;return ue.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),H.prototype.addChild.call(this,r,a)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(r){if(oe.isEventKey(r,"Space")||oe.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(nd);H.registerComponent("Button",yr);var tS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(r){var a=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Pr(a),this.player_.tech(!0)&&!((lo||uo)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),u=o&&o.getChild("playToggle");if(!u){this.player_.tech(!0).focus();return}var l=function(){return u.focus()};xs(a)?a.then(l,function(){}):this.setTimeout(l,1)},n.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},n.handleMouseDown=function(r){this.mouseused_=!0},e}(yr);tS.prototype.controlText_="Play Video";H.registerComponent("BigPlayButton",tS);var PI=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.controlText(r&&r.controlText||a.localize("Close")),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(r){oe.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(yr);H.registerComponent("CloseButton",PI);var rS=function(t){X(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,r.replay=r.replay===void 0||r.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),r.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.player_.paused()?Pr(this.player_.play()):this.player_.pause()},n.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},n.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(r){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(yr);rS.prototype.controlText_="Play";H.registerComponent("PlayToggle",rS);var nS=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(n/60%60),o=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(a=r=i="-"),a=a>0||o>0?a+":":"",r=((a||s>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,a+r+i},_p=nS;function II(t){_p=t}function AI(){_p=nS}function _a(t,e){return e===void 0&&(e=t),_p(t,e)}var Ia=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var n=e.prototype;return n.createEl=function(){var r=this.buildCSSClass(),a=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),s=ce("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return a.appendChild(s),this.contentEl_=ce("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(r){var a=this;r===void 0&&(r=0),r=_a(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,ue.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=$.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},n.updateContent=function(r){},e}(H);Ia.prototype.labelText_="Time";Ia.prototype.controlText_="Time";H.registerComponent("TimeDisplay",Ia);var Tp=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(r){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(Ia);Tp.prototype.labelText_="Current Time";Tp.prototype.controlText_="Current Time";H.registerComponent("CurrentTimeDisplay",Tp);var Sp=function(t){X(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=function(u){return a.updateContent(u)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(r){var a=this.player_.duration();this.updateTextNode_(a)},e}(Ia);Sp.prototype.labelText_="Duration";Sp.prototype.controlText_="Duration";H.registerComponent("DurationDisplay",Sp);var DI=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=t.prototype.createEl.call(this,"div"),s=t.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),r.appendChild(a),r},e}(H);H.registerComponent("TimeDivider",DI);var xp=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var r=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&r.insertBefore(ce("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},n.updateContent=function(r){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(Ia);xp.prototype.labelText_="Remaining Time";xp.prototype.controlText_="Remaining Time";H.registerComponent("RemainingTimeDisplay",xp);var OI=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ce("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ce("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild($.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(H);H.registerComponent("LiveDisplay",OI);var iS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ce("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(yr);iS.prototype.controlText_="Seek to live, currently playing live";H.registerComponent("SeekToLive",iS);var id=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},bp=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(r,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Fe({tabIndex:0},a),s=Fe({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),t.prototype.createEl.call(this,r,a,s)},n.handleMouseDown=function(r){var a=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!dn&&r.preventDefault(),LT(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(r,!0)},n.handleMouseMove=function(r){},n.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;RT(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var r=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=r.vertical()?"height":"width";r.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},n.getProgress=function(){return Number(id(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(r){var a=Jl(this.el_,r);return this.vertical()?a.y:a.x},n.handleKeyDown=function(r){oe.isEventKey(r,"Left")||oe.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):oe.isEventKey(r,"Right")||oe.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){r.stopPropagation(),r.preventDefault()},n.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(H);H.registerComponent("Slider",bp);var dc=function(e,n){return id(e/n*100,0,100).toFixed(2)+"%"},LI=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ce("span",{className:"vjs-control-text"}),s=ce("span",{textContent:this.localize("Loaded")}),o=$.createTextNode(": ");return this.percentageEl_=ce("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),r},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(r){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),u=s&&s.isLive()?s.seekableEnd():a.player_.duration(),l=a.player_.bufferedEnd(),d=a.partEls_,h=dc(l,u);a.percent_!==h&&(a.el_.style.width=h,mi(a.percentageEl_,h),a.percent_=h);for(var f=0;f<o.length;f++){var v=o.start(f),T=o.end(f),b=d[f];b||(b=a.el_.appendChild(ce()),d[f]=b),!(b.dataset.start===v&&b.dataset.end===T)&&(b.dataset.start=v,b.dataset.end=T,b.style.left=dc(v,l),b.style.width=dc(T-v,l))}for(var E=d.length;E>o.length;E--)a.el_.removeChild(d[E-1]);d.length=o.length})},e}(H);H.registerComponent("LoadProgressBar",LI);var RI=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=sn(Pe(se(a),a.update),Tr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(r,a,s){var o=Qs(this.el_),u=ga(this.player_.el()),l=r.width*a;if(!(!u||!o)){var d=r.left-u.left+l,h=r.width-l+(u.right-r.right),f=o.width/2;d<f?f+=f-d:h<f&&(f=h),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(s)}},n.write=function(r){mi(this.el_,r)},n.updateTime=function(r,a,s,o){var u=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var l,d=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var h=u.player_.liveTracker.liveWindow(),f=h-a*h;l=(f<1?"":"-")+_a(f,h)}else l=_a(s,d);u.update(r,a,l),o&&o()})},e}(H);H.registerComponent("TimeTooltip",RI);var Ep=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=sn(Pe(se(a),a.update),Tr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(r,a){var s=this.getChild("timeTooltip");if(s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(r,a,o)}},e}(H);Ep.prototype.options_={children:[]};!Ct&&!ln&&Ep.prototype.options_.children.push("timeTooltip");H.registerComponent("PlayProgressBar",Ep);var aS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=sn(Pe(se(a),a.update),Tr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(r,a,o,function(){s.el_.style.left=r.width*a+"px"})},e}(H);aS.prototype.options_={children:["timeTooltip"]};H.registerComponent("MouseTimeDisplay",aS);var su=5,Ov=12,Cp=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.setEventHandlers_(),a}var n=e.prototype;return n.setEventHandlers_=function(){var r=this;this.update_=Pe(this,this.update),this.update=sn(this.update_,Tr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return r.enableInterval_(a)},this.disableIntervalHandler_=function(a){return r.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in $&&"visibilityState"in $&&this.on($,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(r){$.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Tr))},n.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(r){var a=this;if($.visibilityState!=="hidden"){var s=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),u=a.player_.liveTracker,l=a.player_.duration();u&&u.isLive()&&(l=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==l)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[_a(o,l),_a(l,l)],"{1} of {2}")),a.currentTime_=o,a.duration_=l),a.bar&&a.bar.update(ga(a.el()),a.getProgress())}),s}},n.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var r=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(r-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=r/this.player_.duration(),a},n.handleMouseDown=function(r){Ys(r)&&(r.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},n.handleMouseMove=function(r,a){if(a===void 0&&(a=!1),!!Ys(r)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,o=this.calculateDistance(r),u=this.player_.liveTracker;if(!u||!u.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){u.seekToLiveEdge();return}var l=u.seekableStart(),d=u.liveCurrentTime();if(s=l+o*u.liveWindow(),s>=d&&(s=d),s<=l&&(s=l+.1),s===1/0)return}this.userSeek_(s)}},n.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");r&&r.show()},n.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");r&&r.hide()},n.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Pr(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+su)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-su)},n.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(r){var a=this.player_.liveTracker;if(oe.isEventKey(r,"Space")||oe.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(oe.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(oe.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(oe(r))){r.preventDefault(),r.stopPropagation();var s=(oe.codes[oe(r)]-oe.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else oe.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-su*Ov)):oe.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+su*Ov)):t.prototype.handleKeyDown.call(this,r)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in $&&"visibilityState"in $&&this.off($,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(bp);Cp.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Ct&&!ln&&Cp.prototype.options_.children.splice(1,0,"mouseTimeDisplay");H.registerComponent("SeekBar",Cp);var sS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseMove=sn(Pe(se(a),a.handleMouseMove),Tr),a.throttledHandleMouseSeek=sn(Pe(se(a),a.handleMouseSeek),Tr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(r){var a=this.getChild("seekBar");if(a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var u=a.el(),l=Qs(u),d=Jl(u,r).x;d=id(d,0,1),o&&o.update(l,d),s&&s.update(l,a.getProgress())}}},n.handleMouseSeek=function(r){var a=this.getChild("seekBar");a&&a.handleMouseMove(r)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&Pr(this.player_.play())}},n.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(r){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(r),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var a=this.getChild("seekBar");a&&a.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(H);sS.prototype.options_={children:["seekBar"]};H.registerComponent("ProgressControl",sS);var oS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){$.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(yr);oS.prototype.controlText_="Picture-in-Picture";H.registerComponent("PictureInPictureToggle",oS);var uS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),$[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(yr);uS.prototype.controlText_="Fullscreen";H.registerComponent("FullscreenToggle",uS);var NI=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},MI=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(H);H.registerComponent("VolumeLevel",MI);var FI=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=sn(Pe(se(a),a.update),Tr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(r,a,s,o){if(!s){var u=ga(this.el_),l=ga(this.player_.el()),d=r.width*a;if(!l||!u)return;var h=r.left-l.left+d,f=r.width-d+(l.right-r.right),v=u.width/2;h<v?v+=v-h:f<v&&(v=f),v<0?v=0:v>u.width&&(v=u.width),this.el_.style.right="-"+v+"px"}this.write(o+"%")},n.write=function(r){mi(this.el_,r)},n.updateVolume=function(r,a,s,o,u){var l=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){l.update(r,a,s,o.toFixed(0)),u&&u()})},e}(H);H.registerComponent("VolumeLevelTooltip",FI);var lS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=sn(Pe(se(a),a.update),Tr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,a,s){var o=this,u=100*a;this.getChild("volumeLevelTooltip").updateVolume(r,a,s,u,function(){s?o.el_.style.bottom=r.height*a+"px":o.el_.style.left=r.width*a+"px"})},e}(H);lS.prototype.options_={children:["volumeLevelTooltip"]};H.registerComponent("MouseVolumeLevelDisplay",lS);var ad=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(r){Ys(r)&&t.prototype.handleMouseDown.call(this,r)},n.handleMouseMove=function(r){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=ga(s),u=this.vertical(),l=Jl(s,r);l=u?l.y:l.x,l=id(l,0,1),a.update(o,l,u)}Ys(r)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(r){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var r=this,a=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(a)})},e}(bp);ad.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Ct&&!ln&&ad.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");ad.prototype.playerEvent="volumechange";H.registerComponent("VolumeBar",ad);var dS=function(t){X(e,t);function e(i,r){var a;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Ks(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),a=t.call(this,i,r)||this,NI(se(a),i),a.throttledHandleMouseMove=sn(Pe(se(a),a.handleMouseMove),Tr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=e.prototype;return n.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},n.handleMouseDown=function(r){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(H);dS.prototype.options_={children:["volumeBar"]};H.registerComponent("VolumeControl",dS);var UI=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},cS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,UI(se(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(r){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var r=this.player_.volume(),a=3;Ct&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?a=0:r<.33?a=1:r<.67&&(a=2);for(var s=0;s<4;s++)co(this.el_,"vjs-vol-"+s);Xr(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,a=r?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(yr);cS.prototype.controlText_="Mute";H.registerComponent("MuteToggle",cS);var fS=function(t){X(e,t);function e(i,r){var a;return r===void 0&&(r={}),typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Ks(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),a=t.call(this,i,r)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(r){oe.isEventKey(r,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(r){this.addClass("vjs-hover"),Kt($,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(r){this.removeClass("vjs-hover"),ft($,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(r){oe.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(H);fS.prototype.options_={children:["muteToggle","volumeControl"]};H.registerComponent("VolumePanel",fS);var hS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,r&&(a.menuButton_=r.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var n=e.prototype;return n.addEventListenerForItem=function(r){r instanceof H&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(r){r instanceof H&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},n.addItem=function(r){var a=this.addChild(r);a&&this.addEventListenerForItem(a)},n.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=ce(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),Kt(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(r){var a=r.relatedTarget||$.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===r.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(r){oe.isEventKey(r,"Left")||oe.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(oe.isEventKey(r,"Right")||oe.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},n.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},n.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},n.focus=function(r){r===void 0&&(r=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(r<0?r=0:r>=a.length&&(r=a.length-1),this.focusedChild_=r,a[r].el_.focus())},e}(H);H.registerComponent("Menu",hS);var wp=function(t){X(e,t);function e(i,r){var a;r===void 0&&(r={}),a=t.call(this,i,r)||this,a.menuButton_=new yr(i,r),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=yr.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(l){return a.handleClick(l)};return a.handleMenuKeyUp_=function(u){return a.handleMenuKeyUp(u)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(u){return a.handleKeyDown(u)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),Kt($,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(u){return a.handleMouseLeave(u)}),a.on("keydown",function(u){return a.handleSubmenuKeyDown(u)}),a}var n=e.prototype;return n.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var r=new hS(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ce("li",{className:"vjs-menu-title",textContent:je(this.options_.title),tabIndex:-1}),s=new H(this.player_,{el:a});r.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)r.addItem(this.items[o]);return r},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var a=yr.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+a+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(r,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(r,a)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(r){this.removeClass("vjs-hover"),ft($,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(r){oe.isEventKey(r,"Esc")||oe.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),oe.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(oe.isEventKey(r,"Up")||oe.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(r){(oe.isEventKey(r,"Esc")||oe.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},n.handleSubmenuKeyDown=function(r){(oe.isEventKey(r,"Esc")||oe.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),oe.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ct&&PT())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(H);H.registerComponent("MenuButton",wp);var kp=function(t){X(e,t);function e(n,i){var r,a=i.tracks;if(r=t.call(this,n,i)||this,r.items.length<=1&&r.hide(),!a)return se(r);var s=Pe(se(r),r.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),r.player_.on("ready",s),r.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),r}return e}(wp);H.registerComponent("TrackButton",kp);var BI=["Tab","Esc","Up","Down","Right","Left"],ho=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.selectable=r.selectable,a.isSelected_=r.selected||!1,a.multiSelectable=r.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=e.prototype;return n.createEl=function(r,a,s){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",Fe({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(ce("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},n.handleKeyDown=function(r){BI.some(function(a){return oe.isEventKey(r,a)})||t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){this.selected(!0)},n.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(nd);H.registerComponent("MenuItem",ho);var po=function(t){X(e,t);function e(i,r){var a,s=r.track,o=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.mode==="showing",a=t.call(this,i,r)||this,a.track=s,a.kinds=(r.kinds||[r.kind||a.track.kind]).filter(Boolean);var u=function(){for(var f=arguments.length,v=new Array(f),T=0;T<f;T++)v[T]=arguments[T];a.handleTracksChange.apply(se(a),v)},l=function(){for(var f=arguments.length,v=new Array(f),T=0;T<f;T++)v[T]=arguments[T];a.handleSelectedLanguageChange.apply(se(a),v)};if(i.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",l),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",l)}),o.onchange===void 0){var d;a.on(["tap","click"],function(){if(typeof I.Event!="object")try{d=new I.Event("change")}catch{}d||(d=$.createEvent("Event"),d.initEvent("change",!0,!0)),o.dispatchEvent(d)})}return a.handleTracksChange(),a}var n=e.prototype;return n.handleClick=function(r){var a=this.track,s=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!s)for(var o=0;o<s.length;o++){var u=s[o];this.kinds.indexOf(u.kind)!==-1&&(u===a?u.mode!=="showing"&&(u.mode="showing"):u.mode!=="disabled"&&(u.mode="disabled"))}},n.handleTracksChange=function(r){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(ho);H.registerComponent("TextTrackMenuItem",po);var pS=function(t){X(e,t);function e(i,r){return r.track={player:i,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,i,r)||this}var n=e.prototype;return n.handleTracksChange=function(r){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(r){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(po);H.registerComponent("OffTextTrackMenuItem",pS);var Aa=function(t){X(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.textTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.createItems=function(r,a){r===void 0&&(r=[]),a===void 0&&(a=po);var s;this.label_&&(s=this.label_+" off"),r.push(new pS(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var u=0;u<o.length;u++){var l=o[u];if(this.kinds_.indexOf(l.kind)>-1){var d=new a(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass("vjs-"+l.kind+"-menu-item"),r.push(d)}}return r},e}(kp);H.registerComponent("TextTrackButton",Aa);var mS=function(t){X(e,t);function e(i,r){var a,s=r.track,o=r.cue,u=i.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=u&&u<o.endTime,a=t.call(this,i,r)||this,a.track=s,a.cue=o,a}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(ho);H.registerComponent("ChaptersTrackMenuItem",mS);var Pp=function(t){X(e,t);function e(i,r,a){var s;return s=t.call(this,i,r,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(r){if(!(r&&r.track&&r.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),t.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&t.prototype.update.call(this)}},n.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],a=r.length-1;a>=0;a--){var s=r[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(je(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var r=[];if(!this.track_)return r;var a=this.track_.cues;if(!a)return r;for(var s=0,o=a.length;s<o;s++){var u=a[s],l=new mS(this.player_,{track:this.track_,cue:u});r.push(l)}return r},e}(Aa);Pp.prototype.kind_="chapters";Pp.prototype.controlText_="Chapters";H.registerComponent("ChaptersButton",Pp);var Ip=function(t){X(e,t);function e(i,r,a){var s;s=t.call(this,i,r,a)||this;var o=i.textTracks(),u=Pe(se(s),s.handleTracksChange);return o.addEventListener("change",u),s.on("dispose",function(){o.removeEventListener("change",u)}),s}var n=e.prototype;return n.handleTracksChange=function(r){for(var a=this.player().textTracks(),s=!1,o=0,u=a.length;o<u;o++){var l=a[o];if(l.kind!==this.kind_&&l.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Aa);Ip.prototype.kind_="descriptions";Ip.prototype.controlText_="Descriptions";H.registerComponent("DescriptionsButton",Ip);var Ap=function(t){X(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Aa);Ap.prototype.kind_="subtitles";Ap.prototype.controlText_="Subtitles";H.registerComponent("SubtitlesButton",Ap);var Dp=function(t){X(e,t);function e(i,r){var a;return r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",a=t.call(this,i,r)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+r.kind+" settings dialog"),a}var n=e.prototype;return n.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(po);H.registerComponent("CaptionSettingsMenuItem",Dp);var Op=function(t){X(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new Dp(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(Aa);Op.prototype.kind_="captions";Op.prototype.controlText_="Captions";H.registerComponent("CaptionsButton",Op);var gS=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,a,s){var o=t.prototype.createEl.call(this,r,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(u.appendChild(ce("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(ce("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(po);H.registerComponent("SubsCapsMenuItem",gS);var Lp=function(t){X(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(je(a.label_)),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new Dp(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,gS),r},e}(Aa);Lp.prototype.kinds_=["captions","subtitles"];Lp.prototype.controlText_="Subtitles";H.registerComponent("SubsCapsButton",Lp);var vS=function(t){X(e,t);function e(i,r){var a,s=r.track,o=i.audioTracks();r.label=s.label||s.language||"Unknown",r.selected=s.enabled,a=t.call(this,i,r)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var u=function(){for(var d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];a.handleTracksChange.apply(se(a),h)};return o.addEventListener("change",u),a.on("dispose",function(){o.removeEventListener("change",u)}),a}var n=e.prototype;return n.createEl=function(r,a,s){var o=t.prototype.createEl.call(this,r,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(u.appendChild(ce("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(ce("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},n.handleClick=function(r){if(t.prototype.handleClick.call(this,r),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];o!==this.track&&(o.enabled=o===this.track)}},n.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(ho);H.registerComponent("AudioTrackMenuItem",vS);var yS=function(t){X(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.audioTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];r.push(new vS(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return r},e}(kp);yS.prototype.controlText_="Audio Track";H.registerComponent("AudioTrackButton",yS);var Rp=function(t){X(e,t);function e(i,r){var a,s=r.rate,o=parseFloat(s,10);return r.label=s,r.selected=o===i.playbackRate(),r.selectable=!0,r.multiSelectable=!1,a=t.call(this,i,r)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(u){return a.update(u)}),a}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(ho);Rp.prototype.contentElType="button";H.registerComponent("PlaybackRateMenuItem",Rp);var _S=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ce("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var r=this.playbackRates(),a=[],s=r.length-1;s>=0;s--)a.push(new Rp(this.player(),{rate:r[s]+"x"}));return a},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(r){var a=this.player().playbackRate(),s=this.playbackRates(),o=s.indexOf(a),u=(o+1)%s.length;this.player().playbackRate(s[u])},n.handlePlaybackRateschange=function(r){this.update()},n.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(wp);_S.prototype.controlText_="Playback Rate";H.registerComponent("PlaybackRateMenuButton",_S);var TS=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(r,a,s){return r===void 0&&(r="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,a,s)},e}(H);H.registerComponent("Spacer",TS);var jI=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},e}(TS);H.registerComponent("CustomControlSpacer",jI);var fl=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(H);fl.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in $&&fl.prototype.options_.children.splice(fl.prototype.options_.children.length-1,0,"pictureInPictureToggle");H.registerComponent("ControlBar",fl);var SS=function(t){X(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"error",function(s){return a.open(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(ka);SS.prototype.options_=ar({},ka.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});H.registerComponent("ErrorDisplay",SS);var cc="vjs-text-track-settings",Lv=["#000","Black"],Rv=["#00F","Blue"],Nv=["#0FF","Cyan"],Mv=["#0F0","Green"],Fv=["#F0F","Magenta"],Uv=["#F00","Red"],Bv=["#FFF","White"],jv=["#FF0","Yellow"],fc=["1","Opaque"],hc=["0.5","Semi-Transparent"],Vv=["0","Transparent"],Xn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Lv,Bv,Uv,Mv,Rv,jv,Fv,Nv]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[fc,hc,Vv]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Bv,Lv,Uv,Mv,Rv,jv,Fv,Nv]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[fc,hc]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Vv,hc,fc]}};Xn.windowColor.options=Xn.backgroundColor.options;function xS(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function VI(t,e){var n=t.options[t.options.selectedIndex].value;return xS(n,e)}function HI(t,e,n){if(e){for(var i=0;i<t.options.length;i++)if(xS(t.options[i].value,n)===e){t.selectedIndex=i;break}}}var zI=function(t){X(e,t);function e(i,r){var a;return r.temporary=!1,a=t.call(this,i,r)||this,a.updateDisplay=a.updateDisplay.bind(se(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ce("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),r.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Ji(Xn,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(r,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var u=Xn[r],l=u.id.replace("%s",this.id_),d=[a,l].join(" ").trim();return["<"+s+' id="'+l+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(u.label),"</"+s+">",'<select aria-labelledby="'+d+'">'].concat(u.options.map(function(h){var f=l+"-"+h[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+h[0]+'" ','aria-labelledby="'+d+" "+f+'">',o.localize(h[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return ce("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return ce("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var r=this.localize("restore all settings to the default values");return ce("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var r=this;return DP(Xn,function(a,s,o){var u=VI(r.$(s.selector),s.parser);return u!==void 0&&(a[o]=u),a},{})},n.setValues=function(r){var a=this;Ji(Xn,function(s,o){HI(a.$(s.selector),r[o],s.parser)})},n.setDefaults=function(){var r=this;Ji(Xn,function(a){var s=a.hasOwnProperty("default")?a.default:0;r.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var r;try{r=JSON.parse(I.localStorage.getItem(cc))}catch(a){ue.warn(a)}r&&this.setValues(r)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?I.localStorage.setItem(cc,JSON.stringify(r)):I.localStorage.removeItem(cc)}catch(a){ue.warn(a)}}},n.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,a=r&&r.subsCapsButton,s=r&&r.captionsButton;a?a.focus():s&&s.focus()},e}(ka);H.registerComponent("TextTrackSettings",zI);var WI=function(t){X(e,t);function e(i,r){var a,s=r.ResizeObserver||I.ResizeObserver;r.ResizeObserver===null&&(s=!1);var o=ke({createEl:!s,reportTouchActivity:!1},r);return a=t.call(this,i,o)||this,a.ResizeObserver=r.ResizeObserver||I.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=HP(function(){a.resizeHandler()},100,!1,se(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var u=a.debouncedHandler_,l=a.unloadListener_=function(){ft(this,"resize",u),ft(this,"unload",l),l=null};Kt(a.el_.contentWindow,"unload",l),Kt(a.el_.contentWindow,"resize",u)}},a.one("load",a.loadListener_)),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(H);H.registerComponent("ResizeManager",WI);var GI={trackingThreshold:20,liveTolerance:15},$I=function(t){X(e,t);function e(i,r){var a,s=ke(GI,r,{createEl:!1});return a=t.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),lo&&"hidden"in $&&"visibilityState"in $&&a.on($,"visibilitychange",a.handleVisibilityChange_),a}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&($.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var a=Number(I.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),u=this.player_.currentTime(),l=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-u)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(l=!1),l!==this.behindLiveEdge_&&(this.behindLiveEdge_=l,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Tr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var r=this.player_.seekable(),a=[],s=r?r.length:0;s--;)a.push(r.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var r=this.player_.seekable(),a=[],s=r?r.length:0;s--;)a.push(r.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off($,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(H);H.registerComponent("LiveTracker",$I);var Df=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),r=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&r.indexOf(o)===-1&&r.push(o)}return r.length?(r.length===1&&(a=r[0]),e.triggerSourceset(a),!0):!1},qI=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=$.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=$.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",I.Element.prototype.appendChild.call(this,i),this.innerHTML}}),bS=function(e,n){for(var i={},r=0;r<e.length&&(i=Object.getOwnPropertyDescriptor(e[r],n),!(i&&i.set&&i.get));r++);return i.enumerable=!0,i.configurable=!0,i},KI=function(e){return bS([e.el(),I.HTMLMediaElement.prototype,I.Element.prototype,qI],"innerHTML")},Hv=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=KI(e),a=function(o){return function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];var h=o.apply(n,l);return Df(e),h}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){n[s]&&(i[s]=n[s],n[s]=a(i[s]))}),Object.defineProperty(n,"innerHTML",ke(r,{set:a(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(s){n[s]=i[s]}),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},XI=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?QT(I.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return I.Element.prototype.setAttribute.call(this,"src",e),e}}),QI=function(e){return bS([e.el(),I.HTMLMediaElement.prototype,XI],"src")},YI=function(e){if(e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=QI(e),r=n.setAttribute,a=n.load;Object.defineProperty(n,"src",ke(i,{set:function(o){var u=i.set.call(n,o);return e.triggerSourceset(n.src),u}})),n.setAttribute=function(s,o){var u=r.call(n,s,o);return/src/i.test(s)&&e.triggerSourceset(n.src),u},n.load=function(){var s=a.call(n);return Df(e)||(e.triggerSourceset(""),Hv(e)),s},n.currentSrc?e.triggerSourceset(n.currentSrc):Df(e)||Hv(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},Np=function(e,n,i,r){r===void 0&&(r=!0);var a=function(u){return Object.defineProperty(e,n,{value:u,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var u=i();return a(u),u}};return r&&(s.set=a),Object.defineProperty(e,n,s)},Y=function(t){X(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=i.source,o=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var u=a.el_.childNodes,l=u.length,d=[];l--;){var h=u[l],f=h.nodeName.toLowerCase();f==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(h),a.remoteTextTracks().addTrack(h.track),a.textTracks().addTrack(h.track),!o&&!a.el_.hasAttribute("crossorigin")&&rd(h.src)&&(o=!0)):d.push(h))}for(var v=0;v<d.length;v++)a.el_.removeChild(d[v])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&ue.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(pa||dp||bT)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){YI(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),a,s=function(){a=[];for(var l=0;l<r.length;l++){var d=r[l];d.kind==="metadata"&&a.push({track:d,storedMode:d.mode})}};s(),r.addEventListener("change",s),this.on("dispose",function(){return r.removeEventListener("change",s)});var o=function u(){for(var l=0;l<a.length;l++){var d=a[l];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}r.removeEventListener("change",u)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",s),r.removeEventListener("change",o),r.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",s),r.addEventListener("change",s),r.removeEventListener("change",o)})},n.overrideNative_=function(r,a){var s=this;if(a===this["featuresNative"+r+"Tracks"]){var o=r.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(u){var l=s.el()[o+"Tracks"];l.removeEventListener(u,s[o+"TracksListeners_"][u])}),this["featuresNative"+r+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},n.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},n.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},n.proxyNativeTracksForType_=function(r){var a=this,s=rr[r],o=this.el()[s.getterName],u=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var l={change:function(f){var v={type:"change",target:u,currentTarget:u,srcElement:u};u.trigger(v),r==="text"&&a[ya.remoteText.getterName]().trigger(v)},addtrack:function(f){u.addTrack(f.track)},removetrack:function(f){u.removeTrack(f.track)}},d=function(){for(var f=[],v=0;v<u.length;v++){for(var T=!1,b=0;b<o.length;b++)if(o[b]===u[v]){T=!0;break}T||f.push(u[v])}for(;f.length;)u.removeTrack(f.shift())};this[s.getterName+"Listeners_"]=l,Object.keys(l).forEach(function(h){var f=l[h];o.addEventListener(h,f),a.on("dispose",function(v){return o.removeEventListener(h,f)})}),this.on("loadstart",d),this.on("dispose",function(h){return a.off("loadstart",d)})}},n.proxyNativeTracks_=function(){var r=this;rr.names.forEach(function(a){r.proxyNativeTracksForType_(a)})},n.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var a=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(a,r),e.disposeMediaElement(r),r=a}else{r=$.createElement("video");var s=this.options_.tag&&Vr(this.options_.tag),o=ke({},s);(!pa||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,DT(r,Fe(o,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&ma(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var u=["loop","muted","playsinline","autoplay"],l=0;l<u.length;l++){var d=u[l],h=this.options_[d];typeof h<"u"&&(h?ma(r,d,d):Yl(r,d),r[d]=h)}return r},n.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var u=["loadstart"];u.push("loadedmetadata"),r.readyState>=2&&u.push("loadeddata"),r.readyState>=3&&u.push("canplay"),r.readyState>=4&&u.push("canplaythrough"),this.ready(function(){u.forEach(function(l){this.trigger(l)},this)})}},n.setScrubbing=function(r){this.isScrubbing_=r},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&Ql?this.el_.fastSeek(r):this.el_.currentTime=r}catch(a){ue(a,"Video is not ready. (Video.js)")}},n.duration=function(){var r=this;if(this.el_.duration===1/0&&ln&&dn&&this.el_.currentTime===0){var a=function s(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){r.off("webkitbeginfullscreen",s),r.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=I.navigator&&I.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},n.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)Pr(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{r.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(r){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(r):t.prototype.requestVideoFrameCallback.call(this,r)},n.cancelVideoFrameCallback=function(r){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(r):t.prototype.cancelVideoFrameCallback.call(this,r)},n.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(r){this.el_.controls=!!r},n.addTextTrack=function(r,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,a,s):t.prototype.addTextTrack.call(this,r,a,s)},n.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var a=$.createElement("track");return r.kind&&(a.kind=r.kind),r.label&&(a.label=r.label),(r.language||r.srclang)&&(a.srclang=r.language||r.srclang),r.default&&(a.default=r.default),r.id&&(a.id=r.id),r.src&&(a.src=r.src),a},n.addRemoteTextTrack=function(r,a){var s=t.prototype.addRemoteTextTrack.call(this,r,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(r===a[s]||r===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),I.performance&&typeof I.performance.now=="function"?r.creationTime=I.performance.now():I.performance&&I.performance.timing&&typeof I.performance.timing.navigationStart=="number"&&(r.creationTime=I.Date.now()-I.performance.timing.navigationStart),r},e}(Se);Np(Y,"TEST_VID",function(){if(Ea()){var t=$.createElement("video"),e=$.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});Y.isSupported=function(){try{Y.TEST_VID.volume=.5}catch{return!1}return!!(Y.TEST_VID&&Y.TEST_VID.canPlayType)};Y.canPlayType=function(t){return Y.TEST_VID.canPlayType(t)};Y.canPlaySource=function(t,e){return Y.canPlayType(t.type)};Y.canControlVolume=function(){try{var t=Y.TEST_VID.volume;Y.TEST_VID.volume=t/2+.1;var e=t!==Y.TEST_VID.volume;return e&&Ct?(I.setTimeout(function(){Y&&Y.prototype&&(Y.prototype.featuresVolumeControl=t!==Y.TEST_VID.volume)}),!1):e}catch{return!1}};Y.canMuteVolume=function(){try{var t=Y.TEST_VID.muted;return Y.TEST_VID.muted=!t,Y.TEST_VID.muted?ma(Y.TEST_VID,"muted","muted"):Yl(Y.TEST_VID,"muted","muted"),t!==Y.TEST_VID.muted}catch{return!1}};Y.canControlPlaybackRate=function(){if(ln&&dn&&CT<58)return!1;try{var t=Y.TEST_VID.playbackRate;return Y.TEST_VID.playbackRate=t/2+.1,t!==Y.TEST_VID.playbackRate}catch{return!1}};Y.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty($.createElement("video"),"src",{get:t,set:t}),Object.defineProperty($.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty($.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty($.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Y.supportsNativeTextTracks=function(){return Ql||Ct&&dn};Y.supportsNativeVideoTracks=function(){return!!(Y.TEST_VID&&Y.TEST_VID.videoTracks)};Y.supportsNativeAudioTracks=function(){return!!(Y.TEST_VID&&Y.TEST_VID.audioTracks)};Y.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],n=t[1];Np(Y.prototype,e,function(){return Y[n]()},!0)});Y.prototype.featuresVolumeControl=Y.canControlVolume();Y.prototype.movingMediaElementInDOM=!Ct;Y.prototype.featuresFullscreenResize=!0;Y.prototype.featuresProgressEvents=!0;Y.prototype.featuresTimeupdateEvents=!0;Y.prototype.featuresVideoFrameCallback=!!(Y.TEST_VID&&Y.TEST_VID.requestVideoFrameCallback);var hl;Y.patchCanPlayType=function(){op>=4&&!ET&&!dn&&(hl=Y.TEST_VID&&Y.TEST_VID.constructor.prototype.canPlayType,Y.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":hl.call(this,t)})};Y.unpatchCanPlayType=function(){var t=Y.TEST_VID.constructor.prototype.canPlayType;return hl&&(Y.TEST_VID.constructor.prototype.canPlayType=hl),t};Y.patchCanPlayType();Y.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Y.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Y.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Y.prototype["set"+je(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Y.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Y.prototype["set"+je(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Y.prototype[t]=function(){return this.el_[t]()}});Se.withSourceHandlers(Y);Y.nativeSourceHandler={};Y.nativeSourceHandler.canPlayType=function(t){try{return Y.TEST_VID.canPlayType(t)}catch{return""}};Y.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Y.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=vp(t.src);return Y.nativeSourceHandler.canPlayType("video/"+n)}return""};Y.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Y.nativeSourceHandler.dispose=function(){};Y.registerSourceHandler(Y.nativeSourceHandler);Se.registerTech("Html5",Y);var ES=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],pc={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Of=["tiny","xsmall","small","medium","large","xlarge","huge"],wu={};Of.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;wu[t]="vjs-layout-"+e});var JI={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},We=function(t){X(e,t);function e(i,r,a){var s;if(i.id=i.id||r.id||"vjs_video_"+cn(),r=Fe(e.getTagSettings(i),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(r.language=o.getAttribute("lang"))}else for(var u=i;u&&u.nodeType===1;){if(Vr(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}if(s=t.call(this,null,r,a)||this,s.boundDocumentFullscreenChange_=function(f){return s.documentFullscreenChange_(f)},s.boundFullWindowOnEscKey_=function(f){return s.fullWindowOnEscKey(f)},s.boundUpdateStyleEl_=function(f){return s.updateStyleEl_(f)},s.boundApplyInitTime_=function(f){return s.applyInitTime_(f)},s.boundUpdateCurrentBreakpoint_=function(f){return s.updateCurrentBreakpoint_(f)},s.boundHandleTechClick_=function(f){return s.handleTechClick_(f)},s.boundHandleTechDoubleClick_=function(f){return s.handleTechDoubleClick_(f)},s.boundHandleTechTouchStart_=function(f){return s.handleTechTouchStart_(f)},s.boundHandleTechTouchMove_=function(f){return s.handleTechTouchMove_(f)},s.boundHandleTechTouchEnd_=function(f){return s.handleTechTouchEnd_(f)},s.boundHandleTechTap_=function(f){return s.handleTechTap_(f)},s.isFullscreen_=!1,s.log=TT(s.id_),s.fsApi_=ul,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Vr(i),s.language(s.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach(function(f){l[f.toLowerCase()]=r.languages[f]}),s.languages_=l}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(f){if(typeof s[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),pp(se(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(Kt($,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var d=ke(s.options_);r.plugins&&Object.keys(r.plugins).forEach(function(f){s[f](r.plugins[f])}),r.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.playbackRates(r.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),pa&&s.addClass("vjs-touch-enabled"),Ct||s.addClass("vjs-workinghover"),e.players[s.id_]=se(s);var h=vT.split(".")[0];return s.addClass("vjs-v"+h),s.userActive(!0),s.reportUserActivity(),s.one("play",function(f){return s.listenForUserActivity_(f)}),s.on("stageclick",function(f){return s.handleStageClick_(f)}),s.on("keydown",function(f){return s.handleKeyDown(f)}),s.on("languagechange",function(f){return s.handleLanguagechange(f)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var n=e.prototype;return n.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),ft($,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ft($,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),yI(this),_t.names.forEach(function(a){var s=_t[a],o=r[s.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var r=this.tag,a,s=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=r.parentNode:o||(a=this.el_=t.prototype.createEl.call(this,"div"));var u=Vr(r);if(o){for(a=this.el_=r,r=this.tag=$.createElement("video");a.children.length;)r.appendChild(a.firstChild);ni(a,"video-js")||Xr(a,"video-js"),a.appendChild(r),s=this.playerElIngest_=a,Object.keys(a).forEach(function(T){try{r[T]=a[T]}catch{}})}if(r.setAttribute("tabindex","-1"),u.tabindex="-1",(lo||dn&&wT)&&(r.setAttribute("role","application"),u.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in u&&delete u.width,"height"in u&&delete u.height,Object.getOwnPropertyNames(u).forEach(function(T){o&&T==="class"||a.setAttribute(T,u[T]),o&&r.setAttribute(T,u[T])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=a.player=this,this.addClass("vjs-paused"),I.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=VT("vjs-styles-dimensions");var l=Ln(".vjs-styles-defaults"),d=Ln("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var h=r.getElementsByTagName("a"),f=0;f<h.length;f++){var v=h.item(f);Xr(v,"vjs-hidden"),v.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!s&&r.parentNode.insertBefore(a,r),Ef(r,a),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},n.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){ue.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},n.width=function(r){return this.dimension("width",r)},n.height=function(r){return this.dimension("height",r)},n.dimension=function(r,a){var s=r+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){ue.error('Improper value "'+a+'" supplied for for '+r);return}this[s]=o,this.updateStyleEl_()},n.fluid=function(r){var a=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,Qr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),zP(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(I.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(r>=0&&(s.width=r),a>=0&&(s.height=a));return}var o,u,l,d;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?l=this.aspectRatio_:this.videoWidth()>0?l=this.videoWidth()+":"+this.videoHeight():l="16:9";var h=l.split(":"),f=h[1]/h[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?u=this.height_:u=o*f,/^[^a-zA-Z]/.test(this.id())?d="dimensions-"+this.id():d=this.id()+"-dimensions",this.addClass(d),HT(this.styleEl_,`
      .`+d+` {
        width: `+o+`px;
        height: `+u+`px;
      }

      .`+d+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+f*100+`%;
      }
    `)},n.loadTech_=function(r,a){var s=this;this.tech_&&this.unloadTech_();var o=je(r),u=r.charAt(0).toLowerCase()+r.slice(1);o!=="Html5"&&this.tag&&(Se.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var l=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(l=!1);var d={source:a,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+u+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};_t.names.forEach(function(f){var v=_t[f];d[v.getterName]=s[v.privateName]}),Fe(d,this.options_[o]),Fe(d,this.options_[u]),Fe(d,this.options_[r.toLowerCase()]),this.tag&&(d.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);var h=Se.getTech(r);if(!h)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new h(d),this.tech_.ready(Pe(this,this.handleTechReady_),!0),bv.jsonToTextTracks(this.textTracksJson_||[],this.tech_),ES.forEach(function(f){s.on(s.tech_,f,function(v){return s["handleTech"+je(f)+"_"](v)})}),Object.keys(pc).forEach(function(f){s.on(s.tech_,f,function(v){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+pc[f]+"_"].bind(s),event:v});return}s["handleTech"+pc[f]+"_"](v)})}),this.on(this.tech_,"loadstart",function(f){return s.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return s.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return s.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return s.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return s.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return s.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return s.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return s.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return s.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,v){return s.handleTechFullscreenChange_(f,v)}),this.on(this.tech_,"fullscreenerror",function(f,v){return s.handleTechFullscreenError_(f,v)}),this.on(this.tech_,"enterpictureinpicture",function(f){return s.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return s.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return s.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return s.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return s.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return s.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Ef(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var r=this;_t.names.forEach(function(a){var s=_t[a];r[s.privateName]=r[s.getterName]()}),this.textTracksJson_=bv.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(r){return r===void 0&&ue.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(r){var a=this;if(!(!this.tech_||typeof r!="string")){var s=function(){var l=a.muted();a.muted(!0);var d=function(){a.muted(l)};a.playTerminatedQueue_.push(d);var h=a.play();if(xs(h))return h.catch(function(f){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(r==="any"&&!this.muted()?(o=this.play(),xs(o)&&(o=o.catch(s))):r==="muted"&&!this.muted()?o=s():o=this.play(),!!xs(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:r})})}},n.updateSourceCaches_=function(r){r===void 0&&(r="");var a=r,s="";typeof a!="string"&&(a=r.src,s=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=SI(this,a)),this.cache_.source=ke({},r,{src:a,type:s});for(var o=this.cache_.sources.filter(function(v){return v.src&&v.src===a}),u=[],l=this.$$("source"),d=[],h=0;h<l.length;h++){var f=Vr(l[h]);u.push(f),f.src&&f.src===a&&d.push(f.src)}d.length&&!o.length?this.cache_.sources=u:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(r){var a=this;if(!this.changingSrc_){var s=function(d){return a.updateSourceCaches_(d)},o=this.currentSource().src,u=r.src;o&&!/^blob:/.test(o)&&/^blob:/.test(u)&&(!this.lastSource_||this.lastSource_.tech!==u&&this.lastSource_.player!==o)&&(s=function(){}),s(u),r.src||this.tech_.any(["sourceset","loadstart"],function(l){if(l.type!=="sourceset"){var d=a.techGet("currentSrc");a.lastSource_.tech=d,a.updateSourceCaches_(d)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},n.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",o))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(ue.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(r){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?Pr(this.play()):this.pause())},n.handleTechDoubleClick_=function(r){if(this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(r.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(r){var a=r.target.player;if(!(a&&a!==this)){var s=this.el(),o=$[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},n.handleTechFullscreenChange_=function(r,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},n.handleTechFullscreenError_=function(r,a){this.trigger("fullscreenerror",a)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var r=this.tech_.error();this.error(r)},n.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(r,a){this.ready(function(){if(r in gI)return pI(this.middleware_,this.tech_,r,a);if(r in Iv)return Pv(this.middleware_,this.tech_,r,a);try{this.tech_&&this.tech_[r](a)}catch(s){throw ue(s),s}},!0)},n.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in mI)return hI(this.middleware_,this.tech_,r);if(r in Iv)return Pv(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(a){throw this.tech_[r]===void 0?(ue("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(ue("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(ue(a),a)}}},n.play=function(){var r=this,a=this.options_.Promise||I.Promise;return a?new a(function(s){r.play_(s)}):this.play_()},n.play_=function(r){var a=this;r===void 0&&(r=Pr),this.playCallbacks_.push(r);var s=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),o=!!(Ql||Ct);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(d){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&o&&this.load();return}var u=this.techGet_("play"),l=o&&this.hasClass("vjs-ended");l&&this.resetProgressBar_(),u===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(u)},n.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(a){a()})},n.runPlayCallbacks_=function(r){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(r)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||ii(0,0)},n.scrubbing=function(r){if(typeof r>"u")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(r){if(typeof r<"u"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=ii(0,0)),r},n.bufferedPercent=function(){return KT(this.buffered(),this.duration())},n.bufferedEnd=function(){var r=this.buffered(),a=this.duration(),s=r.end(r.length-1);return s>a&&(s=a),s},n.volume=function(r){var a;if(r!==void 0){a=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},n.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(r){if(r!==void 0){var a=this.isFullscreen_;this.isFullscreen_=!!r,this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(r){var a=this.options_.Promise||I.Promise;if(a){var s=this;return new a(function(o,u){function l(){s.off("fullscreenerror",h),s.off("fullscreenchange",d)}function d(){l(),o()}function h(v,T){l(),u(T)}s.one("fullscreenchange",d),s.one("fullscreenerror",h);var f=s.requestFullscreenHelper_(r);f&&(f.then(l,l),f.then(o,u))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(r){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(s=r)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var r=this.options_.Promise||I.Promise;if(r){var a=this;return new r(function(s,o){function u(){a.off("fullscreenerror",d),a.off("fullscreenchange",l)}function l(){u(),s()}function d(f,v){u(),o(v)}a.one("fullscreenchange",l),a.one("fullscreenerror",d);var h=a.exitFullscreenHelper_();h&&(h.then(u,u),h.then(s,o))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var a=$[this.fsApi_.exitFullscreen]();return a&&Pr(a.then(function(){return r.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=$.documentElement.style.overflow,Kt($,"keydown",this.boundFullWindowOnEscKey_),$.documentElement.style.overflow="hidden",Xr($.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(r){oe.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,ft($,"keydown",this.boundFullWindowOnEscKey_),$.documentElement.style.overflow=this.docOrigOverflow,co($.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in $&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in $)return $.exitPictureInPicture()},n.handleKeyDown=function(r){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(u){var l=u.tagName.toLowerCase();if(u.isContentEditable)return!0;var d=["button","checkbox","hidden","radio","reset","submit"];if(l==="input")return d.indexOf(u.type)===-1;var h=["textarea"];return h.indexOf(l)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,r):this.handleHotkeys(r))}},n.handleHotkeys=function(r){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(b){return oe.isEventKey(b,"f")}:s,u=a.muteKey,l=u===void 0?function(b){return oe.isEventKey(b,"m")}:u,d=a.playPauseKey,h=d===void 0?function(b){return oe.isEventKey(b,"k")||oe.isEventKey(b,"Space")}:d;if(o.call(this,r)){r.preventDefault(),r.stopPropagation();var f=H.getComponent("FullscreenToggle");$[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,r)}else if(l.call(this,r)){r.preventDefault(),r.stopPropagation();var v=H.getComponent("MuteToggle");v.prototype.handleClick.call(this,r)}else if(h.call(this,r)){r.preventDefault(),r.stopPropagation();var T=H.getComponent("PlayToggle");T.prototype.handleClick.call(this,r)}},n.canPlayType=function(r){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var u=o[s],l=Se.getTech(u);if(l||(l=H.getComponent(u)),!l){ue.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.');continue}if(l.isSupported()&&(a=l.canPlayType(r),a))return a}return""},n.selectSource=function(r){var a=this,s=this.options_.techOrder.map(function(h){return[h,Se.getTech(h)]}).filter(function(h){var f=h[0],v=h[1];return v?v.isSupported():(ue.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,v,T){var b;return f.some(function(E){return v.some(function(x){if(b=T(E,x),b)return!0})}),b},u,l=function(f){return function(v,T){return f(T,v)}},d=function(f,v){var T=f[0],b=f[1];if(b.canPlaySource(v,a.options_[T.toLowerCase()]))return{source:v,tech:T}};return this.options_.sourceOrder?u=o(r,s,l(d)):u=o(s,r,d),u||!1},n.handleSrc_=function(r,a){var s=this;if(typeof r>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=xI(r);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),cI(this,o[0],function(d,h){s.middleware_=h,a||(s.cache_.sources=o),s.updateSourceCaches_(d);var f=s.src_(d);if(f){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}fI(h,s.tech_)}),this.options_.retryOnError&&o.length>1){var u=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},l=function(){s.off("error",u)};this.one("error",u),this.one("playing",l),this.resetRetryOnError_=function(){s.off("error",u),s.off("playing",l)}}},n.src=function(r){return this.handleSrc_(r,!1)},n.src_=function(r){var a=this,s=this.selectSource([r]);return s?$P(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var r=this,a=this.options_.Promise||I.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();Pr(s.then(function(){return r.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Qr(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar||{},a=r.durationDisplay,s=r.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var r=this.currentSource(),a=[];return Object.keys(r).length!==0&&a.push(r),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},n.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var a;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),a=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},n.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},n.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(r){var a=this;if(r===void 0)return this.error_||null;if(On("beforeerror").forEach(function(o){var u=o(a,r);if(!(an(u)&&!Array.isArray(u)||typeof u=="string"||typeof u=="number"||u===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=u}),this.options_.suppressNotSupportedError&&r&&r.code===4){var s=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new bt(r),this.addClass("vjs-error"),ue.error("(CODE:"+this.error_.code+" "+bt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),On("error").forEach(function(o){return o(a,a.error_)})},n.reportUserActivity=function(r){this.userActivity_=!0},n.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var r,a,s,o=Pe(this,this.reportUserActivity),u=function(T){(T.screenX!==a||T.screenY!==s)&&(a=T.screenX,s=T.screenY,o())},l=function(){o(),this.clearInterval(r),r=this.setInterval(o,250)},d=function(T){o(),this.clearInterval(r)};this.on("mousedown",l),this.on("mousemove",u),this.on("mouseup",d),this.on("mouseleave",d);var h=this.getChild("controlBar");h&&!Ct&&!ln&&(h.on("mouseenter",function(v){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(v){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var v=this.options_.inactivityTimeout;v<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},v))}},250)},n.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var r=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),o=s&&s.currentHeight();a.forEach(function(u){u!==s&&u.el_&&!u.hasClass("vjs-hidden")&&(u.hide(),r.audioOnlyCache_.hiddenChildren.push(u))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(r){return r.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(r){var a=this;if(typeof r!="boolean"||r===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=r;var s=this.options_.Promise||I.Promise;if(s){if(r){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),s.all(o).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}r?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(r){var a=this;if(typeof r!="boolean"||r===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=r;var s=this.options_.Promise||I.Promise;if(s){if(r){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(r){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(r,a,s){if(this.tech_)return this.tech_.addTextTrack(r,a,s)},n.addRemoteTextTrack=function(r,a){if(this.tech_)return this.tech_.addRemoteTextTrack(r,a)},n.removeRemoteTextTrack=function(r){r===void 0&&(r={});var a=r,s=a.track;if(s||(s=r),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),Qr(this)&&this.trigger("languagechange"))},n.languages=function(){return ke(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var r=ke(this.options_),a=r.tracks;r.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=ke(o),o.player=void 0,r.tracks[s]=o}return r},n.createModal=function(r,a){var s=this;a=a||{},a.content=r||"";var o=new ka(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var r=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Of.length;s++){var o=Of[s],u=this.breakpoints_[o];if(a<=u){if(r===o)return;r&&this.removeClass(wu[r]),this.addClass(wu[o]),this.breakpoint_=o;break}}},n.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},n.breakpoints=function(r){return r===void 0?Fe(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Fe({},JI,r),this.updateCurrentBreakpoint_(),Fe(this.breakpoints_))},n.responsive=function(r){if(r===void 0)return this.responsive_;r=!!r;var a=this.responsive_;if(r!==a)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return wu[this.breakpoint_]||""},n.loadMedia=function(r,a){var s=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=ke(r);var o=this.cache_.media,u=o.artwork,l=o.poster,d=o.src,h=o.textTracks;!u&&l&&(this.cache_.media.artwork=[{src:l,type:cl(l)}]),d&&this.src(d),l&&this.poster(l),Array.isArray(h)&&h.forEach(function(f){return s.addRemoteTextTrack(f,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var r=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(u){return{kind:u.kind,label:u.label,language:u.language,src:u.src}}),o={src:a,textTracks:s};return r&&(o.poster=r,o.artwork=[{src:o.poster,type:cl(o.poster)}]),o}return ke(this.cache_.media)},e.getTagSettings=function(r){var a={sources:[],tracks:[]},s=Vr(r),o=s["data-setup"];if(ni(r,"vjs-fill")&&(s.fill=!0),ni(r,"vjs-fluid")&&(s.fluid=!0),o!==null){var u=AC(o||"{}"),l=u[0],d=u[1];l&&ue.error(l),Fe(s,d)}if(Fe(a,s),r.hasChildNodes())for(var h=r.childNodes,f=0,v=h.length;f<v;f++){var T=h[f],b=T.nodeName.toLowerCase();b==="source"?a.sources.push(Vr(T)):b==="track"&&a.tracks.push(Vr(T))}return a},n.flexNotSupported_=function(){var r=$.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},n.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;Array.isArray(r)&&r.every(function(a){return typeof a=="number"})&&(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(H);_t.names.forEach(function(t){var e=_t[t];We.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});We.prototype.crossorigin=We.prototype.crossOrigin;We.players={};var Za=I.navigator;We.prototype.options_={techOrder:Se.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Za&&(Za.languages&&Za.languages[0]||Za.userLanguage||Za.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){We.prototype[t]=function(){return this.techGet_(t)}});ES.forEach(function(t){We.prototype["handleTech"+je(t)+"_"]=function(){return this.trigger(t)}});H.registerComponent("Player",We);var pl="plugin",Zi="activePlugins_",zi={},ml=function(e){return zi.hasOwnProperty(e)},ku=function(e){return ml(e)?zi[e]:void 0},CS=function(e,n){e[Zi]=e[Zi]||{},e[Zi][n]=!0},gl=function(e,n,i){var r=(i?"before":"")+"pluginsetup";e.trigger(r,n),e.trigger(r+":"+n.name,n)},ZI=function(e,n){var i=function(){gl(this,{name:e,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return CS(this,e),gl(this,{name:e,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(r){i[r]=n[r]}),i},zv=function(e,n){return n.prototype.name=e,function(){gl(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=Ss(n,[this].concat(r));return this[e]=function(){return s},gl(this,s.getEventHash()),s}},Mr=function(){function t(n){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),pp(this),delete this.trigger,qT(this,this.constructor.defaultState),CS(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,r){return r===void 0&&(r={}),wa(this.eventBusEl_,i,this.getEventHash(r))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Zi][i]=!1,this.player=this.state=null,r[i]=zv(i,zi[i])},t.isBasic=function(i){var r=typeof i=="string"?ku(i):i;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(i,r){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(ml(i))ue.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(We.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof r+".");return zi[i]=r,i!==pl&&(t.isBasic(r)?We.prototype[i]=ZI(i,r):We.prototype[i]=zv(i,r)),r},t.deregisterPlugin=function(i){if(i===pl)throw new Error("Cannot de-register base plugin.");ml(i)&&(delete zi[i],delete We.prototype[i])},t.getPlugins=function(i){i===void 0&&(i=Object.keys(zi));var r;return i.forEach(function(a){var s=ku(a);s&&(r=r||{},r[a]=s)}),r},t.getPluginVersion=function(i){var r=ku(i);return r&&r.VERSION||""},t}();Mr.getPlugin=ku;Mr.BASE_PLUGIN_NAME=pl;Mr.registerPlugin(pl,Mr);We.prototype.usingPlugin=function(t){return!!this[Zi]&&this[Zi][t]===!0};We.prototype.hasPlugin=function(t){return!!ml(t)};var Wv=!1,eA=function(e,n){n===void 0&&(n={}),Wv||(ue.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Wv=!0);var i=function(){e.apply(this,arguments)},r={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):typeof n=="function"&&(i=n),Tw(i,e),e&&(i.super_=e);for(var a in r)r.hasOwnProperty(a)&&(i.prototype[a]=r[a]);return i},wS=function(e){return e.indexOf("#")===0?e.slice(1):e};function N(t,e,n){var i=N.getPlayer(t);if(i)return e&&ue.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r=typeof t=="string"?Ln("#"+wS(t)):t;if(!Ca(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&ue.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),On("beforesetup").forEach(function(s){var o=s(r,ke(e));if(!an(o)||Array.isArray(o)){ue.error("please return an object in beforesetup hooks");return}e=ke(e,o)});var a=H.getComponent("Player");return i=new a(r,e,n),On("setup").forEach(function(s){return s(i)}),i}N.hooks_=zr;N.hooks=On;N.hook=kP;N.hookOnce=PP;N.removeHook=yT;if(I.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Ea()){var ou=Ln(".vjs-styles-defaults");if(!ou){ou=VT("vjs-styles-defaults");var mc=Ln("head");mc&&mc.insertBefore(ou,mc.firstChild),HT(ou,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}wf(1,N);N.VERSION=vT;N.options=We.prototype.options_;N.getPlayers=function(){return We.players};N.getPlayer=function(t){var e=We.players,n;if(typeof t=="string"){var i=wS(t),r=e[i];if(r)return r;n=Ln("#"+i)}else n=t;if(Ca(n)){var a=n,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};N.getAllPlayers=function(){return Object.keys(We.players).map(function(t){return We.players[t]}).filter(Boolean)};N.players=We.players;N.getComponent=H.getComponent;N.registerComponent=function(t,e){Se.isTech(e)&&ue.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),H.registerComponent.call(H,t,e)};N.getTech=Se.getTech;N.registerTech=Se.registerTech;N.use=dI;Object.defineProperty(N,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(N.middleware,"TERMINATOR",{value:dl,writeable:!1,enumerable:!0});N.browser=RP;N.TOUCH_ENABLED=pa;N.extend=eA;N.mergeOptions=ke;N.bind=Pe;N.registerPlugin=Mr.registerPlugin;N.deregisterPlugin=Mr.deregisterPlugin;N.plugin=function(t,e){return ue.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Mr.registerPlugin(t,e)};N.getPlugins=Mr.getPlugins;N.getPlugin=Mr.getPlugin;N.getPluginVersion=Mr.getPluginVersion;N.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),N.options.languages=ke(N.options.languages,(n={},n[t]=e,n)),N.options.languages[t]};N.log=ue;N.createLogger=TT;N.createTimeRange=N.createTimeRanges=ii;N.formatTime=_a;N.setFormatTime=II;N.resetFormatTime=AI;N.parseUrl=gp;N.isCrossOrigin=rd;N.EventTarget=et;N.on=Kt;N.one=ed;N.off=ft;N.trigger=wa;N.xhr=Hs;N.TextTrack=fo;N.AudioTrack=YT;N.VideoTrack=JT;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){N[t]=function(){return ue.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),BT[t].apply(null,arguments)}});N.computedStyle=Xs;N.dom=BT;N.url=sI;N.defineLazyProperty=Np;N.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.2 @license Apache-2.0 */var pr=Hl,vl=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},Sr=function(e){return N.log.debug?N.log.debug.bind(N,"VHS:",e+" >"):function(){}},Rn=1/30,Ir=Rn*3,kS=function(e,n){var i=[],r;if(e&&e.length)for(r=0;r<e.length;r++)n(e.start(r),e.end(r))&&i.push([e.start(r),e.end(r)]);return N.createTimeRanges(i)},Wi=function(e,n){return kS(e,function(i,r){return i-Ir<=n&&r+Ir>=n})},uu=function(e,n){return kS(e,function(i){return i-Rn>=n})},tA=function(e){if(e.length<2)return N.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var r=e.end(i-1),a=e.start(i);n.push([r,a])}return N.createTimeRanges(n)},rA=function(e,n){var i=null,r=null,a=0,s=[],o=[];if(!e||!e.length||!n||!n.length)return N.createTimeRange();for(var u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(u=n.length;u--;)s.push({time:n.start(u),type:"start"}),s.push({time:n.end(u),type:"end"});for(s.sort(function(l,d){return l.time-d.time}),u=0;u<s.length;u++)s[u].type==="start"?(a++,a===2&&(i=s[u].time)):s[u].type==="end"&&(a--,a===1&&(r=s[u].time)),i!==null&&r!==null&&(o.push([i,r]),i=null,r=null);return N.createTimeRanges(o)},PS=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},nA=function(e,n,i){i===void 0&&(i=1);var r=e.length?e.end(e.length-1):0;return(r-n)/i},Zn=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},iA=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},Gv=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Mp=function(e,n){var i=0;if(!e||!e.length)return i;for(var r=0;r<e.length;r++){var a=e.start(r),s=e.end(r);if(!(n>s)){if(n>a&&n<=s){i+=s-n;continue}i+=s-a}}return i},$v=N.createTimeRange,Fp=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(r){i+=r.duration}),(n.preloadHints||[]).forEach(function(r){r.type==="PART"&&(i+=e.partTargetDuration)}),i},Lf=function(e){return(e.segments||[]).reduce(function(n,i,r){return i.parts?i.parts.forEach(function(a,s){n.push({duration:a.duration,segmentIndex:r,partIndex:s,part:a,segment:i})}):n.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),n},[])},IS=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},AS=function(e){var n=e.preloadSegment;if(n){var i=n.parts,r=n.preloadHints,a=(r||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},DS=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=IS(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},aA=function(e,n){var i=0,r=n-e.mediaSequence,a=e.segments[r];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;r--;){if(a=e.segments[r],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=Fp(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},sA=function(e,n){for(var i=0,r,a=n-e.mediaSequence;a<e.segments.length;a++){if(r=e.segments[a],typeof r.start<"u")return{result:r.start-i,precise:!0};if(i+=Fp(e,r),typeof r.end<"u")return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}},OS=function(e,n,i){if(typeof n>"u"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var r=aA(e,n);if(r.precise)return r.result;var a=sA(e,n);return a.precise?a.result:r.result+i},LS=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return I.Infinity}return OS(e,n,i)},bs=function(e){var n=e.defaultDuration,i=e.durationList,r=e.startIndex,a=e.endIndex,s=0;if(r>a){var o=[a,r];r=o[0],a=o[1]}if(r<0){for(var u=r;u<Math.min(0,a);u++)s+=n;r=0}for(var l=r;l<a;l++)s+=i[l].duration;return s},RS=function(e,n,i,r){if(!e||!e.segments)return null;if(e.endList)return LS(e);if(n===null)return null;n=n||0;var a=OS(e,e.mediaSequence+e.segments.length,n);return i&&(r=typeof r=="number"?r:DS(null,e),a-=r),Math.max(0,a)},oA=function(e,n,i){var r=!0,a=n||0,s=RS(e,n,r,i);return s===null?$v():$v(a,s)},uA=function(e){for(var n=e.playlist,i=e.currentTime,r=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,u=i-s,l=Lf(n),d=0,h=0;h<l.length;h++){var f=l[h];if(r===f.segmentIndex&&!(typeof a=="number"&&typeof f.partIndex=="number"&&a!==f.partIndex)){d=h;break}}if(u<0){if(d>0)for(var v=d-1;v>=0;v--){var T=l[v];if(u+=T.duration,o){if(u<0)continue}else if(u+Rn<=0)continue;return{partIndex:T.partIndex,segmentIndex:T.segmentIndex,startTime:s-bs({defaultDuration:n.targetDuration,durationList:l,startIndex:d,endIndex:v})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(d<0){for(var b=d;b<0;b++)if(u-=n.targetDuration,u<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};d=0}for(var E=d;E<l.length;E++){var x=l[E];if(u-=x.duration,o){if(u>0)continue}else if(u-Rn>=0)continue;return{partIndex:x.partIndex,segmentIndex:x.segmentIndex,startTime:s+bs({defaultDuration:n.targetDuration,durationList:l,startIndex:d,endIndex:E})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},NS=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Up=function(e){return e.excludeUntil&&e.excludeUntil===1/0},sd=function(e){var n=NS(e);return!e.disabled&&!n},lA=function(e){return e.disabled},dA=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},MS=function(e,n){return n.attributes&&n.attributes[e]},cA=function(e,n,i,r){if(r===void 0&&(r=0),!MS("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-r*8)/n},Rf=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return sd(r)?(r.attributes.BANDWIDTH||0)<i:!1}).length===0},Bp=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},qv=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var a in i){for(var s in i[a])if(r=n(i[a][s]),r)break;if(r)break}return!!r},mo=function(e){if(!e||!e.playlists||!e.playlists.length){var n=qv(e,function(s){return s.playlists&&s.playlists.length||s.uri});return n}for(var i=function(o){var u=e.playlists[o],l=u.attributes&&u.attributes.CODECS;if(l&&l.split(",").every(function(h){return k_(h)}))return"continue";var d=qv(e,function(h){return Bp(u,h)});return d?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var a=i(r);if(a!=="continue"&&typeof a=="object")return a.v}return!0},Ot={liveEdgeDelay:DS,duration:LS,seekable:oA,getMediaInfoForTime:uA,isEnabled:sd,isDisabled:lA,isBlacklisted:NS,isIncompatible:Up,playlistEnd:RS,isAes:dA,hasAttribute:MS,estimateSegmentRequestTime:cA,isLowestEnabledRendition:Rf,isAudioOnly:mo,playlistMatch:Bp,segmentDurationWithParts:Fp},FS=N.log,jp=function(e,n){return e+"-"+n},fA=function(e,n,i){return"placeholder-uri-"+e+"-"+n+"-"+i},hA=function(e){var n=e.onwarn,i=e.oninfo,r=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,u=o===void 0?[]:o,l=e.experimentalLLHLS,d=new Pw;n&&d.on("warn",n),i&&d.on("info",i),s.forEach(function(b){return d.addParser(b)}),u.forEach(function(b){return d.addTagMapper(b)}),d.push(r),d.end();var h=d.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(b){h.hasOwnProperty(b)&&delete h[b]}),h.segments&&h.segments.forEach(function(b){["parts","preloadHints"].forEach(function(E){b.hasOwnProperty(E)&&delete b[E]})})),!h.targetDuration){var f=10;h.segments&&h.segments.length&&(f=h.segments.reduce(function(b,E){return Math.max(b,E.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+f),h.targetDuration=f}var v=IS(h);if(v.length&&!h.partTargetDuration){var T=v.reduce(function(b,E){return Math.max(b,E.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+T),FS.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),h.partTargetDuration=T}return h},Da=function(e,n){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(i){if(e.mediaGroups[i])for(var r in e.mediaGroups[i])for(var a in e.mediaGroups[i][r]){var s=e.mediaGroups[i][r][a];n(s,i,r,a)}})},US=function(e){var n=e.playlist,i=e.uri,r=e.id;n.id=r,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},pA=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];US({playlist:i,id:jp(n,i.uri)}),i.resolvedUri=pr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||FS.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},mA=function(e){Da(e,function(n){n.uri&&(n.resolvedUri=pr(e.uri,n.uri))})},gA=function(e,n){var i=jp(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:I.location.href,resolvedUri:I.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r},BS=function(e,n,i){i===void 0&&(i=fA),e.uri=n;for(var r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){var a="placeholder-uri-"+r;e.playlists[r].uri=a}var s=mo(e);Da(e,function(o,u,l,d){if(!o.playlists||!o.playlists.length){if(s&&u==="AUDIO"&&!o.uri)for(var h=0;h<e.playlists.length;h++){var f=e.playlists[h];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===l)return}o.playlists=[ar({},o)]}o.playlists.forEach(function(v,T){var b=i(u,l,d,v),E=jp(T,b);v.uri?v.resolvedUri=v.resolvedUri||pr(e.uri,v.uri):(v.uri=T===0?b:E,v.resolvedUri=v.uri),v.id=v.id||E,v.attributes=v.attributes||{},e.playlists[v.id]=v,e.playlists[v.uri]=v})}),pA(e),mA(e)},yl=N.mergeOptions,vA=N.EventTarget,yA=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var r=n.preloadSegment,a=n.mediaSequence+n.segments.length;if(r){var s=r.parts||[],o=AS(n)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var u=new I.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(l){i.hasOwnProperty(l)&&u.searchParams.set(l,i[l])}),e=u.toString()}return e},_A=function(e,n){if(!e)return n;var i=yl(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var r=0;r<n.parts.length;r++)e.parts&&e.parts[r]&&(i.parts[r]=yl(e.parts[r],n.parts[r]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},TA=function(e,n,i){var r=e.slice(),a=n.slice();i=i||0;for(var s=[],o,u=0;u<a.length;u++){var l=r[u+i],d=a[u];l?(o=l.map||o,s.push(_A(l,d))):(o&&!d.map&&(d.map=o),s.push(d))}return s},jS=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=pr(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=pr(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=pr(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=pr(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=pr(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=pr(n,i.uri))})},VS=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var r=0;r<i.preloadHints.length;r++)if(i.preloadHints[r].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},HS=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},Nf=function(e,n,i){i===void 0&&(i=HS);var r=yl(e,{}),a=r.playlists[n.id];if(!a||i(a,n))return null;n.segments=VS(n);var s=yl(a,n);if(s.preloadSegment&&!n.preloadSegment&&delete s.preloadSegment,a.segments){if(n.skip){n.segments=n.segments||[];for(var o=0;o<n.skip.skippedSegments;o++)n.segments.unshift({skipped:!0})}s.segments=TA(a.segments,n.segments,n.mediaSequence-a.mediaSequence)}s.segments.forEach(function(l){jS(l,s.resolvedUri)});for(var u=0;u<r.playlists.length;u++)r.playlists[u].id===n.id&&(r.playlists[u]=s);return r.playlists[n.id]=s,r.playlists[n.uri]=s,Da(e,function(l,d,h,f){if(l.playlists)for(var v=0;v<l.playlists.length;v++)n.id===l.playlists[v].id&&(l.playlists[v]=s)}),r},Mf=function(e,n){var i=e.segments||[],r=i[i.length-1],a=r&&r.parts&&r.parts[r.parts.length-1],s=a&&a.duration||r&&r.duration;return n&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Gi=function(t){X(e,t);function e(i,r,a){var s;if(a===void 0&&(a={}),s=t.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=Sr("PlaylistLoader");var o=a,u=o.withCredentials,l=u===void 0?!1:u,d=o.handleManifestRedirects,h=d===void 0?!1:d;s.src=i,s.vhs_=r,s.withCredentials=l,s.handleManifestRedirects=h;var f=r.options_;return s.customTagParsers=f&&f.customTagParsers||[],s.customTagMappers=f&&f.customTagMappers||[],s.experimentalLLHLS=f&&f.experimentalLLHLS||!1,N.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(se(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=pr(this.master.uri,a.uri);this.experimentalLLHLS&&(s=yA(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,u){if(r.request){if(o)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},n.playlistRequestError=function(r,a,s){var o=a.uri,u=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[u],status:r.status,message:"HLS playlist request error at URL: "+o+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(r){var a=this,s=r.url,o=r.manifestString;return hA({onwarn:function(l){var d=l.message;return a.logger_("m3u8-parser warn for "+s+": "+d)},oninfo:function(l){var d=l.message;return a.logger_("m3u8-parser info for "+s+": "+d)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(r){var a=r.playlistString,s=r.playlistObject,o=r.url,u=r.id;this.request=null,this.state="HAVE_METADATA";var l=s||this.parseManifest_({url:o,manifestString:a});l.lastRequest=Date.now(),US({playlist:l,uri:o,id:u});var d=Nf(this.master,l);this.targetDuration=l.partTargetDuration||l.targetDuration,this.pendingMedia_=null,d?(this.master=d,this.media_=this.master.playlists[u]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Mf(this.media(),!!d)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),I.clearTimeout(this.mediaUpdateTimeout),I.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r,a){var s=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(I.clearTimeout(this.finalRenditionTimeout),a){var o=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=I.setTimeout(this.media.bind(this,r,!1),o);return}var u=this.state,l=!this.media_||r.id!==this.media_.id,d=this.master.playlists[r.id];if(d&&d.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,l&&(this.trigger("mediachanging"),u==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Mf(r,!0)),!!l){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(h,f){if(s.request){if(r.lastRequest=Date.now(),r.resolvedUri=vl(s.handleManifestRedirects,r.resolvedUri,f),h)return s.playlistRequestError(s.request,r,u);s.haveMetadata({playlistString:f.responseText,url:r.uri,id:r.id}),u==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(r){var a=this;this.mediaUpdateTimeout&&(I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(r){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=I.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(r){var a=this;this.mediaUpdateTimeout&&(I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=I.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(r)},r))},n.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=I.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(r.request){if(r.request=null,a)return r.error={status:s.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:s.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=vl(r.handleManifestRedirects,r.src,s);var o=r.parseManifest_({manifestString:s.responseText,url:r.src});r.setupInitialPlaylist(o)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,BS(this.master,this.srcUri()),r.playlists.forEach(function(s){s.segments=VS(s),s.segments.forEach(function(o){jS(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||I.location.href;this.master=gA(r,a),this.haveMetadata({playlistObject:r,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(vA),SA=N.xhr,xA=N.mergeOptions,Ff=function(e,n,i,r){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),r(n,e)},zS=function(){var e=function n(i,r){i=xA({timeout:45e3},i);var a=n.beforeRequest||N.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=N.Vhs.xhr.original===!0?SA:N.Vhs.xhr,u=o(i,function(d,h){return Ff(u,d,h,r)}),l=u.abort;return u.abort=function(){return u.aborted=!0,l.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return e.original=!0,e},bA=function(e){var n,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=I.BigInt(e.offset)+I.BigInt(e.length)-I.BigInt(1):n=e.offset+e.length-1,"bytes="+i+"-"+n},Uf=function(e){var n={};return e.byterange&&(n.Range=bA(e.byterange)),n},EA=function(e,n){return e.start(n)+"-"+e.end(n)},CA=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},wA=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},WS=function(e){var n={};return Object.keys(e).forEach(function(i){var r=e[i];I_(r)?n[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:n[i]=r}),n},_l=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},GS=function(e){return e.resolvedUri},$S=function(e){for(var n=Array.prototype.slice.call(e),i=16,r="",a,s,o=0;o<n.length/i;o++)a=n.slice(o*i,o*i+i).map(CA).join(""),s=n.slice(o*i,o*i+i).map(wA).join(""),r+=a+" "+s+`
`;return r},kA=function(e){var n=e.bytes;return $S(n)},PA=function(e){var n="",i;for(i=0;i<e.length;i++)n+=EA(e,i)+" ";return n},IA=Object.freeze({__proto__:null,createTransferableMessage:WS,initSegmentId:_l,segmentKeyId:GS,hexDump:$S,tagDump:kA,textRanges:PA}),qS=.25,AA=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,r=n.videoTimingInfo.transmuxedPresentationStart,a=r+i,s=e-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},DA=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},OA=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var r=n.segments[0];if(i<r.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){r=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(i<s)break}var o=n.segments[n.segments.length-1],u=o.dateTimeObject,l=o.videoTimingInfo?DA(o.videoTimingInfo):o.duration+o.duration*qS,d=new Date(u.getTime()+l*1e3);return i>d?null:(i>u&&(r=o),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ot.duration(n,n.mediaSequence+n.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},LA=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,r,a=0;a<n.segments.length&&(r=n.segments[a],i=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:i+r.duration,!(e<=i));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*qS)return null;r=s}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:i-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},RA=function(e,n){var i,r;try{i=new Date(e),r=new Date(n)}catch{}var a=i.getTime(),s=r.getTime();return(s-a)/1e3},NA=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},MA=function(e){var n=e.playlist,i=e.time,r=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||r===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=LA(r,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:r},u=AA(r,s.segment);return u&&(o.programDateTime=u.toISOString()),a(null,o)},FA=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,a=r===void 0?2:r,s=e.seekTo,o=e.pauseAfterSeek,u=o===void 0?!0:o,l=e.tech,d=e.callback;if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!i||!s)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!NA(i))return d({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=OA(n,i);if(!h)return d({message:n+" was not found in the stream"});var f=h.segment,v=RA(f.dateTimeObject,n);if(h.type==="estimate"){if(a===0)return d({message:n+" is not buffered yet. Try again"});s(h.estimatedStart+v),l.one("seeked",function(){t({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:u,tech:l,callback:d})});return}var T=f.start+v,b=function(){return d(null,l.currentTime())};l.one("seeked",b),u&&l.pause(),s(T)},gc=function(e,n){if(e.readyState===4)return n()},UA=function(e,n,i){var r=[],a,s=!1,o=function(f,v,T,b){return v.abort(),s=!0,i(f,v,T,b)},u=function(f,v){if(!s){if(f)return o(f,v,"",r);var T=v.responseText.substring(r&&r.byteLength||0,v.responseText.length);if(r=jw(r,A_(T,!0)),a=a||us(r),r.length<10||a&&r.length<a+2)return gc(v,function(){return o(f,v,"",r)});var b=rp(r);return b==="ts"&&r.length<188?gc(v,function(){return o(f,v,"",r)}):!b&&r.length<376?gc(v,function(){return o(f,v,"",r)}):o(null,v,b,r)}},l={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(v){return v.total,v.loaded,Ff(f,null,{statusCode:f.status},u)})}},d=n(l,function(h,f){return Ff(d,h,f,u)});return d},BA=N.EventTarget,KS=N.mergeOptions,Kv=function(e,n){if(!HS(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var r=e.segments[i],a=n.segments[i];if(r.uri!==a.uri)return!1;if(!(!r.byterange&&!a.byterange)){var s=r.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},jA=function(e,n,i,r){var a=r.attributes.NAME||i;return"placeholder-uri-"+e+"-"+n+"-"+a},VA=function(e){var n=e.masterXml,i=e.srcUrl,r=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,o=aP(n,{manifestUri:i,clientOffset:r,sidxMapping:a,previousManifest:s});return BS(o,i,jA),o},HA=function(e,n){Da(e,function(i,r,a,s){s in n.mediaGroups[r][a]||delete e.mediaGroups[r][a][s]})},zA=function(e,n,i){for(var r=!0,a=KS(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod,timelineStarts:n.timelineStarts}),s=0;s<n.playlists.length;s++){var o=n.playlists[s];if(o.sidx){var u=ql(o.sidx);i&&i[u]&&i[u].sidx&&Jh(o,i[u].sidx,o.sidx.resolvedUri)}var l=Nf(a,o,Kv);l&&(a=l,r=!1)}return Da(n,function(d,h,f,v){if(d.playlists&&d.playlists.length){var T=d.playlists[0].id,b=Nf(a,d.playlists[0],Kv);b&&(a=b,v in a.mediaGroups[h][f]||(a.mediaGroups[h][f][v]=d),a.mediaGroups[h][f][v].playlists[0]=a.playlists[T],r=!1)}}),HA(a,n),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:a},WA=function(e,n){var i=!e.map&&!n.map,r=i||!!(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return r&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},Xv=function(e,n){var i={};for(var r in e){var a=e[r],s=a.sidx;if(s){var o=ql(s);if(!n[o])break;var u=n[o].sidxInfo;WA(u,s)&&(i[o]=n[o])}}return i},GA=function(e,n){var i=Xv(e.playlists,n),r=i;return Da(e,function(a,s,o,u){if(a.playlists&&a.playlists.length){var l=a.playlists;r=KS(r,Xv(l,n))}}),r},Bf=function(t){X(e,t);function e(i,r,a,s){var o;a===void 0&&(a={}),o=t.call(this)||this,o.masterPlaylistLoader_=s||se(o),s||(o.isMaster_=!0);var u=a,l=u.withCredentials,d=l===void 0?!1:l,h=u.handleManifestRedirects,f=h===void 0?!1:h;if(o.vhs_=r,o.withCredentials=d,o.handleManifestRedirects=f,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Sr("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var n=e.prototype;return n.requestErrored_=function(r,a,s){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},n.addSidxSegments_=function(r,a,s){var o=this,u=r.sidx&&ql(r.sidx);if(!r.sidx||!u||this.masterPlaylistLoader_.sidxMapping_[u]){this.mediaRequest_=I.setTimeout(function(){return s(!1)},0);return}var l=vl(this.handleManifestRedirects,r.sidx.resolvedUri),d=function(f,v){if(!o.requestErrored_(f,v,a)){var T=o.masterPlaylistLoader_.sidxMapping_,b;try{b=dP(ne(v.response).subarray(8))}catch(E){o.requestErrored_(E,v,a);return}return T[u]={sidxInfo:r.sidx,sidx:b},Jh(r,b,r.sidx.resolvedUri),s(!0)}};this.request=UA(l,this.vhs_.xhr,function(h,f,v,T){if(h)return d(h,f);if(!v||v!=="mp4")return d({status:f.status,message:"Unsupported "+(v||"unknown")+" container type for sidx segment at URL: "+l,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},f);var b=r.sidx.byterange,E=b.offset,x=b.length;if(T.length>=x+E)return d(h,{response:T.subarray(E,E+x),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:l,responseType:"arraybuffer",headers:Uf({byterange:r.sidx.byterange})},d)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},I.clearTimeout(this.minimumUpdatePeriodTimeout_),I.clearTimeout(this.mediaRequest_),I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var o=!this.media_||r.id!==this.media_.id;if(o&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}o&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,s,function(u){a.haveMetadata({startingState:s,playlist:r})}))},n.haveMetadata=function(r){var a=r.startingState,s=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(I.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(r){var a=this;I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(r){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=I.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=I.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(a,s){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(r){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var u=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=vl(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),u){a.handleMaster_(),a.syncClientServerClock_(function(){return r(o,u)});return}return r(o,u)})},n.syncClientServerClock_=function(r){var a=this,s=sP(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),r();this.request=this.vhs_.xhr({uri:pr(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,u){if(a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),r();var l;s.method==="HEAD"?!u.responseHeaders||!u.responseHeaders.date?l=a.masterLoaded_:l=Date.parse(u.responseHeaders.date):l=Date.parse(u.responseText),a.masterPlaylistLoader_.clientOffset_=l-Date.now(),r()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var r=this.masterPlaylistLoader_.master,a=VA({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:r});r&&(a=zA(r,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||r;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!r||a&&a.minimumUpdatePeriod!==r.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!a},n.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(I.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var a=r.master&&r.master.minimumUpdatePeriod;if(a===0&&(r.media()?a=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},n.createMUPTimeout_=function(r){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=I.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(r)},r)},n.refreshXml_=function(){var r=this;this.requestMaster_(function(a,s){s&&(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=GA(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(o){r.refreshMedia_(r.media().id)}))})},n.refreshMedia_=function(r){var a=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[r];if(o?this.media_=s[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var u=function l(){a.media().endList||(a.mediaUpdateTimeout=I.setTimeout(function(){a.trigger("mediaupdatetimeout"),l()},Mf(a.media(),!!o)))};u()}this.trigger("loadedplaylist")},e}(BA),Qe={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},$A=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},XS=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},qA=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},QS=function(e){return function(){var n=qA(e),i=XS(new Worker(n));i.objURL=n;var r=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),r.call(this)},i}},YS=function(e){return"var browserWorkerPolyFill = "+XS.toString()+`;
browserWorkerPolyFill(self);
`+e},JS=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},KA=YS(JS(function(){var t=function(){this.init=function(){var c={};this.on=function(m,p){c[m]||(c[m]=[]),c[m]=c[m].concat(p)},this.off=function(m,p){var g;return c[m]?(g=c[m].indexOf(p),c[m]=c[m].slice(),c[m].splice(g,1),g>-1):!1},this.trigger=function(m){var p,g,y,_;if(p=c[m],!!p)if(arguments.length===2)for(y=p.length,g=0;g<y;++g)p[g].call(this,arguments[1]);else{for(_=[],g=arguments.length,g=1;g<arguments.length;++g)_.push(arguments[g]);for(y=p.length,g=0;g<y;++g)p[g].apply(this,_)}},this.dispose=function(){c={}}}};t.prototype.pipe=function(S){return this.on("data",function(c){S.push(c)}),this.on("done",function(c){S.flush(c)}),this.on("partialdone",function(c){S.partialFlush(c)}),this.on("endedtimeline",function(c){S.endTimeline(c)}),this.on("reset",function(c){S.reset(c)}),S},t.prototype.push=function(S){this.trigger("data",S)},t.prototype.flush=function(S){this.trigger("done",S)},t.prototype.partialFlush=function(S){this.trigger("partialdone",S)},t.prototype.endTimeline=function(S){this.trigger("endedtimeline",S)},t.prototype.reset=function(S){this.trigger("reset",S)};var e=t,n=Math.pow(2,32),i=function(c){var m=new DataView(c.buffer,c.byteOffset,c.byteLength),p;return m.getBigUint64?(p=m.getBigUint64(0),p<Number.MAX_SAFE_INTEGER?Number(p):p):m.getUint32(0)*n+m.getUint32(4)},r={getUint64:i,MAX_UINT32:n},a=r.MAX_UINT32,s,o,u,l,d,h,f,v,T,b,E,x,C,P,A,L,B,F,M,j,U,K,q,re,fe,ge,ae,le,G,te,Z,xe,pe,Pt,ot,sr;(function(){var S;if(q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(S in q)q.hasOwnProperty(S)&&(q[S]=[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]);re=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ge=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),fe=new Uint8Array([0,0,0,1]),ae=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),le=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),G={video:ae,audio:le},xe=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Z=new Uint8Array([0,0,0,0,0,0,0,0]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),Pt=pe,ot=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),sr=pe,te=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(c){var m=[],p=0,g,y,_;for(g=1;g<arguments.length;g++)m.push(arguments[g]);for(g=m.length;g--;)p+=m[g].byteLength;for(y=new Uint8Array(p+8),_=new DataView(y.buffer,y.byteOffset,y.byteLength),_.setUint32(0,y.byteLength),y.set(c,4),g=0,p=8;g<m.length;g++)y.set(m[g],p),p+=m[g].byteLength;return y},o=function(){return s(q.dinf,s(q.dref,xe))},u=function(c){return s(q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,c.audioobjecttype<<3|c.samplingfrequencyindex>>>1,c.samplingfrequencyindex<<7|c.channelcount<<3,6,1,2]))},l=function(){return s(q.ftyp,re,fe,re,ge)},L=function(c){return s(q.hdlr,G[c])},d=function(c){return s(q.mdat,c)},A=function(c){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,c.duration>>>24&255,c.duration>>>16&255,c.duration>>>8&255,c.duration&255,85,196,0,0]);return c.samplerate&&(m[12]=c.samplerate>>>24&255,m[13]=c.samplerate>>>16&255,m[14]=c.samplerate>>>8&255,m[15]=c.samplerate&255),s(q.mdhd,m)},P=function(c){return s(q.mdia,A(c),L(c.type),f(c))},h=function(c){return s(q.mfhd,new Uint8Array([0,0,0,0,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]))},f=function(c){return s(q.minf,c.type==="video"?s(q.vmhd,te):s(q.smhd,Z),o(),F(c))},v=function(c,m){for(var p=[],g=m.length;g--;)p[g]=j(m[g]);return s.apply(null,[q.moof,h(c)].concat(p))},T=function(c){for(var m=c.length,p=[];m--;)p[m]=x(c[m]);return s.apply(null,[q.moov,E(4294967295)].concat(p).concat(b(c)))},b=function(c){for(var m=c.length,p=[];m--;)p[m]=U(c[m]);return s.apply(null,[q.mvex].concat(p))},E=function(c){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(q.mvhd,m)},B=function(c){var m=c.samples||[],p=new Uint8Array(4+m.length),g,y;for(y=0;y<m.length;y++)g=m[y].flags,p[y+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return s(q.sdtp,p)},F=function(c){return s(q.stbl,M(c),s(q.stts,sr),s(q.stsc,Pt),s(q.stsz,ot),s(q.stco,pe))},function(){var S,c;M=function(p){return s(q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),p.type==="video"?S(p):c(p))},S=function(p){var g=p.sps||[],y=p.pps||[],_=[],w=[],k,O;for(k=0;k<g.length;k++)_.push((g[k].byteLength&65280)>>>8),_.push(g[k].byteLength&255),_=_.concat(Array.prototype.slice.call(g[k]));for(k=0;k<y.length;k++)w.push((y[k].byteLength&65280)>>>8),w.push(y[k].byteLength&255),w=w.concat(Array.prototype.slice.call(y[k]));if(O=[q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(p.width&65280)>>8,p.width&255,(p.height&65280)>>8,p.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(q.avcC,new Uint8Array([1,p.profileIdc,p.profileCompatibility,p.levelIdc,255].concat([g.length],_,[y.length],w))),s(q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],p.sarRatio){var D=p.sarRatio[0],R=p.sarRatio[1];O.push(s(q.pasp,new Uint8Array([(D&4278190080)>>24,(D&16711680)>>16,(D&65280)>>8,D&255,(R&4278190080)>>24,(R&16711680)>>16,(R&65280)>>8,R&255])))}return s.apply(null,O)},c=function(p){return s(q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(p.channelcount&65280)>>8,p.channelcount&255,(p.samplesize&65280)>>8,p.samplesize&255,0,0,0,0,(p.samplerate&65280)>>8,p.samplerate&255,0,0]),u(p))}}(),C=function(c){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,0,(c.duration&4278190080)>>24,(c.duration&16711680)>>16,(c.duration&65280)>>8,c.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(c.width&65280)>>8,c.width&255,0,0,(c.height&65280)>>8,c.height&255,0,0]);return s(q.tkhd,m)},j=function(c){var m,p,g,y,_,w,k;return m=s(q.tfhd,new Uint8Array([0,0,0,58,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),w=Math.floor(c.baseMediaDecodeTime/a),k=Math.floor(c.baseMediaDecodeTime%a),p=s(q.tfdt,new Uint8Array([1,0,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255,k>>>24&255,k>>>16&255,k>>>8&255,k&255])),_=32+20+8+16+8+8,c.type==="audio"?(g=K(c,_),s(q.traf,m,p,g)):(y=B(c),g=K(c,y.length+_),s(q.traf,m,p,g,y))},x=function(c){return c.duration=c.duration||4294967295,s(q.trak,C(c),P(c))},U=function(c){var m=new Uint8Array([0,0,0,0,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return c.type!=="video"&&(m[m.length-1]=0),s(q.trex,m)},function(){var S,c,m;m=function(g,y){var _=0,w=0,k=0,O=0;return g.length&&(g[0].duration!==void 0&&(_=1),g[0].size!==void 0&&(w=2),g[0].flags!==void 0&&(k=4),g[0].compositionTimeOffset!==void 0&&(O=8)),[0,0,_|w|k|O,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(y&4278190080)>>>24,(y&16711680)>>>16,(y&65280)>>>8,y&255]},c=function(g,y){var _,w,k,O,D,R;for(O=g.samples||[],y+=8+12+16*O.length,k=m(O,y),w=new Uint8Array(k.length+O.length*16),w.set(k),_=k.length,R=0;R<O.length;R++)D=O[R],w[_++]=(D.duration&4278190080)>>>24,w[_++]=(D.duration&16711680)>>>16,w[_++]=(D.duration&65280)>>>8,w[_++]=D.duration&255,w[_++]=(D.size&4278190080)>>>24,w[_++]=(D.size&16711680)>>>16,w[_++]=(D.size&65280)>>>8,w[_++]=D.size&255,w[_++]=D.flags.isLeading<<2|D.flags.dependsOn,w[_++]=D.flags.isDependedOn<<6|D.flags.hasRedundancy<<4|D.flags.paddingValue<<1|D.flags.isNonSyncSample,w[_++]=D.flags.degradationPriority&240<<8,w[_++]=D.flags.degradationPriority&15,w[_++]=(D.compositionTimeOffset&4278190080)>>>24,w[_++]=(D.compositionTimeOffset&16711680)>>>16,w[_++]=(D.compositionTimeOffset&65280)>>>8,w[_++]=D.compositionTimeOffset&255;return s(q.trun,w)},S=function(g,y){var _,w,k,O,D,R;for(O=g.samples||[],y+=8+12+8*O.length,k=m(O,y),_=new Uint8Array(k.length+O.length*8),_.set(k),w=k.length,R=0;R<O.length;R++)D=O[R],_[w++]=(D.duration&4278190080)>>>24,_[w++]=(D.duration&16711680)>>>16,_[w++]=(D.duration&65280)>>>8,_[w++]=D.duration&255,_[w++]=(D.size&4278190080)>>>24,_[w++]=(D.size&16711680)>>>16,_[w++]=(D.size&65280)>>>8,_[w++]=D.size&255;return s(q.trun,_)},K=function(g,y){return g.type==="audio"?S(g,y):c(g,y)}}();var Ke={ftyp:l,mdat:d,moof:v,moov:T,initSegment:function(c){var m=l(),p=T(c),g;return g=new Uint8Array(m.byteLength+p.byteLength),g.set(m),g.set(p,m.byteLength),g}},or=function(c){var m,p,g=[],y=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,g.byteLength=0,m=0;m<c.length;m++)p=c[m],p.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=p.dts-g.dts,y.byteLength+=g.byteLength,y.nalCount+=g.length,y.duration+=g.duration,y.push(g)),g=[p],g.byteLength=p.data.byteLength,g.pts=p.pts,g.dts=p.dts):(p.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=p.dts-g.dts,g.byteLength+=p.data.byteLength,g.push(p));return y.length&&(!g.duration||g.duration<=0)&&(g.duration=y[y.length-1].duration),y.byteLength+=g.byteLength,y.nalCount+=g.length,y.duration+=g.duration,y.push(g),y},gi=function(c){var m,p,g=[],y=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=c[0].pts,g.dts=c[0].dts,y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=c[0].pts,y.dts=c[0].dts,m=0;m<c.length;m++)p=c[m],p.keyFrame?(g.length&&(y.push(g),y.byteLength+=g.byteLength,y.nalCount+=g.nalCount,y.duration+=g.duration),g=[p],g.nalCount=p.length,g.byteLength=p.byteLength,g.pts=p.pts,g.dts=p.dts,g.duration=p.duration):(g.duration+=p.duration,g.nalCount+=p.length,g.byteLength+=p.byteLength,g.push(p));return y.length&&g.duration<=0&&(g.duration=y[y.length-1].duration),y.byteLength+=g.byteLength,y.nalCount+=g.nalCount,y.duration+=g.duration,y.push(g),y},vi=function(c){var m;return!c[0][0].keyFrame&&c.length>1&&(m=c.shift(),c.byteLength-=m.byteLength,c.nalCount-=m.nalCount,c[0][0].dts=m.dts,c[0][0].pts=m.pts,c[0][0].duration+=m.duration),c},gx=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Gp=function(c,m){var p=gx();return p.dataOffset=m,p.compositionTimeOffset=c.pts-c.dts,p.duration=c.duration,p.size=4*c.length,p.size+=c.byteLength,c.keyFrame&&(p.flags.dependsOn=2,p.flags.isNonSyncSample=0),p},vx=function(c,m){var p,g,y,_,w,k=m||0,O=[];for(p=0;p<c.length;p++)for(_=c[p],g=0;g<_.length;g++)w=_[g],y=Gp(w,k),k+=y.size,O.push(y);return O},yx=function(c){var m,p,g,y,_,w,k=0,O=c.byteLength,D=c.nalCount,R=O+4*D,V=new Uint8Array(R),Q=new DataView(V.buffer);for(m=0;m<c.length;m++)for(y=c[m],p=0;p<y.length;p++)for(_=y[p],g=0;g<_.length;g++)w=_[g],Q.setUint32(k,w.data.byteLength),k+=4,V.set(w.data,k),k+=w.data.byteLength;return V},_x=function(c,m){var p,g=m||0,y=[];return p=Gp(c,g),y.push(p),y},Tx=function(c){var m,p,g=0,y=c.byteLength,_=c.length,w=y+4*_,k=new Uint8Array(w),O=new DataView(k.buffer);for(m=0;m<c.length;m++)p=c[m],O.setUint32(g,p.data.byteLength),g+=4,k.set(p.data,g),g+=p.data.byteLength;return k},Oa={groupNalsIntoFrames:or,groupFramesIntoGops:gi,extendFirstKeyFrame:vi,generateSampleTable:vx,concatenateNalData:yx,generateSampleTableForFrame:_x,concatenateNalDataForFrame:Tx},fn=[33,16,5,32,164,27],od=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ve=function(c){for(var m=[];c--;)m.push(0);return m},Sx=function(c){return Object.keys(c).reduce(function(m,p){return m[p]=new Uint8Array(c[p].reduce(function(g,y){return g.concat(y)},[])),m},{})},ud,xx=function(){if(!ud){var c={96e3:[fn,[227,64],ve(154),[56]],88200:[fn,[231],ve(170),[56]],64e3:[fn,[248,192],ve(240),[56]],48e3:[fn,[255,192],ve(268),[55,148,128],ve(54),[112]],44100:[fn,[255,192],ve(268),[55,163,128],ve(84),[112]],32e3:[fn,[255,192],ve(268),[55,234],ve(226),[112]],24e3:[fn,[255,192],ve(268),[55,255,128],ve(268),[111,112],ve(126),[224]],16e3:[fn,[255,192],ve(268),[55,255,128],ve(268),[111,255],ve(269),[223,108],ve(195),[1,192]],12e3:[od,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,253,128],ve(259),[56]],11025:[od,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,255,192],ve(268),[55,175,128],ve(108),[112]],8e3:[od,ve(268),[3,121,16],ve(47),[7]]};ud=Sx(c)}return ud},ld=9e4,dd,cd,go,fd,$p,qp,Kp;dd=function(c){return c*ld},cd=function(c,m){return c*m},go=function(c){return c/ld},fd=function(c,m){return c/m},$p=function(c,m){return dd(fd(c,m))},qp=function(c,m){return cd(go(c),m)},Kp=function(c,m,p){return go(p?c:c-m)};var me={ONE_SECOND_IN_TS:ld,secondsToVideoTs:dd,secondsToAudioTs:cd,videoTsToSeconds:go,audioTsToSeconds:fd,audioTsToVideoTs:$p,videoTsToAudioTs:qp,metadataTsToSeconds:Kp},bx=function(c){var m,p,g=0;for(m=0;m<c.length;m++)p=c[m],g+=p.data.byteLength;return g},Ex=function(c,m,p,g){var y,_=0,w=0,k=0,O=0,D,R,V;if(m.length&&(y=me.audioTsToVideoTs(c.baseMediaDecodeTime,c.samplerate),_=Math.ceil(me.ONE_SECOND_IN_TS/(c.samplerate/1024)),p&&g&&(w=y-Math.max(p,g),k=Math.floor(w/_),O=k*_),!(k<1||O>me.ONE_SECOND_IN_TS/2))){for(D=xx()[c.samplerate],D||(D=m[0].data),R=0;R<k;R++)V=m[0],m.splice(0,0,{data:D,dts:V.dts-_,pts:V.pts-_});return c.baseMediaDecodeTime-=Math.floor(me.videoTsToAudioTs(O,c.samplerate)),O}},Cx=function(c,m,p){return m.minSegmentDts>=p?c:(m.minSegmentDts=1/0,c.filter(function(g){return g.dts>=p?(m.minSegmentDts=Math.min(m.minSegmentDts,g.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},wx=function(c){var m,p,g=[];for(m=0;m<c.length;m++)p=c[m],g.push({size:p.data.byteLength,duration:1024});return g},kx=function(c){var m,p,g=0,y=new Uint8Array(bx(c));for(m=0;m<c.length;m++)p=c[m],y.set(p.data,g),g+=p.data.byteLength;return y},vo={prefixWithSilence:Ex,trimAdtsFramesByEarliestDts:Cx,generateSampleTable:wx,concatenateFrameData:kx},Px=me.ONE_SECOND_IN_TS,Ix=function(c,m){typeof m.pts=="number"&&(c.timelineStartInfo.pts===void 0&&(c.timelineStartInfo.pts=m.pts),c.minSegmentPts===void 0?c.minSegmentPts=m.pts:c.minSegmentPts=Math.min(c.minSegmentPts,m.pts),c.maxSegmentPts===void 0?c.maxSegmentPts=m.pts:c.maxSegmentPts=Math.max(c.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(c.timelineStartInfo.dts===void 0&&(c.timelineStartInfo.dts=m.dts),c.minSegmentDts===void 0?c.minSegmentDts=m.dts:c.minSegmentDts=Math.min(c.minSegmentDts,m.dts),c.maxSegmentDts===void 0?c.maxSegmentDts=m.dts:c.maxSegmentDts=Math.max(c.maxSegmentDts,m.dts))},Ax=function(c){delete c.minSegmentDts,delete c.maxSegmentDts,delete c.minSegmentPts,delete c.maxSegmentPts},Dx=function(c,m){var p,g,y=c.minSegmentDts;return m||(y-=c.timelineStartInfo.dts),p=c.timelineStartInfo.baseMediaDecodeTime,p+=y,p=Math.max(0,p),c.type==="audio"&&(g=c.samplerate/Px,p*=g,p=Math.floor(p)),p},ur={clearDtsInfo:Ax,calculateTrackBaseMediaDecodeTime:Dx,collectDtsInfo:Ix},Xp=4,Ox=128,Lx=function(c){for(var m=0,p={payloadType:-1,payloadSize:0},g=0,y=0;m<c.byteLength&&c[m]!==Ox;){for(;c[m]===255;)g+=255,m++;for(g+=c[m++];c[m]===255;)y+=255,m++;if(y+=c[m++],!p.payload&&g===Xp){var _=String.fromCharCode(c[m+3],c[m+4],c[m+5],c[m+6]);if(_==="GA94"){p.payloadType=g,p.payloadSize=y,p.payload=c.subarray(m,m+y);break}else p.payload=void 0}m+=y,g=0,y=0}return p},Rx=function(c){return c.payload[0]!==181||(c.payload[1]<<8|c.payload[2])!==49||String.fromCharCode(c.payload[3],c.payload[4],c.payload[5],c.payload[6])!=="GA94"||c.payload[7]!==3?null:c.payload.subarray(8,c.payload.length-1)},Nx=function(c,m){var p=[],g,y,_,w;if(!(m[0]&64))return p;for(y=m[0]&31,g=0;g<y;g++)_=g*3,w={type:m[_+2]&3,pts:c},m[_+2]&4&&(w.ccData=m[_+3]<<8|m[_+4],p.push(w));return p},Mx=function(c){for(var m=c.byteLength,p=[],g=1,y,_;g<m-2;)c[g]===0&&c[g+1]===0&&c[g+2]===3?(p.push(g+2),g+=2):g++;if(p.length===0)return c;y=m-p.length,_=new Uint8Array(y);var w=0;for(g=0;g<y;w++,g++)w===p[0]&&(w++,p.shift()),_[g]=c[w];return _},La={parseSei:Lx,parseUserData:Rx,parseCaptionPackets:Nx,discardEmulationPreventionBytes:Mx,USER_DATA_REGISTERED_ITU_T_T35:Xp},Bt=function S(c){c=c||{},S.prototype.init.call(this),this.parse708captions_=typeof c.parse708captions=="boolean"?c.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Oe(0,0),new Oe(0,1),new Oe(1,0),new Oe(1,1)],this.parse708captions_&&(this.cc708Stream_=new be({captionServices:c.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Bt.prototype=new e,Bt.prototype.push=function(S){var c,m,p;if(S.nalUnitType==="sei_rbsp"&&(c=La.parseSei(S.escapedRBSP),!!c.payload&&c.payloadType===La.USER_DATA_REGISTERED_ITU_T_T35&&(m=La.parseUserData(c),!!m))){if(S.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(S.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}p=La.parseCaptionPackets(S.pts,m),this.captionPackets_=this.captionPackets_.concat(p),this.latestDts_!==S.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=S.dts}},Bt.prototype.flushCCStreams=function(S){this.ccStreams_.forEach(function(c){return S==="flush"?c.flush():c.partialFlush()},this)},Bt.prototype.flushStream=function(S){if(!this.captionPackets_.length){this.flushCCStreams(S);return}this.captionPackets_.forEach(function(c,m){c.presortIndex=m}),this.captionPackets_.sort(function(c,m){return c.pts===m.pts?c.presortIndex-m.presortIndex:c.pts-m.pts}),this.captionPackets_.forEach(function(c){c.type<2?this.dispatchCea608Packet(c):this.dispatchCea708Packet(c)},this),this.captionPackets_.length=0,this.flushCCStreams(S)},Bt.prototype.flush=function(){return this.flushStream("flush")},Bt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Bt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(S){S.reset()})},Bt.prototype.dispatchCea608Packet=function(S){this.setsTextOrXDSActive(S)?this.activeCea608Channel_[S.type]=null:this.setsChannel1Active(S)?this.activeCea608Channel_[S.type]=0:this.setsChannel2Active(S)&&(this.activeCea608Channel_[S.type]=1),this.activeCea608Channel_[S.type]!==null&&this.ccStreams_[(S.type<<1)+this.activeCea608Channel_[S.type]].push(S)},Bt.prototype.setsChannel1Active=function(S){return(S.ccData&30720)===4096},Bt.prototype.setsChannel2Active=function(S){return(S.ccData&30720)===6144},Bt.prototype.setsTextOrXDSActive=function(S){return(S.ccData&28928)===256||(S.ccData&30974)===4138||(S.ccData&30974)===6186},Bt.prototype.dispatchCea708Packet=function(S){this.parse708captions_&&this.cc708Stream_.push(S)};var Fx={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ux=function(c){var m=Fx[c]||c;return c&4096&&c===m?"":String.fromCharCode(m)},yo=function(c){return 32<=c&&c<=127||160<=c&&c<=255},Fr=function(c){this.windowNum=c,this.reset()};Fr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Fr.prototype.getText=function(){return this.rows.join(`
`)},Fr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Fr.prototype.newLine=function(S){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(S),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Fr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Fr.prototype.addText=function(S){this.rows[this.rowIdx]+=S},Fr.prototype.backspace=function(){if(!this.isEmpty()){var S=this.rows[this.rowIdx];this.rows[this.rowIdx]=S.substr(0,S.length-1)}};var _o=function(c,m,p){this.serviceNum=c,this.text="",this.currentWindow=new Fr(-1),this.windows=[],this.stream=p,typeof m=="string"&&this.createTextDecoder(m)};_o.prototype.init=function(S,c){this.startPts=S;for(var m=0;m<8;m++)this.windows[m]=new Fr(m),typeof c=="function"&&(this.windows[m].beforeRowOverflow=c)},_o.prototype.setCurrentWindow=function(S){this.currentWindow=this.windows[S]},_o.prototype.createTextDecoder=function(S){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(S)}catch(c){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+S+" encoding. "+c})}};var be=function S(c){c=c||{},S.prototype.init.call(this);var m=this,p=c.captionServices||{},g={},y;Object.keys(p).forEach(function(_){y=p[_],/^SERVICE/.test(_)&&(g[_]=y.encoding)}),this.serviceEncodings=g,this.current708Packet=null,this.services={},this.push=function(_){_.type===3?(m.new708Packet(),m.add708Bytes(_)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(_))}};be.prototype=new e,be.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},be.prototype.add708Bytes=function(S){var c=S.ccData,m=c>>>8,p=c&255;this.current708Packet.ptsVals.push(S.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(p)},be.prototype.push708Packet=function(){var S=this.current708Packet,c=S.data,m=null,p=null,g=0,y=c[g++];for(S.seq=y>>6,S.sizeCode=y&63;g<c.length;g++)y=c[g++],m=y>>5,p=y&31,m===7&&p>0&&(y=c[g++],m=y),this.pushServiceBlock(m,g,p),p>0&&(g+=p-1)},be.prototype.pushServiceBlock=function(S,c,m){var p,g=c,y=this.current708Packet.data,_=this.services[S];for(_||(_=this.initService(S,g));g<c+m&&g<y.length;g++)p=y[g],yo(p)?g=this.handleText(g,_):p===24?g=this.multiByteCharacter(g,_):p===16?g=this.extendedCommands(g,_):128<=p&&p<=135?g=this.setCurrentWindow(g,_):152<=p&&p<=159?g=this.defineWindow(g,_):p===136?g=this.clearWindows(g,_):p===140?g=this.deleteWindows(g,_):p===137?g=this.displayWindows(g,_):p===138?g=this.hideWindows(g,_):p===139?g=this.toggleWindows(g,_):p===151?g=this.setWindowAttributes(g,_):p===144?g=this.setPenAttributes(g,_):p===145?g=this.setPenColor(g,_):p===146?g=this.setPenLocation(g,_):p===143?_=this.reset(g,_):p===8?_.currentWindow.backspace():p===12?_.currentWindow.clearText():p===13?_.currentWindow.pendingNewLine=!0:p===14?_.currentWindow.clearText():p===141&&g++},be.prototype.extendedCommands=function(S,c){var m=this.current708Packet.data,p=m[++S];return yo(p)&&(S=this.handleText(S,c,{isExtended:!0})),S},be.prototype.getPts=function(S){return this.current708Packet.ptsVals[Math.floor(S/2)]},be.prototype.initService=function(S,c){var p="SERVICE"+S,m=this,p,g;return p in this.serviceEncodings&&(g=this.serviceEncodings[p]),this.services[S]=new _o(S,g,m),this.services[S].init(this.getPts(c),function(y){m.flushDisplayed(y,m.services[S])}),this.services[S]},be.prototype.handleText=function(S,c,m){var p=m&&m.isExtended,g=m&&m.isMultiByte,y=this.current708Packet.data,_=p?4096:0,w=y[S],k=y[S+1],O=c.currentWindow,D,R;return c.textDecoder_&&!p?(g?(R=[w,k],S++):R=[w],D=c.textDecoder_.decode(new Uint8Array(R))):D=Ux(_|w),O.pendingNewLine&&!O.isEmpty()&&O.newLine(this.getPts(S)),O.pendingNewLine=!1,O.addText(D),S},be.prototype.multiByteCharacter=function(S,c){var m=this.current708Packet.data,p=m[S+1],g=m[S+2];return yo(p)&&yo(g)&&(S=this.handleText(++S,c,{isMultiByte:!0})),S},be.prototype.setCurrentWindow=function(S,c){var m=this.current708Packet.data,p=m[S],g=p&7;return c.setCurrentWindow(g),S},be.prototype.defineWindow=function(S,c){var m=this.current708Packet.data,p=m[S],g=p&7;c.setCurrentWindow(g);var y=c.currentWindow;return p=m[++S],y.visible=(p&32)>>5,y.rowLock=(p&16)>>4,y.columnLock=(p&8)>>3,y.priority=p&7,p=m[++S],y.relativePositioning=(p&128)>>7,y.anchorVertical=p&127,p=m[++S],y.anchorHorizontal=p,p=m[++S],y.anchorPoint=(p&240)>>4,y.rowCount=p&15,p=m[++S],y.columnCount=p&63,p=m[++S],y.windowStyle=(p&56)>>3,y.penStyle=p&7,y.virtualRowCount=y.rowCount+1,S},be.prototype.setWindowAttributes=function(S,c){var m=this.current708Packet.data,p=m[S],g=c.currentWindow.winAttr;return p=m[++S],g.fillOpacity=(p&192)>>6,g.fillRed=(p&48)>>4,g.fillGreen=(p&12)>>2,g.fillBlue=p&3,p=m[++S],g.borderType=(p&192)>>6,g.borderRed=(p&48)>>4,g.borderGreen=(p&12)>>2,g.borderBlue=p&3,p=m[++S],g.borderType+=(p&128)>>5,g.wordWrap=(p&64)>>6,g.printDirection=(p&48)>>4,g.scrollDirection=(p&12)>>2,g.justify=p&3,p=m[++S],g.effectSpeed=(p&240)>>4,g.effectDirection=(p&12)>>2,g.displayEffect=p&3,S},be.prototype.flushDisplayed=function(S,c){for(var m=[],p=0;p<8;p++)c.windows[p].visible&&!c.windows[p].isEmpty()&&m.push(c.windows[p].getText());c.endPts=S,c.text=m.join(`

`),this.pushCaption(c),c.startPts=S},be.prototype.pushCaption=function(S){S.text!==""&&(this.trigger("data",{startPts:S.startPts,endPts:S.endPts,text:S.text,stream:"cc708_"+S.serviceNum}),S.text="",S.startPts=S.endPts)},be.prototype.displayWindows=function(S,c){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,c);for(var y=0;y<8;y++)p&1<<y&&(c.windows[y].visible=1);return S},be.prototype.hideWindows=function(S,c){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,c);for(var y=0;y<8;y++)p&1<<y&&(c.windows[y].visible=0);return S},be.prototype.toggleWindows=function(S,c){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,c);for(var y=0;y<8;y++)p&1<<y&&(c.windows[y].visible^=1);return S},be.prototype.clearWindows=function(S,c){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,c);for(var y=0;y<8;y++)p&1<<y&&c.windows[y].clearText();return S},be.prototype.deleteWindows=function(S,c){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,c);for(var y=0;y<8;y++)p&1<<y&&c.windows[y].reset();return S},be.prototype.setPenAttributes=function(S,c){var m=this.current708Packet.data,p=m[S],g=c.currentWindow.penAttr;return p=m[++S],g.textTag=(p&240)>>4,g.offset=(p&12)>>2,g.penSize=p&3,p=m[++S],g.italics=(p&128)>>7,g.underline=(p&64)>>6,g.edgeType=(p&56)>>3,g.fontStyle=p&7,S},be.prototype.setPenColor=function(S,c){var m=this.current708Packet.data,p=m[S],g=c.currentWindow.penColor;return p=m[++S],g.fgOpacity=(p&192)>>6,g.fgRed=(p&48)>>4,g.fgGreen=(p&12)>>2,g.fgBlue=p&3,p=m[++S],g.bgOpacity=(p&192)>>6,g.bgRed=(p&48)>>4,g.bgGreen=(p&12)>>2,g.bgBlue=p&3,p=m[++S],g.edgeRed=(p&48)>>4,g.edgeGreen=(p&12)>>2,g.edgeBlue=p&3,S},be.prototype.setPenLocation=function(S,c){var m=this.current708Packet.data,p=m[S],g=c.currentWindow.penLoc;return c.currentWindow.pendingNewLine=!0,p=m[++S],g.row=p&15,p=m[++S],g.column=p&63,S},be.prototype.reset=function(S,c){var m=this.getPts(S);return this.flushDisplayed(m,c),this.initService(c.serviceNum,S)};var Bx={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},To=function(c){return c===null?"":(c=Bx[c]||c,String.fromCharCode(c))},So=14,jx=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Bn=function(){for(var c=[],m=So+1;m--;)c.push("");return c},Oe=function S(c,m){S.prototype.init.call(this),this.field_=c||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(p){var g,y,_,w,k;if(g=p.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)===4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),_=g>>>8,w=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(p.pts),this.flushDisplayed(p.pts),y=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=y,this.startPts_=p.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(p.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(p.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(p.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(p.pts),this.flushDisplayed(p.pts),this.shiftRowsUp_(),this.startPts_=p.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(p.pts),this.displayed_=Bn();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Bn();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(p.pts),this.displayed_=Bn()),this.mode_="paintOn",this.startPts_=p.pts;else if(this.isSpecialCharacter(_,w))_=(_&3)<<8,k=To(_|w),this[this.mode_](p.pts,k),this.column_++;else if(this.isExtCharacter(_,w))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),_=(_&3)<<8,k=To(_|w),this[this.mode_](p.pts,k),this.column_++;else if(this.isMidRowCode(_,w))this.clearFormatting(p.pts),this[this.mode_](p.pts," "),this.column_++,(w&14)===14&&this.addFormatting(p.pts,["i"]),(w&1)===1&&this.addFormatting(p.pts,["u"]);else if(this.isOffsetControlCode(_,w))this.column_+=w&3;else if(this.isPAC(_,w)){var O=jx.indexOf(g&7968);this.mode_==="rollUp"&&(O-this.rollUpRows_+1<0&&(O=this.rollUpRows_-1),this.setRollUp(p.pts,O)),O!==this.row_&&(this.clearFormatting(p.pts),this.row_=O),w&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(p.pts,["u"]),(g&16)===16&&(this.column_=((g&14)>>1)*4),this.isColorPAC(w)&&(w&14)===14&&this.addFormatting(p.pts,["i"])}else this.isNormalChar(_)&&(w===0&&(w=null),k=To(_),k+=To(w),this[this.mode_](p.pts,k),this.column_+=k.length)}};Oe.prototype=new e,Oe.prototype.flushDisplayed=function(S){var c=this.displayed_.map(function(m,p){try{return m.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+p+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");c.length&&this.trigger("data",{startPts:this.startPts_,endPts:S,text:c,stream:this.name_})},Oe.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Bn(),this.nonDisplayed_=Bn(),this.lastControlCode_=null,this.column_=0,this.row_=So,this.rollUpRows_=2,this.formatting_=[]},Oe.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Oe.prototype.isSpecialCharacter=function(S,c){return S===this.EXT_&&c>=48&&c<=63},Oe.prototype.isExtCharacter=function(S,c){return(S===this.EXT_+1||S===this.EXT_+2)&&c>=32&&c<=63},Oe.prototype.isMidRowCode=function(S,c){return S===this.EXT_&&c>=32&&c<=47},Oe.prototype.isOffsetControlCode=function(S,c){return S===this.OFFSET_&&c>=33&&c<=35},Oe.prototype.isPAC=function(S,c){return S>=this.BASE_&&S<this.BASE_+8&&c>=64&&c<=127},Oe.prototype.isColorPAC=function(S){return S>=64&&S<=79||S>=96&&S<=127},Oe.prototype.isNormalChar=function(S){return S>=32&&S<=127},Oe.prototype.setRollUp=function(S,c){if(this.mode_!=="rollUp"&&(this.row_=So,this.mode_="rollUp",this.flushDisplayed(S),this.nonDisplayed_=Bn(),this.displayed_=Bn()),c!==void 0&&c!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[c-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";c===void 0&&(c=this.row_),this.topRow_=c-this.rollUpRows_+1},Oe.prototype.addFormatting=function(S,c){this.formatting_=this.formatting_.concat(c);var m=c.reduce(function(p,g){return p+"<"+g+">"},"");this[this.mode_](S,m)},Oe.prototype.clearFormatting=function(S){if(this.formatting_.length){var c=this.formatting_.reverse().reduce(function(m,p){return m+"</"+p+">"},"");this.formatting_=[],this[this.mode_](S,c)}},Oe.prototype.popOn=function(S,c){var m=this.nonDisplayed_[this.row_];m+=c,this.nonDisplayed_[this.row_]=m},Oe.prototype.rollUp=function(S,c){var m=this.displayed_[this.row_];m+=c,this.displayed_[this.row_]=m},Oe.prototype.shiftRowsUp_=function(){var S;for(S=0;S<this.topRow_;S++)this.displayed_[S]="";for(S=this.row_+1;S<So+1;S++)this.displayed_[S]="";for(S=this.topRow_;S<this.row_;S++)this.displayed_[S]=this.displayed_[S+1];this.displayed_[this.row_]=""},Oe.prototype.paintOn=function(S,c){var m=this.displayed_[this.row_];m+=c,this.displayed_[this.row_]=m};var xo={CaptionStream:Bt,Cea608Stream:Oe,Cea708Stream:be},tt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Vx=8589934592,Hx=4294967296,Qp="shared",hd=function(c,m){var p=1;for(c>m&&(p=-1);Math.abs(m-c)>Hx;)c+=p*Vx;return c},Yp=function S(c){var m,p;S.prototype.init.call(this),this.type_=c||Qp,this.push=function(g){this.type_!==Qp&&g.type!==this.type_||(p===void 0&&(p=g.dts),g.dts=hd(g.dts,p),g.pts=hd(g.pts,p),m=g.dts,this.trigger("data",g))},this.flush=function(){p=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){p=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Yp.prototype=new e;var Jp={TimestampRolloverStream:Yp,handleRollover:hd},Zp=function(c,m,p){var g,y="";for(g=m;g<p;g++)y+="%"+("00"+c[g].toString(16)).slice(-2);return y},bo=function(c,m,p){return decodeURIComponent(Zp(c,m,p))},zx=function(c,m,p){return unescape(Zp(c,m,p))},Eo=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},em={TXXX:function(c){var m;if(c.data[0]===3){for(m=1;m<c.data.length;m++)if(c.data[m]===0){c.description=bo(c.data,1,m),c.value=bo(c.data,m+1,c.data.length).replace(/\0*$/,"");break}c.data=c.value}},WXXX:function(c){var m;if(c.data[0]===3){for(m=1;m<c.data.length;m++)if(c.data[m]===0){c.description=bo(c.data,1,m),c.url=bo(c.data,m+1,c.data.length);break}}},PRIV:function(c){var m;for(m=0;m<c.data.length;m++)if(c.data[m]===0){c.owner=zx(c.data,0,m);break}c.privateData=c.data.subarray(m+1),c.data=c.privateData}},Co;Co=function(c){var m={descriptor:c&&c.descriptor},p=0,g=[],y=0,_;if(Co.prototype.init.call(this),this.dispatchType=tt.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(_=0;_<m.descriptor.length;_++)this.dispatchType+=("00"+m.descriptor[_].toString(16)).slice(-2);this.push=function(w){var k,O,D,R,V,Q;if(w.type==="timed-metadata"){if(w.dataAlignmentIndicator&&(y=0,g.length=0),g.length===0&&(w.data.length<10||w.data[0]!=="I".charCodeAt(0)||w.data[1]!=="D".charCodeAt(0)||w.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(g.push(w),y+=w.data.byteLength,g.length===1&&(p=Eo(w.data.subarray(6,10)),p+=10),!(y<p)){for(k={data:new Uint8Array(p),frames:[],pts:g[0].pts,dts:g[0].dts},V=0;V<p;)k.data.set(g[0].data.subarray(0,p-V),V),V+=g[0].data.byteLength,y-=g[0].data.byteLength,g.shift();O=10,k.data[5]&64&&(O+=4,O+=Eo(k.data.subarray(10,14)),p-=Eo(k.data.subarray(16,20)));do{if(D=Eo(k.data.subarray(O+4,O+8)),D<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Q=String.fromCharCode(k.data[O],k.data[O+1],k.data[O+2],k.data[O+3]),R={id:Q,data:k.data.subarray(O+10,O+D+10)},R.key=R.id,em[R.id]&&(em[R.id](R),R.owner==="com.apple.streaming.transportStreamTimestamp")){var J=R.data,W=(J[3]&1)<<30|J[4]<<22|J[5]<<14|J[6]<<6|J[7]>>>2;W*=4,W+=J[7]&3,R.timeStamp=W,k.pts===void 0&&k.dts===void 0&&(k.pts=R.timeStamp,k.dts=R.timeStamp),this.trigger("timestamp",R)}k.frames.push(R),O+=10,O+=D}while(O<p);this.trigger("data",k)}}}},Co.prototype=new e;var Wx=Co,Gx=Jp.TimestampRolloverStream,wo,Ra,ko,yi=188,pd=71;wo=function(){var c=new Uint8Array(yi),m=0;wo.prototype.init.call(this),this.push=function(p){var g=0,y=yi,_;for(m?(_=new Uint8Array(p.byteLength+m),_.set(c.subarray(0,m)),_.set(p,m),m=0):_=p;y<_.byteLength;){if(_[g]===pd&&_[y]===pd){this.trigger("data",_.subarray(g,y)),g+=yi,y+=yi;continue}g++,y++}g<_.byteLength&&(c.set(_.subarray(g),0),m=_.byteLength-g)},this.flush=function(){m===yi&&c[0]===pd&&(this.trigger("data",c),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},wo.prototype=new e,Ra=function(){var c,m,p,g;Ra.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,c=function(_,w){var k=0;w.payloadUnitStartIndicator&&(k+=_[k]+1),w.type==="pat"?m(_.subarray(k),w):p(_.subarray(k),w)},m=function(_,w){w.section_number=_[7],w.last_section_number=_[8],g.pmtPid=(_[10]&31)<<8|_[11],w.pmtPid=g.pmtPid},p=function(_,w){var k,O,D,R;if(_[5]&1){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},k=(_[1]&15)<<8|_[2],O=3+k-4,D=(_[10]&15)<<8|_[11],R=12+D;R<O;){var V=_[R],Q=(_[R+1]&31)<<8|_[R+2];V===tt.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=Q:V===tt.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=Q:V===tt.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][Q]=V),R+=((_[R+3]&15)<<8|_[R+4])+5}w.programMapTable=g.programMapTable}},this.push=function(y){var _={},w=4;if(_.payloadUnitStartIndicator=!!(y[1]&64),_.pid=y[1]&31,_.pid<<=8,_.pid|=y[2],(y[3]&48)>>>4>1&&(w+=y[w]+1),_.pid===0)_.type="pat",c(y.subarray(w),_),this.trigger("data",_);else if(_.pid===this.pmtPid)for(_.type="pmt",c(y.subarray(w),_),this.trigger("data",_);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([y,w,_]):this.processPes_(y,w,_)},this.processPes_=function(y,_,w){w.pid===this.programMapTable.video?w.streamType=tt.H264_STREAM_TYPE:w.pid===this.programMapTable.audio?w.streamType=tt.ADTS_STREAM_TYPE:w.streamType=this.programMapTable["timed-metadata"][w.pid],w.type="pes",w.data=y.subarray(_),this.trigger("data",w)}},Ra.prototype=new e,Ra.STREAM_TYPES={h264:27,adts:15},ko=function(){var c=this,m=!1,p={data:[],size:0},g={data:[],size:0},y={data:[],size:0},_,w=function(D,R){var V,Q=D[0]<<16|D[1]<<8|D[2];R.data=new Uint8Array,Q===1&&(R.packetLength=6+(D[4]<<8|D[5]),R.dataAlignmentIndicator=(D[6]&4)!==0,V=D[7],V&192&&(R.pts=(D[9]&14)<<27|(D[10]&255)<<20|(D[11]&254)<<12|(D[12]&255)<<5|(D[13]&254)>>>3,R.pts*=4,R.pts+=(D[13]&6)>>>1,R.dts=R.pts,V&64&&(R.dts=(D[14]&14)<<27|(D[15]&255)<<20|(D[16]&254)<<12|(D[17]&255)<<5|(D[18]&254)>>>3,R.dts*=4,R.dts+=(D[18]&6)>>>1)),R.data=D.subarray(9+D[8]))},k=function(D,R,V){var Q=new Uint8Array(D.size),J={type:R},W=0,ie=0,Ge=!1,gt;if(!(!D.data.length||D.size<9)){for(J.trackId=D.data[0].pid,W=0;W<D.data.length;W++)gt=D.data[W],Q.set(gt.data,ie),ie+=gt.data.byteLength;w(Q,J),Ge=R==="video"||J.packetLength<=D.size,(V||Ge)&&(D.size=0,D.data.length=0),Ge&&c.trigger("data",J)}};ko.prototype.init.call(this),this.push=function(O){({pat:function(){},pes:function(){var R,V;switch(O.streamType){case tt.H264_STREAM_TYPE:R=p,V="video";break;case tt.ADTS_STREAM_TYPE:R=g,V="audio";break;case tt.METADATA_STREAM_TYPE:R=y,V="timed-metadata";break;default:return}O.payloadUnitStartIndicator&&k(R,V,!0),R.data.push(O),R.size+=O.data.byteLength},pmt:function(){var R={type:"metadata",tracks:[]};_=O.programMapTable,_.video!==null&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.video,codec:"avc",type:"video"}),_.audio!==null&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.audio,codec:"adts",type:"audio"}),m=!0,c.trigger("data",R)}})[O.type]()},this.reset=function(){p.size=0,p.data.length=0,g.size=0,g.data.length=0,this.trigger("reset")},this.flushStreams_=function(){k(p,"video"),k(g,"audio"),k(y,"timed-metadata")},this.flush=function(){if(!m&&_){var O={type:"metadata",tracks:[]};_.video!==null&&O.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.video,codec:"avc",type:"video"}),_.audio!==null&&O.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.audio,codec:"adts",type:"audio"}),c.trigger("data",O)}m=!1,this.flushStreams_(),this.trigger("done")}},ko.prototype=new e;var tm={PAT_PID:0,MP2T_PACKET_LENGTH:yi,TransportPacketStream:wo,TransportParseStream:Ra,ElementaryStream:ko,TimestampRolloverStream:Gx,CaptionStream:xo.CaptionStream,Cea608Stream:xo.Cea608Stream,Cea708Stream:xo.Cea708Stream,MetadataStream:Wx};for(var md in tt)tt.hasOwnProperty(md)&&(tm[md]=tt[md]);var Ur=tm,$x=me.ONE_SECOND_IN_TS,Po,rm=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Po=function(c){var m,p=0;Po.prototype.init.call(this),this.skipWarn_=function(g,y){this.trigger("log",{level:"warn",message:"adts skiping bytes "+g+" to "+y+" in frame "+p+" outside syncword"})},this.push=function(g){var y=0,_,w,k,O,D;if(c||(p=0),g.type==="audio"){m&&m.length?(k=m,m=new Uint8Array(k.byteLength+g.data.byteLength),m.set(k),m.set(g.data,k.byteLength)):m=g.data;for(var R;y+7<m.length;){if(m[y]!==255||(m[y+1]&246)!==240){typeof R!="number"&&(R=y),y++;continue}if(typeof R=="number"&&(this.skipWarn_(R,y),R=null),w=(~m[y+1]&1)*2,_=(m[y+3]&3)<<11|m[y+4]<<3|(m[y+5]&224)>>5,O=((m[y+6]&3)+1)*1024,D=O*$x/rm[(m[y+2]&60)>>>2],m.byteLength-y<_)break;this.trigger("data",{pts:g.pts+p*D,dts:g.dts+p*D,sampleCount:O,audioobjecttype:(m[y+2]>>>6&3)+1,channelcount:(m[y+2]&1)<<2|(m[y+3]&192)>>>6,samplerate:rm[(m[y+2]&60)>>>2],samplingfrequencyindex:(m[y+2]&60)>>>2,samplesize:16,data:m.subarray(y+7+w,y+_)}),p++,y+=_}typeof R=="number"&&(this.skipWarn_(R,y),R=null),m=m.subarray(y)}},this.flush=function(){p=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},Po.prototype=new e;var nm=Po,im;im=function(c){var m=c.byteLength,p=0,g=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+g},this.loadWord=function(){var y=c.byteLength-m,_=new Uint8Array(4),w=Math.min(4,m);if(w===0)throw new Error("no bytes available");_.set(c.subarray(y,y+w)),p=new DataView(_.buffer).getUint32(0),g=w*8,m-=w},this.skipBits=function(y){var _;g>y?(p<<=y,g-=y):(y-=g,_=Math.floor(y/8),y-=_*8,m-=_,this.loadWord(),p<<=y,g-=y)},this.readBits=function(y){var _=Math.min(g,y),w=p>>>32-_;return g-=_,g>0?p<<=_:m>0&&this.loadWord(),_=y-_,_>0?w<<_|this.readBits(_):w},this.skipLeadingZeros=function(){var y;for(y=0;y<g;++y)if(p&2147483648>>>y)return p<<=y,g-=y,y;return this.loadWord(),y+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var y=this.skipLeadingZeros();return this.readBits(y+1)-1},this.readExpGolomb=function(){var y=this.readUnsignedExpGolomb();return 1&y?1+y>>>1:-1*(y>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var qx=im,Io,Na,am;Na=function(){var c=0,m,p;Na.prototype.init.call(this),this.push=function(g){var y;p?(y=new Uint8Array(p.byteLength+g.data.byteLength),y.set(p),y.set(g.data,p.byteLength),p=y):p=g.data;for(var _=p.byteLength;c<_-3;c++)if(p[c+2]===1){m=c+5;break}for(;m<_;)switch(p[m]){case 0:if(p[m-1]!==0){m+=2;break}else if(p[m-2]!==0){m++;break}c+3!==m-2&&this.trigger("data",p.subarray(c+3,m-2));do m++;while(p[m]!==1&&m<_);c=m-2,m+=3;break;case 1:if(p[m-1]!==0||p[m-2]!==0){m+=3;break}this.trigger("data",p.subarray(c+3,m-2)),c=m-2,m+=3;break;default:m+=3;break}p=p.subarray(c),m-=c,c=0},this.reset=function(){p=null,c=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(c+3)),p=null,c=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Na.prototype=new e,am={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Io=function(){var c=new Na,m,p,g,y,_,w,k;Io.prototype.init.call(this),m=this,this.push=function(O){O.type==="video"&&(p=O.trackId,g=O.pts,y=O.dts,c.push(O))},c.on("data",function(O){var D={trackId:p,pts:g,dts:y,data:O,nalUnitTypeCode:O[0]&31};switch(D.nalUnitTypeCode){case 5:D.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:D.nalUnitType="sei_rbsp",D.escapedRBSP=_(O.subarray(1));break;case 7:D.nalUnitType="seq_parameter_set_rbsp",D.escapedRBSP=_(O.subarray(1)),D.config=w(D.escapedRBSP);break;case 8:D.nalUnitType="pic_parameter_set_rbsp";break;case 9:D.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",D)}),c.on("done",function(){m.trigger("done")}),c.on("partialdone",function(){m.trigger("partialdone")}),c.on("reset",function(){m.trigger("reset")}),c.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){c.flush()},this.partialFlush=function(){c.partialFlush()},this.reset=function(){c.reset()},this.endTimeline=function(){c.endTimeline()},k=function(D,R){var V=8,Q=8,J,W;for(J=0;J<D;J++)Q!==0&&(W=R.readExpGolomb(),Q=(V+W+256)%256),V=Q===0?V:Q},_=function(D){for(var R=D.byteLength,V=[],Q=1,J,W;Q<R-2;)D[Q]===0&&D[Q+1]===0&&D[Q+2]===3?(V.push(Q+2),Q+=2):Q++;if(V.length===0)return D;J=R-V.length,W=new Uint8Array(J);var ie=0;for(Q=0;Q<J;ie++,Q++)ie===V[0]&&(ie++,V.shift()),W[Q]=D[ie];return W},w=function(D){var R=0,V=0,Q=0,J=0,W,ie,Ge,gt,zn,Sd,Em,Cm,wm,xd,km,Ue=[1,1],Pm,Wn;if(W=new qx(D),ie=W.readUnsignedByte(),gt=W.readUnsignedByte(),Ge=W.readUnsignedByte(),W.skipUnsignedExpGolomb(),am[ie]&&(zn=W.readUnsignedExpGolomb(),zn===3&&W.skipBits(1),W.skipUnsignedExpGolomb(),W.skipUnsignedExpGolomb(),W.skipBits(1),W.readBoolean()))for(km=zn!==3?8:12,Wn=0;Wn<km;Wn++)W.readBoolean()&&(Wn<6?k(16,W):k(64,W));if(W.skipUnsignedExpGolomb(),Sd=W.readUnsignedExpGolomb(),Sd===0)W.readUnsignedExpGolomb();else if(Sd===1)for(W.skipBits(1),W.skipExpGolomb(),W.skipExpGolomb(),Em=W.readUnsignedExpGolomb(),Wn=0;Wn<Em;Wn++)W.skipExpGolomb();if(W.skipUnsignedExpGolomb(),W.skipBits(1),Cm=W.readUnsignedExpGolomb(),wm=W.readUnsignedExpGolomb(),xd=W.readBits(1),xd===0&&W.skipBits(1),W.skipBits(1),W.readBoolean()&&(R=W.readUnsignedExpGolomb(),V=W.readUnsignedExpGolomb(),Q=W.readUnsignedExpGolomb(),J=W.readUnsignedExpGolomb()),W.readBoolean()&&W.readBoolean()){switch(Pm=W.readUnsignedByte(),Pm){case 1:Ue=[1,1];break;case 2:Ue=[12,11];break;case 3:Ue=[10,11];break;case 4:Ue=[16,11];break;case 5:Ue=[40,33];break;case 6:Ue=[24,11];break;case 7:Ue=[20,11];break;case 8:Ue=[32,11];break;case 9:Ue=[80,33];break;case 10:Ue=[18,11];break;case 11:Ue=[15,11];break;case 12:Ue=[64,33];break;case 13:Ue=[160,99];break;case 14:Ue=[4,3];break;case 15:Ue=[3,2];break;case 16:Ue=[2,1];break;case 255:{Ue=[W.readUnsignedByte()<<8|W.readUnsignedByte(),W.readUnsignedByte()<<8|W.readUnsignedByte()];break}}Ue&&Ue[0]/Ue[1]}return{profileIdc:ie,levelIdc:Ge,profileCompatibility:gt,width:(Cm+1)*16-R*2-V*2,height:(2-xd)*(wm+1)*16-Q*2-J*2,sarRatio:Ue}}},Io.prototype=new e;var Kx={H264Stream:Io,NalByteStream:Na},Xx=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],sm=function(c,m){var p=c[m+6]<<21|c[m+7]<<14|c[m+8]<<7|c[m+9],g=c[m+5],y=(g&16)>>4;return p=p>=0?p:0,y?p+20:p+10},Qx=function S(c,m){return c.length-m<10||c[m]!=="I".charCodeAt(0)||c[m+1]!=="D".charCodeAt(0)||c[m+2]!=="3".charCodeAt(0)?m:(m+=sm(c,m),S(c,m))},Yx=function(c){var m=Qx(c,0);return c.length>=m+2&&(c[m]&255)===255&&(c[m+1]&240)===240&&(c[m+1]&22)===16},om=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},Jx=function(c,m,p){var g,y="";for(g=m;g<p;g++)y+="%"+("00"+c[g].toString(16)).slice(-2);return y},Zx=function(c,m,p){return unescape(Jx(c,m,p))},eb=function(c,m){var p=(c[m+5]&224)>>5,g=c[m+4]<<3,y=c[m+3]&3<<11;return y|g|p},tb=function(c,m){return c[m]==="I".charCodeAt(0)&&c[m+1]==="D".charCodeAt(0)&&c[m+2]==="3".charCodeAt(0)?"timed-metadata":c[m]&!0&&(c[m+1]&240)===240?"audio":null},rb=function(c){for(var m=0;m+5<c.length;){if(c[m]!==255||(c[m+1]&246)!==240){m++;continue}return Xx[(c[m+2]&60)>>>2]}return null},nb=function(c){var m,p,g,y;m=10,c[5]&64&&(m+=4,m+=om(c.subarray(10,14)));do{if(p=om(c.subarray(m+4,m+8)),p<1)return null;if(y=String.fromCharCode(c[m],c[m+1],c[m+2],c[m+3]),y==="PRIV"){g=c.subarray(m+10,m+p+10);for(var _=0;_<g.byteLength;_++)if(g[_]===0){var w=Zx(g,0,_);if(w==="com.apple.streaming.transportStreamTimestamp"){var k=g.subarray(_+1),O=(k[3]&1)<<30|k[4]<<22|k[5]<<14|k[6]<<6|k[7]>>>2;return O*=4,O+=k[7]&3,O}break}}m+=10,m+=p}while(m<c.byteLength);return null},Ao={isLikelyAacData:Yx,parseId3TagSize:sm,parseAdtsSize:eb,parseType:tb,parseSampleRate:rb,parseAacTimestamp:nb},Do;Do=function(){var c=new Uint8Array,m=0;Do.prototype.init.call(this),this.setTimestamp=function(p){m=p},this.push=function(p){var g=0,y=0,_,w,k,O;for(c.length?(O=c.length,c=new Uint8Array(p.byteLength+O),c.set(c.subarray(0,O)),c.set(p,O)):c=p;c.length-y>=3;){if(c[y]==="I".charCodeAt(0)&&c[y+1]==="D".charCodeAt(0)&&c[y+2]==="3".charCodeAt(0)){if(c.length-y<10||(g=Ao.parseId3TagSize(c,y),y+g>c.length))break;w={type:"timed-metadata",data:c.subarray(y,y+g)},this.trigger("data",w),y+=g;continue}else if((c[y]&255)===255&&(c[y+1]&240)===240){if(c.length-y<7||(g=Ao.parseAdtsSize(c,y),y+g>c.length))break;k={type:"audio",data:c.subarray(y,y+g),pts:m,dts:m},this.trigger("data",k),y+=g;continue}y++}_=c.length-y,_>0?c=c.subarray(y):c=new Uint8Array},this.reset=function(){c=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){c=new Uint8Array,this.trigger("endedtimeline")}},Do.prototype=new e;var ib=Do,ab=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],gd=ab,sb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],vd=sb,ob=Kx.H264Stream,ub=Ao.isLikelyAacData,lb=me.ONE_SECOND_IN_TS,Ma,_i,Oo,jn,db=function(c,m){m.stream=c,this.trigger("log",m)},um=function(c,m){for(var p=Object.keys(m),g=0;g<p.length;g++){var y=p[g];y==="headOfPipeline"||!m[y].on||m[y].on("log",db.bind(c,y))}},lm=function(c,m){var p;if(c.length!==m.length)return!1;for(p=0;p<c.length;p++)if(c[p]!==m[p])return!1;return!0},yd=function(c,m,p,g,y,_){var w=p-m,k=g-m,O=y-p;return{start:{dts:c,pts:c+w},end:{dts:c+k,pts:c+O},prependedContentDuration:_,baseMediaDecodeTime:c}};_i=function(c,m){var p=[],g,y=0,_=0,w=1/0;m=m||{},g=m.firstSequenceNumber||0,_i.prototype.init.call(this),this.push=function(k){ur.collectDtsInfo(c,k),c&&gd.forEach(function(O){c[O]=k[O]}),p.push(k)},this.setEarliestDts=function(k){y=k},this.setVideoBaseMediaDecodeTime=function(k){w=k},this.setAudioAppendStart=function(k){_=k},this.flush=function(){var k,O,D,R,V,Q,J;if(p.length===0){this.trigger("done","AudioSegmentStream");return}k=vo.trimAdtsFramesByEarliestDts(p,c,y),c.baseMediaDecodeTime=ur.calculateTrackBaseMediaDecodeTime(c,m.keepOriginalTimestamps),J=vo.prefixWithSilence(c,k,_,w),c.samples=vo.generateSampleTable(k),D=Ke.mdat(vo.concatenateFrameData(k)),p=[],O=Ke.moof(g,[c]),R=new Uint8Array(O.byteLength+D.byteLength),g++,R.set(O),R.set(D,O.byteLength),ur.clearDtsInfo(c),V=Math.ceil(lb*1024/c.samplerate),k.length&&(Q=k.length*V,this.trigger("segmentTimingInfo",yd(me.audioTsToVideoTs(c.baseMediaDecodeTime,c.samplerate),k[0].dts,k[0].pts,k[0].dts+Q,k[0].pts+Q,J||0)),this.trigger("timingInfo",{start:k[0].pts,end:k[0].pts+Q})),this.trigger("data",{track:c,boxes:R}),this.trigger("done","AudioSegmentStream")},this.reset=function(){ur.clearDtsInfo(c),p=[],this.trigger("reset")}},_i.prototype=new e,Ma=function(c,m){var p,g=[],y=[],_,w;m=m||{},p=m.firstSequenceNumber||0,Ma.prototype.init.call(this),delete c.minPTS,this.gopCache_=[],this.push=function(k){ur.collectDtsInfo(c,k),k.nalUnitType==="seq_parameter_set_rbsp"&&!_&&(_=k.config,c.sps=[k.data],vd.forEach(function(O){c[O]=_[O]},this)),k.nalUnitType==="pic_parameter_set_rbsp"&&!w&&(w=k.data,c.pps=[k.data]),g.push(k)},this.flush=function(){for(var k,O,D,R,V,Q,J=0,W,ie;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(k=Oa.groupNalsIntoFrames(g),D=Oa.groupFramesIntoGops(k),D[0][0].keyFrame||(O=this.getGopForFusion_(g[0],c),O?(J=O.duration,D.unshift(O),D.byteLength+=O.byteLength,D.nalCount+=O.nalCount,D.pts=O.pts,D.dts=O.dts,D.duration+=O.duration):D=Oa.extendFirstKeyFrame(D)),y.length){var Ge;if(m.alignGopsAtEnd?Ge=this.alignGopsAtEnd_(D):Ge=this.alignGopsAtStart_(D),!Ge){this.gopCache_.unshift({gop:D.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}ur.clearDtsInfo(c),D=Ge}ur.collectDtsInfo(c,D),c.samples=Oa.generateSampleTable(D),V=Ke.mdat(Oa.concatenateNalData(D)),c.baseMediaDecodeTime=ur.calculateTrackBaseMediaDecodeTime(c,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",D.map(function(gt){return{pts:gt.pts,dts:gt.dts,byteLength:gt.byteLength}})),W=D[0],ie=D[D.length-1],this.trigger("segmentTimingInfo",yd(c.baseMediaDecodeTime,W.dts,W.pts,ie.dts+ie.duration,ie.pts+ie.duration,J)),this.trigger("timingInfo",{start:D[0].pts,end:D[D.length-1].pts+D[D.length-1].duration}),this.gopCache_.unshift({gop:D.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",c.baseMediaDecodeTime),this.trigger("timelineStartInfo",c.timelineStartInfo),R=Ke.moof(p,[c]),Q=new Uint8Array(R.byteLength+V.byteLength),p++,Q.set(R),Q.set(V,R.byteLength),this.trigger("data",{track:c,boxes:Q}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,y.length=0,this.trigger("reset")},this.resetStream_=function(){ur.clearDtsInfo(c),_=void 0,w=void 0},this.getGopForFusion_=function(k){var O=45e3,D=1e4,R=1/0,V,Q,J,W,ie;for(ie=0;ie<this.gopCache_.length;ie++)W=this.gopCache_[ie],J=W.gop,!(!(c.pps&&lm(c.pps[0],W.pps[0]))||!(c.sps&&lm(c.sps[0],W.sps[0])))&&(J.dts<c.timelineStartInfo.dts||(V=k.dts-J.dts-J.duration,V>=-D&&V<=O&&(!Q||R>V)&&(Q=W,R=V)));return Q?Q.gop:null},this.alignGopsAtStart_=function(k){var O,D,R,V,Q,J,W,ie;for(Q=k.byteLength,J=k.nalCount,W=k.duration,O=D=0;O<y.length&&D<k.length&&(R=y[O],V=k[D],R.pts!==V.pts);){if(V.pts>R.pts){O++;continue}D++,Q-=V.byteLength,J-=V.nalCount,W-=V.duration}return D===0?k:D===k.length?null:(ie=k.slice(D),ie.byteLength=Q,ie.duration=W,ie.nalCount=J,ie.pts=ie[0].pts,ie.dts=ie[0].dts,ie)},this.alignGopsAtEnd_=function(k){var O,D,R,V,Q,J;for(O=y.length-1,D=k.length-1,Q=null,J=!1;O>=0&&D>=0;){if(R=y[O],V=k[D],R.pts===V.pts){J=!0;break}if(R.pts>V.pts){O--;continue}O===y.length-1&&(Q=D),D--}if(!J&&Q===null)return null;var W;if(J?W=D:W=Q,W===0)return k;var ie=k.slice(W),Ge=ie.reduce(function(gt,zn){return gt.byteLength+=zn.byteLength,gt.duration+=zn.duration,gt.nalCount+=zn.nalCount,gt},{byteLength:0,duration:0,nalCount:0});return ie.byteLength=Ge.byteLength,ie.duration=Ge.duration,ie.nalCount=Ge.nalCount,ie.pts=ie[0].pts,ie.dts=ie[0].dts,ie},this.alignGopsWith=function(k){y=k}},Ma.prototype=new e,jn=function(c,m){this.numberOfTracks=0,this.metadataStream=m,c=c||{},typeof c.remux<"u"?this.remuxTracks=!!c.remux:this.remuxTracks=!0,typeof c.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=c.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,jn.prototype.init.call(this),this.push=function(p){if(p.text)return this.pendingCaptions.push(p);if(p.frames)return this.pendingMetadata.push(p);this.pendingTracks.push(p.track),this.pendingBytes+=p.boxes.byteLength,p.track.type==="video"&&(this.videoTrack=p.track,this.pendingBoxes.push(p.boxes)),p.track.type==="audio"&&(this.audioTrack=p.track,this.pendingBoxes.unshift(p.boxes))}},jn.prototype=new e,jn.prototype.flush=function(S){var c=0,m={captions:[],captionStreams:{},metadata:[],info:{}},p,g,y,_=0,w;if(this.pendingTracks.length<this.numberOfTracks){if(S!=="VideoSegmentStream"&&S!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(_=this.videoTrack.timelineStartInfo.pts,vd.forEach(function(k){m.info[k]=this.videoTrack[k]},this)):this.audioTrack&&(_=this.audioTrack.timelineStartInfo.pts,gd.forEach(function(k){m.info[k]=this.audioTrack[k]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,y=Ke.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(y.byteLength),m.initSegment.set(y),m.data=new Uint8Array(this.pendingBytes),w=0;w<this.pendingBoxes.length;w++)m.data.set(this.pendingBoxes[w],c),c+=this.pendingBoxes[w].byteLength;for(w=0;w<this.pendingCaptions.length;w++)p=this.pendingCaptions[w],p.startTime=me.metadataTsToSeconds(p.startPts,_,this.keepOriginalTimestamps),p.endTime=me.metadataTsToSeconds(p.endPts,_,this.keepOriginalTimestamps),m.captionStreams[p.stream]=!0,m.captions.push(p);for(w=0;w<this.pendingMetadata.length;w++)g=this.pendingMetadata[w],g.cueTime=me.metadataTsToSeconds(g.pts,_,this.keepOriginalTimestamps),m.metadata.push(g);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),w=0;w<m.captions.length;w++)p=m.captions[w],this.trigger("caption",p);for(w=0;w<m.metadata.length;w++)g=m.metadata[w],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},jn.prototype.setRemux=function(S){this.remuxTracks=S},Oo=function(c){var m=this,p=!0,g,y;Oo.prototype.init.call(this),c=c||{},this.baseMediaDecodeTime=c.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var _={};this.transmuxPipeline_=_,_.type="aac",_.metadataStream=new Ur.MetadataStream,_.aacStream=new ib,_.audioTimestampRolloverStream=new Ur.TimestampRolloverStream("audio"),_.timedMetadataTimestampRolloverStream=new Ur.TimestampRolloverStream("timed-metadata"),_.adtsStream=new nm,_.coalesceStream=new jn(c,_.metadataStream),_.headOfPipeline=_.aacStream,_.aacStream.pipe(_.audioTimestampRolloverStream).pipe(_.adtsStream),_.aacStream.pipe(_.timedMetadataTimestampRolloverStream).pipe(_.metadataStream).pipe(_.coalesceStream),_.metadataStream.on("timestamp",function(w){_.aacStream.setTimestamp(w.timeStamp)}),_.aacStream.on("data",function(w){w.type!=="timed-metadata"&&w.type!=="audio"||_.audioSegmentStream||(y=y||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},_.coalesceStream.numberOfTracks++,_.audioSegmentStream=new _i(y,c),_.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),_.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),_.adtsStream.pipe(_.audioSegmentStream).pipe(_.coalesceStream),m.trigger("trackinfo",{hasAudio:!!y,hasVideo:!!g}))}),_.coalesceStream.on("data",this.trigger.bind(this,"data")),_.coalesceStream.on("done",this.trigger.bind(this,"done")),um(this,_)},this.setupTsPipeline=function(){var _={};this.transmuxPipeline_=_,_.type="ts",_.metadataStream=new Ur.MetadataStream,_.packetStream=new Ur.TransportPacketStream,_.parseStream=new Ur.TransportParseStream,_.elementaryStream=new Ur.ElementaryStream,_.timestampRolloverStream=new Ur.TimestampRolloverStream,_.adtsStream=new nm,_.h264Stream=new ob,_.captionStream=new Ur.CaptionStream(c),_.coalesceStream=new jn(c,_.metadataStream),_.headOfPipeline=_.packetStream,_.packetStream.pipe(_.parseStream).pipe(_.elementaryStream).pipe(_.timestampRolloverStream),_.timestampRolloverStream.pipe(_.h264Stream),_.timestampRolloverStream.pipe(_.adtsStream),_.timestampRolloverStream.pipe(_.metadataStream).pipe(_.coalesceStream),_.h264Stream.pipe(_.captionStream).pipe(_.coalesceStream),_.elementaryStream.on("data",function(w){var k;if(w.type==="metadata"){for(k=w.tracks.length;k--;)!g&&w.tracks[k].type==="video"?(g=w.tracks[k],g.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!y&&w.tracks[k].type==="audio"&&(y=w.tracks[k],y.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);g&&!_.videoSegmentStream&&(_.coalesceStream.numberOfTracks++,_.videoSegmentStream=new Ma(g,c),_.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),_.videoSegmentStream.on("timelineStartInfo",function(O){y&&!c.keepOriginalTimestamps&&(y.timelineStartInfo=O,_.audioSegmentStream.setEarliestDts(O.dts-m.baseMediaDecodeTime))}),_.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),_.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),_.videoSegmentStream.on("baseMediaDecodeTime",function(O){y&&_.audioSegmentStream.setVideoBaseMediaDecodeTime(O)}),_.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),_.h264Stream.pipe(_.videoSegmentStream).pipe(_.coalesceStream)),y&&!_.audioSegmentStream&&(_.coalesceStream.numberOfTracks++,_.audioSegmentStream=new _i(y,c),_.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),_.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),_.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),_.adtsStream.pipe(_.audioSegmentStream).pipe(_.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!y,hasVideo:!!g})}}),_.coalesceStream.on("data",this.trigger.bind(this,"data")),_.coalesceStream.on("id3Frame",function(w){w.dispatchType=_.metadataStream.dispatchType,m.trigger("id3Frame",w)}),_.coalesceStream.on("caption",this.trigger.bind(this,"caption")),_.coalesceStream.on("done",this.trigger.bind(this,"done")),um(this,_)},this.setBaseMediaDecodeTime=function(_){var w=this.transmuxPipeline_;c.keepOriginalTimestamps||(this.baseMediaDecodeTime=_),y&&(y.timelineStartInfo.dts=void 0,y.timelineStartInfo.pts=void 0,ur.clearDtsInfo(y),w.audioTimestampRolloverStream&&w.audioTimestampRolloverStream.discontinuity()),g&&(w.videoSegmentStream&&(w.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,ur.clearDtsInfo(g),w.captionStream.reset()),w.timestampRolloverStream&&w.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(_){y&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(_)},this.setRemux=function(_){var w=this.transmuxPipeline_;c.remux=_,w&&w.coalesceStream&&w.coalesceStream.setRemux(_)},this.alignGopsWith=function(_){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(_)},this.getLogTrigger_=function(_){var w=this;return function(k){k.stream=_,w.trigger("log",k)}},this.push=function(_){if(p){var w=ub(_);w&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!w&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),p=!1}this.transmuxPipeline_.headOfPipeline.push(_)},this.flush=function(){p=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Oo.prototype=new e;var cb={Transmuxer:Oo,VideoSegmentStream:Ma,AudioSegmentStream:_i,AUDIO_PROPERTIES:gd,VIDEO_PROPERTIES:vd,generateSegmentTimingInfo:yd},fb=function(c){return c>>>0},hb=function(c){return("00"+c.toString(16)).slice(-2)},Lo={toUnsigned:fb,toHexString:hb},pb=function(c){var m="";return m+=String.fromCharCode(c[0]),m+=String.fromCharCode(c[1]),m+=String.fromCharCode(c[2]),m+=String.fromCharCode(c[3]),m},Vn=pb,mb=Lo.toUnsigned,gb=function S(c,m){var p=[],g,y,_,w,k;if(!m.length)return null;for(g=0;g<c.byteLength;)y=mb(c[g]<<24|c[g+1]<<16|c[g+2]<<8|c[g+3]),_=Vn(c.subarray(g+4,g+8)),w=y>1?g+y:c.byteLength,_===m[0]&&(m.length===1?p.push(c.subarray(g+8,w)):(k=S(c.subarray(g+8,w),m.slice(1)),k.length&&(p=p.concat(k)))),g=w;return p},Ce=gb,vb=Lo.toUnsigned,yb=r.getUint64,_b=function(c){var m={version:c[0],flags:new Uint8Array(c.subarray(1,4))};return m.version===1?m.baseMediaDecodeTime=yb(c.subarray(4)):m.baseMediaDecodeTime=vb(c[4]<<24|c[5]<<16|c[6]<<8|c[7]),m},dm=_b,Tb=function(c){return{isLeading:(c[0]&12)>>>2,dependsOn:c[0]&3,isDependedOn:(c[1]&192)>>>6,hasRedundancy:(c[1]&48)>>>4,paddingValue:(c[1]&14)>>>1,isNonSyncSample:c[1]&1,degradationPriority:c[2]<<8|c[3]}},cm=Tb,Sb=function(c){var m={version:c[0],flags:new Uint8Array(c.subarray(1,4)),samples:[]},p=new DataView(c.buffer,c.byteOffset,c.byteLength),g=m.flags[2]&1,y=m.flags[2]&4,_=m.flags[1]&1,w=m.flags[1]&2,k=m.flags[1]&4,O=m.flags[1]&8,D=p.getUint32(4),R=8,V;for(g&&(m.dataOffset=p.getInt32(R),R+=4),y&&D&&(V={flags:cm(c.subarray(R,R+4))},R+=4,_&&(V.duration=p.getUint32(R),R+=4),w&&(V.size=p.getUint32(R),R+=4),O&&(m.version===1?V.compositionTimeOffset=p.getInt32(R):V.compositionTimeOffset=p.getUint32(R),R+=4),m.samples.push(V),D--);D--;)V={},_&&(V.duration=p.getUint32(R),R+=4),w&&(V.size=p.getUint32(R),R+=4),k&&(V.flags=cm(c.subarray(R,R+4)),R+=4),O&&(m.version===1?V.compositionTimeOffset=p.getInt32(R):V.compositionTimeOffset=p.getUint32(R),R+=4),m.samples.push(V);return m},fm=Sb,xb=function(c){var m=new DataView(c.buffer,c.byteOffset,c.byteLength),p={version:c[0],flags:new Uint8Array(c.subarray(1,4)),trackId:m.getUint32(4)},g=p.flags[2]&1,y=p.flags[2]&2,_=p.flags[2]&8,w=p.flags[2]&16,k=p.flags[2]&32,O=p.flags[0]&65536,D=p.flags[0]&131072,R;return R=8,g&&(R+=4,p.baseDataOffset=m.getUint32(12),R+=4),y&&(p.sampleDescriptionIndex=m.getUint32(R),R+=4),_&&(p.defaultSampleDuration=m.getUint32(R),R+=4),w&&(p.defaultSampleSize=m.getUint32(R),R+=4),k&&(p.defaultSampleFlags=m.getUint32(R)),O&&(p.durationIsEmpty=!0),!g&&D&&(p.baseDataOffsetIsMoof=!0),p},hm=xb,pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fa;typeof window<"u"?Fa=window:typeof pm<"u"?Fa=pm:typeof self<"u"?Fa=self:Fa={};var Ua=Fa,bb=La.discardEmulationPreventionBytes,Eb=xo.CaptionStream,Cb=function(c,m){for(var p=c,g=0;g<m.length;g++){var y=m[g];if(p<y.size)return y;p-=y.size}return null},wb=function(c,m,p){var g=new DataView(c.buffer,c.byteOffset,c.byteLength),y={logs:[],seiNals:[]},_,w,k,O;for(w=0;w+4<c.length;w+=k)if(k=g.getUint32(w),w+=4,!(k<=0))switch(c[w]&31){case 6:var D=c.subarray(w+1,w+1+k),R=Cb(w,m);if(_={nalUnitType:"sei_rbsp",size:k,data:D,escapedRBSP:bb(D),trackId:p},R)_.pts=R.pts,_.dts=R.dts,O=R;else if(O)_.pts=O.pts,_.dts=O.dts;else{y.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+w+" for trackId "+p+". See mux.js#223."});break}y.seiNals.push(_);break}return y},kb=function(c,m,p){var g=m,y=p.defaultSampleDuration||0,_=p.defaultSampleSize||0,w=p.trackId,k=[];return c.forEach(function(O){var D=fm(O),R=D.samples;R.forEach(function(V){V.duration===void 0&&(V.duration=y),V.size===void 0&&(V.size=_),V.trackId=w,V.dts=g,V.compositionTimeOffset===void 0&&(V.compositionTimeOffset=0),typeof g=="bigint"?(V.pts=g+Ua.BigInt(V.compositionTimeOffset),g+=Ua.BigInt(V.duration)):(V.pts=g+V.compositionTimeOffset,g+=V.duration)}),k=k.concat(R)}),k},Pb=function(c,m){var p=Ce(c,["moof","traf"]),g=Ce(c,["mdat"]),y={},_=[];return g.forEach(function(w,k){var O=p[k];_.push({mdat:w,traf:O})}),_.forEach(function(w){var k=w.mdat,O=w.traf,D=Ce(O,["tfhd"]),R=hm(D[0]),V=R.trackId,Q=Ce(O,["tfdt"]),J=Q.length>0?dm(Q[0]).baseMediaDecodeTime:0,W=Ce(O,["trun"]),ie,Ge;m===V&&W.length>0&&(ie=kb(W,J,R),Ge=wb(k,ie,V),y[V]||(y[V]={seiNals:[],logs:[]}),y[V].seiNals=y[V].seiNals.concat(Ge.seiNals),y[V].logs=y[V].logs.concat(Ge.logs))}),y},Ib=function(c,m,p){var g;if(m===null)return null;g=Pb(c,m);var y=g[m]||{};return{seiNals:y.seiNals,logs:y.logs,timescale:p}},Ab=function(){var c=!1,m,p,g,y,_,w;this.isInitialized=function(){return c},this.init=function(k){m=new Eb,c=!0,w=k?k.isPartial:!1,m.on("data",function(O){O.startTime=O.startPts/y,O.endTime=O.endPts/y,_.captions.push(O),_.captionStreams[O.stream]=!0}),m.on("log",function(O){_.logs.push(O)})},this.isNewInit=function(k,O){return k&&k.length===0||O&&typeof O=="object"&&Object.keys(O).length===0?!1:g!==k[0]||y!==O[g]},this.parse=function(k,O,D){var R;if(this.isInitialized()){if(!O||!D)return null;if(this.isNewInit(O,D))g=O[0],y=D[g];else if(g===null||!y)return p.push(k),null}else return null;for(;p.length>0;){var V=p.shift();this.parse(V,O,D)}return R=Ib(k,g,y),R&&R.logs&&(_.logs=_.logs.concat(R.logs)),R===null||!R.seiNals?_.logs.length?{logs:_.logs,captions:[],captionStreams:[]}:null:(this.pushNals(R.seiNals),this.flushStream(),_)},this.pushNals=function(k){if(!this.isInitialized()||!k||k.length===0)return null;k.forEach(function(O){m.push(O)})},this.flushStream=function(){if(!this.isInitialized())return null;w?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){_.captions=[],_.captionStreams={},_.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){p=[],g=null,y=null,_?this.clearParsedCaptions():_={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Db=Ab,Ro=Lo.toUnsigned,Ba=Lo.toHexString,Ob=r.getUint64,mm,gm,vm,ym,_m,_d;mm=function(c){var m={},p=Ce(c,["moov","trak"]);return p.reduce(function(g,y){var _,w,k,O,D;return _=Ce(y,["tkhd"])[0],!_||(w=_[0],k=w===0?12:20,O=Ro(_[k]<<24|_[k+1]<<16|_[k+2]<<8|_[k+3]),D=Ce(y,["mdia","mdhd"])[0],!D)?null:(w=D[0],k=w===0?12:20,g[O]=Ro(D[k]<<24|D[k+1]<<16|D[k+2]<<8|D[k+3]),g)},m)},gm=function(c,m){var p;p=Ce(m,["moof","traf"]);var g=p.reduce(function(y,_){var w=Ce(_,["tfhd"])[0],k=Ro(w[4]<<24|w[5]<<16|w[6]<<8|w[7]),O=c[k]||9e4,D=Ce(_,["tfdt"])[0],R=new DataView(D.buffer,D.byteOffset,D.byteLength),V;D[0]===1?V=Ob(D.subarray(4,12)):V=R.getUint32(4);var Q;return typeof V=="bigint"?Q=V/Ua.BigInt(O):typeof V=="number"&&!isNaN(V)&&(Q=V/O),Q<Number.MAX_SAFE_INTEGER&&(Q=Number(Q)),Q<y&&(y=Q),y},1/0);return typeof g=="bigint"||isFinite(g)?g:0},vm=function(c,m){var p=Ce(m,["moof","traf"]),g=0,y=0,_;if(p&&p.length){var w=Ce(p[0],["tfhd"])[0],k=Ce(p[0],["trun"])[0],O=Ce(p[0],["tfdt"])[0];if(w){var D=hm(w);_=D.trackId}if(O){var R=dm(O);g=R.baseMediaDecodeTime}if(k){var V=fm(k);V.samples&&V.samples.length&&(y=V.samples[0].compositionTimeOffset||0)}}var Q=c[_]||9e4;typeof g=="bigint"&&(y=Ua.BigInt(y),Q=Ua.BigInt(Q));var J=(g+y)/Q;return typeof J=="bigint"&&J<Number.MAX_SAFE_INTEGER&&(J=Number(J)),J},ym=function(c){var m=Ce(c,["moov","trak"]),p=[];return m.forEach(function(g){var y=Ce(g,["mdia","hdlr"]),_=Ce(g,["tkhd"]);y.forEach(function(w,k){var O=Vn(w.subarray(8,12)),D=_[k],R,V,Q;O==="vide"&&(R=new DataView(D.buffer,D.byteOffset,D.byteLength),V=R.getUint8(0),Q=V===0?R.getUint32(12):R.getUint32(20),p.push(Q))})}),p},_d=function(c){var m=c[0],p=m===0?12:20;return Ro(c[p]<<24|c[p+1]<<16|c[p+2]<<8|c[p+3])},_m=function(c){var m=Ce(c,["moov","trak"]),p=[];return m.forEach(function(g){var y={},_=Ce(g,["tkhd"])[0],w,k;_&&(w=new DataView(_.buffer,_.byteOffset,_.byteLength),k=w.getUint8(0),y.id=k===0?w.getUint32(12):w.getUint32(20));var O=Ce(g,["mdia","hdlr"])[0];if(O){var D=Vn(O.subarray(8,12));D==="vide"?y.type="video":D==="soun"?y.type="audio":y.type=D}var R=Ce(g,["mdia","minf","stbl","stsd"])[0];if(R){var V=R.subarray(8);y.codec=Vn(V.subarray(4,8));var Q=Ce(V,[y.codec])[0],J,W;Q&&(/^[asm]vc[1-9]$/i.test(y.codec)?(J=Q.subarray(78),W=Vn(J.subarray(4,8)),W==="avcC"&&J.length>11?(y.codec+=".",y.codec+=Ba(J[9]),y.codec+=Ba(J[10]),y.codec+=Ba(J[11])):y.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(y.codec)?(J=Q.subarray(28),W=Vn(J.subarray(4,8)),W==="esds"&&J.length>20&&J[19]!==0?(y.codec+="."+Ba(J[19]),y.codec+="."+Ba(J[20]>>>2&63).replace(/^0/,"")):y.codec="mp4a.40.2"):y.codec=y.codec.toLowerCase())}var ie=Ce(g,["mdia","mdhd"])[0];ie&&(y.timescale=_d(ie)),p.push(y)}),p};var Tm={findBox:Ce,parseType:Vn,timescale:mm,startTime:gm,compositionStartTime:vm,videoTrackIds:ym,tracks:_m,getTimescaleFromMediaHeader:_d},Sm=function(c){var m=c[1]&31;return m<<=8,m|=c[2],m},No=function(c){return!!(c[1]&64)},Mo=function(c){var m=0;return(c[3]&48)>>>4>1&&(m+=c[4]+1),m},Lb=function(c,m){var p=Sm(c);return p===0?"pat":p===m?"pmt":m?"pes":null},Rb=function(c){var m=No(c),p=4+Mo(c);return m&&(p+=c[p]+1),(c[p+10]&31)<<8|c[p+11]},Nb=function(c){var m={},p=No(c),g=4+Mo(c);if(p&&(g+=c[g]+1),!!(c[g+5]&1)){var y,_,w;y=(c[g+1]&15)<<8|c[g+2],_=3+y-4,w=(c[g+10]&15)<<8|c[g+11];for(var k=12+w;k<_;){var O=g+k;m[(c[O+1]&31)<<8|c[O+2]]=c[O],k+=((c[O+3]&15)<<8|c[O+4])+5}return m}},Mb=function(c,m){var p=Sm(c),g=m[p];switch(g){case tt.H264_STREAM_TYPE:return"video";case tt.ADTS_STREAM_TYPE:return"audio";case tt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Fb=function(c){var m=No(c);if(!m)return null;var p=4+Mo(c);if(p>=c.byteLength)return null;var g=null,y;return y=c[p+7],y&192&&(g={},g.pts=(c[p+9]&14)<<27|(c[p+10]&255)<<20|(c[p+11]&254)<<12|(c[p+12]&255)<<5|(c[p+13]&254)>>>3,g.pts*=4,g.pts+=(c[p+13]&6)>>>1,g.dts=g.pts,y&64&&(g.dts=(c[p+14]&14)<<27|(c[p+15]&255)<<20|(c[p+16]&254)<<12|(c[p+17]&255)<<5|(c[p+18]&254)>>>3,g.dts*=4,g.dts+=(c[p+18]&6)>>>1)),g},Td=function(c){switch(c){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ub=function(c){for(var m=4+Mo(c),p=c.subarray(m),g=0,y=0,_=!1,w;y<p.byteLength-3;y++)if(p[y+2]===1){g=y+5;break}for(;g<p.byteLength;)switch(p[g]){case 0:if(p[g-1]!==0){g+=2;break}else if(p[g-2]!==0){g++;break}y+3!==g-2&&(w=Td(p[y+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(_=!0));do g++;while(p[g]!==1&&g<p.length);y=g-2,g+=3;break;case 1:if(p[g-1]!==0||p[g-2]!==0){g+=3;break}w=Td(p[y+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(_=!0),y=g-2,g+=3;break;default:g+=3;break}return p=p.subarray(y),g-=y,y=0,p&&p.byteLength>3&&(w=Td(p[y+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(_=!0)),_},Bb={parseType:Lb,parsePat:Rb,parsePmt:Nb,parsePayloadUnitStartIndicator:No,parsePesType:Mb,parsePesTime:Fb,videoPacketContainsKeyFrame:Ub},Ti=Jp.handleRollover,ye={};ye.ts=Bb,ye.aac=Ao;var Hn=me.ONE_SECOND_IN_TS,mt=188,xr=71,jb=function(c,m){for(var p=0,g=mt,y,_;g<c.byteLength;){if(c[p]===xr&&c[g]===xr){switch(y=c.subarray(p,g),_=ye.ts.parseType(y,m.pid),_){case"pat":m.pid=ye.ts.parsePat(y);break;case"pmt":var w=ye.ts.parsePmt(y);m.table=m.table||{},Object.keys(w).forEach(function(k){m.table[k]=w[k]});break}p+=mt,g+=mt;continue}p++,g++}},xm=function(c,m,p){for(var g=0,y=mt,_,w,k,O,D,R=!1;y<=c.byteLength;){if(c[g]===xr&&(c[y]===xr||y===c.byteLength)){switch(_=c.subarray(g,y),w=ye.ts.parseType(_,m.pid),w){case"pes":k=ye.ts.parsePesType(_,m.table),O=ye.ts.parsePayloadUnitStartIndicator(_),k==="audio"&&O&&(D=ye.ts.parsePesTime(_),D&&(D.type="audio",p.audio.push(D),R=!0));break}if(R)break;g+=mt,y+=mt;continue}g++,y++}for(y=c.byteLength,g=y-mt,R=!1;g>=0;){if(c[g]===xr&&(c[y]===xr||y===c.byteLength)){switch(_=c.subarray(g,y),w=ye.ts.parseType(_,m.pid),w){case"pes":k=ye.ts.parsePesType(_,m.table),O=ye.ts.parsePayloadUnitStartIndicator(_),k==="audio"&&O&&(D=ye.ts.parsePesTime(_),D&&(D.type="audio",p.audio.push(D),R=!0));break}if(R)break;g-=mt,y-=mt;continue}g--,y--}},Vb=function(c,m,p){for(var g=0,y=mt,_,w,k,O,D,R,V,Q,J=!1,W={data:[],size:0};y<c.byteLength;){if(c[g]===xr&&c[y]===xr){switch(_=c.subarray(g,y),w=ye.ts.parseType(_,m.pid),w){case"pes":if(k=ye.ts.parsePesType(_,m.table),O=ye.ts.parsePayloadUnitStartIndicator(_),k==="video"&&(O&&!J&&(D=ye.ts.parsePesTime(_),D&&(D.type="video",p.video.push(D),J=!0)),!p.firstKeyFrame)){if(O&&W.size!==0){for(R=new Uint8Array(W.size),V=0;W.data.length;)Q=W.data.shift(),R.set(Q,V),V+=Q.byteLength;if(ye.ts.videoPacketContainsKeyFrame(R)){var ie=ye.ts.parsePesTime(R);ie?(p.firstKeyFrame=ie,p.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}W.size=0}W.data.push(_),W.size+=_.byteLength}break}if(J&&p.firstKeyFrame)break;g+=mt,y+=mt;continue}g++,y++}for(y=c.byteLength,g=y-mt,J=!1;g>=0;){if(c[g]===xr&&c[y]===xr){switch(_=c.subarray(g,y),w=ye.ts.parseType(_,m.pid),w){case"pes":k=ye.ts.parsePesType(_,m.table),O=ye.ts.parsePayloadUnitStartIndicator(_),k==="video"&&O&&(D=ye.ts.parsePesTime(_),D&&(D.type="video",p.video.push(D),J=!0));break}if(J)break;g-=mt,y-=mt;continue}g--,y--}},Hb=function(c,m){if(c.audio&&c.audio.length){var p=m;(typeof p>"u"||isNaN(p))&&(p=c.audio[0].dts),c.audio.forEach(function(_){_.dts=Ti(_.dts,p),_.pts=Ti(_.pts,p),_.dtsTime=_.dts/Hn,_.ptsTime=_.pts/Hn})}if(c.video&&c.video.length){var g=m;if((typeof g>"u"||isNaN(g))&&(g=c.video[0].dts),c.video.forEach(function(_){_.dts=Ti(_.dts,g),_.pts=Ti(_.pts,g),_.dtsTime=_.dts/Hn,_.ptsTime=_.pts/Hn}),c.firstKeyFrame){var y=c.firstKeyFrame;y.dts=Ti(y.dts,g),y.pts=Ti(y.pts,g),y.dtsTime=y.dts/Hn,y.ptsTime=y.pts/Hn}}},zb=function(c){for(var m=!1,p=0,g=null,y=null,_=0,w=0,k;c.length-w>=3;){var O=ye.aac.parseType(c,w);switch(O){case"timed-metadata":if(c.length-w<10){m=!0;break}if(_=ye.aac.parseId3TagSize(c,w),_>c.length){m=!0;break}y===null&&(k=c.subarray(w,w+_),y=ye.aac.parseAacTimestamp(k)),w+=_;break;case"audio":if(c.length-w<7){m=!0;break}if(_=ye.aac.parseAdtsSize(c,w),_>c.length){m=!0;break}g===null&&(k=c.subarray(w,w+_),g=ye.aac.parseSampleRate(k)),p++,w+=_;break;default:w++;break}if(m)return null}if(g===null||y===null)return null;var D=Hn/g,R={audio:[{type:"audio",dts:y,pts:y},{type:"audio",dts:y+p*1024*D,pts:y+p*1024*D}]};return R},Wb=function(c){var m={pid:null,table:null},p={};jb(c,m);for(var g in m.table)if(m.table.hasOwnProperty(g)){var y=m.table[g];switch(y){case tt.H264_STREAM_TYPE:p.video=[],Vb(c,m,p),p.video.length===0&&delete p.video;break;case tt.ADTS_STREAM_TYPE:p.audio=[],xm(c,m,p),p.audio.length===0&&delete p.audio;break}}return p},Gb=function(c,m){var p=ye.aac.isLikelyAacData(c),g;return p?g=zb(c):g=Wb(c),!g||!g.audio&&!g.video?null:(Hb(g,m),g)},$b={inspect:Gb,parseAudioPes_:xm},qb=function(c,m){m.on("data",function(p){var g=p.initSegment;p.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};var y=p.data;p.data=y.buffer,c.postMessage({action:"data",segment:p,byteOffset:y.byteOffset,byteLength:y.byteLength},[p.data])}),m.on("done",function(p){c.postMessage({action:"done"})}),m.on("gopInfo",function(p){c.postMessage({action:"gopInfo",gopInfo:p})}),m.on("videoSegmentTimingInfo",function(p){var g={start:{decode:me.videoTsToSeconds(p.start.dts),presentation:me.videoTsToSeconds(p.start.pts)},end:{decode:me.videoTsToSeconds(p.end.dts),presentation:me.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:me.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=me.videoTsToSeconds(p.prependedContentDuration)),c.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:g})}),m.on("audioSegmentTimingInfo",function(p){var g={start:{decode:me.videoTsToSeconds(p.start.dts),presentation:me.videoTsToSeconds(p.start.pts)},end:{decode:me.videoTsToSeconds(p.end.dts),presentation:me.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:me.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=me.videoTsToSeconds(p.prependedContentDuration)),c.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:g})}),m.on("id3Frame",function(p){c.postMessage({action:"id3Frame",id3Frame:p})}),m.on("caption",function(p){c.postMessage({action:"caption",caption:p})}),m.on("trackinfo",function(p){c.postMessage({action:"trackinfo",trackInfo:p})}),m.on("audioTimingInfo",function(p){c.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:me.videoTsToSeconds(p.start),end:me.videoTsToSeconds(p.end)}})}),m.on("videoTimingInfo",function(p){c.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:me.videoTsToSeconds(p.start),end:me.videoTsToSeconds(p.end)}})}),m.on("log",function(p){c.postMessage({action:"log",log:p})})},bm=function(){function S(m,p){this.options=p||{},this.self=m,this.init()}var c=S.prototype;return c.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new cb.Transmuxer(this.options),qb(this.self,this.transmuxer)},c.pushMp4Captions=function(p){this.captionParser||(this.captionParser=new Db,this.captionParser.init());var g=new Uint8Array(p.data,p.byteOffset,p.byteLength),y=this.captionParser.parse(g,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:y&&y.captions||[],logs:y&&y.logs||[],data:g.buffer},[g.buffer])},c.probeMp4StartTime=function(p){var g=p.timescales,y=p.data,_=Tm.startTime(g,y);this.self.postMessage({action:"probeMp4StartTime",startTime:_,data:y},[y.buffer])},c.probeMp4Tracks=function(p){var g=p.data,y=Tm.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:y,data:g},[g.buffer])},c.probeTs=function(p){var g=p.data,y=p.baseStartTime,_=typeof y=="number"&&!isNaN(y)?y*me.ONE_SECOND_IN_TS:void 0,w=$b.inspect(g,_),k=null;w&&(k={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},k.hasVideo&&(k.videoStart=w.video[0].ptsTime),k.hasAudio&&(k.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:k,data:g},[g.buffer])},c.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},c.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},c.push=function(p){var g=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(g)},c.reset=function(){this.transmuxer.reset()},c.setTimestampOffset=function(p){var g=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(me.secondsToVideoTs(g)))},c.setAudioAppendStart=function(p){this.transmuxer.setAudioAppendStart(Math.ceil(me.secondsToVideoTs(p.appendStart)))},c.setRemux=function(p){this.transmuxer.setRemux(p.remux)},c.flush=function(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},c.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},c.alignGopsWith=function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())},S}();self.onmessage=function(S){if(S.data.action==="init"&&S.data.options){this.messageHandlers=new bm(self,S.data.options);return}this.messageHandlers||(this.messageHandlers=new bm(self)),S.data&&S.data.action&&S.data.action!=="init"&&this.messageHandlers[S.data.action]&&this.messageHandlers[S.data.action](S.data)}})),XA=QS(KA),QA=function(e,n,i){var r=e.data.segment,a=r.type,s=r.initSegment,o=r.captions,u=r.captionStreams,l=r.metadata,d=r.videoFrameDtsTime,h=r.videoFramePtsTime;n.buffer.push({captions:o,captionStreams:u,metadata:l});var f=e.data.segment.boxes||{data:e.data.segment.data},v={type:a,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof d<"u"&&(v.videoFrameDtsTime=d),typeof h<"u"&&(v.videoFramePtsTime=h),i(v)},YA=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},JA=function(e,n){n.gopInfo=e.data.gopInfo},ZS=function(e){var n=e.transmuxer,i=e.bytes,r=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,u=e.onTrackInfo,l=e.onAudioTimingInfo,d=e.onVideoTimingInfo,h=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,v=e.onId3,T=e.onCaptions,b=e.onDone,E=e.onEndedTimeline,x=e.onTransmuxerLog,C=e.isEndOfTimeline,P={buffer:[]},A=C,L=function(j){n.currentTransmux===e&&(j.data.action==="data"&&QA(j,P,o),j.data.action==="trackinfo"&&u(j.data.trackInfo),j.data.action==="gopInfo"&&JA(j,P),j.data.action==="audioTimingInfo"&&l(j.data.audioTimingInfo),j.data.action==="videoTimingInfo"&&d(j.data.videoTimingInfo),j.data.action==="videoSegmentTimingInfo"&&h(j.data.videoSegmentTimingInfo),j.data.action==="audioSegmentTimingInfo"&&f(j.data.audioSegmentTimingInfo),j.data.action==="id3Frame"&&v([j.data.id3Frame],j.data.id3Frame.dispatchType),j.data.action==="caption"&&T(j.data.caption),j.data.action==="endedtimeline"&&(A=!1,E()),j.data.action==="log"&&x(j.data.log),j.data.type==="transmuxed"&&(A||(n.onmessage=null,YA({transmuxedData:P,callback:b}),ex(n))))};if(n.onmessage=L,r&&n.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(a)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&n.postMessage({action:"setRemux",remux:s}),i.byteLength){var B=i instanceof ArrayBuffer?i:i.buffer,F=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:B,byteOffset:F,byteLength:i.byteLength},[B])}C&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},ex=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():ZS(e.currentTransmux))},Qv=function(e,n){e.postMessage({action:n}),ex(e)},tx=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,Qv(n,e);return}n.transmuxQueue.push(Qv.bind(null,n,e))},ZA=function(e){tx("reset",e)},eD=function(e){tx("endTimeline",e)},rx=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,ZS(e);return}e.transmuxer.transmuxQueue.push(e)},tD=function(e){var n=new XA;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},vc={reset:ZA,endTimeline:eD,transmux:rx,createTransmuxer:tD},Tl=function(e){var n=e.transmuxer,i=e.endAction||e.action,r=e.callback,a=ar({},e,{endAction:null,transmuxer:null,callback:null}),s=function l(d){d.data.action===i&&(n.removeEventListener("message",l),d.data.data&&(d.data.data=new Uint8Array(d.data.data,e.byteOffset||0,e.byteLength||d.data.data.byteLength),e.data&&(e.data=d.data.data)),r(d.data))};if(n.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var u=[o?e.data:e.data.buffer];n.postMessage(a,u)}else n.postMessage(a)},Ar={FAILURE:2,TIMEOUT:-101,ABORTED:-102},jf=function(e){e.forEach(function(n){n.abort()})},rD=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},nD=function(e){var n=e.target,i=Date.now()-n.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Vp=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:Ar.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:Ar.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:Ar.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:Ar.FAILURE,xhr:n}:null},Yv=function(e,n,i){return function(r,a){var s=a.response,o=Vp(r,a);if(o)return i(o,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:Ar.FAILURE,xhr:a},e);for(var u=new DataView(s),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),d=0;d<n.length;d++)n[d].bytes=l;return i(null,e)}},nx=function(e,n){var i=rp(e.map.bytes);if(i!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+r,code:Ar.FAILURE})}Tl({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,u=s.data;return e.map.bytes=u,o.forEach(function(l){e.map.tracks=e.map.tracks||{},!e.map.tracks[l.type]&&(e.map.tracks[l.type]=l,typeof l.id=="number"&&l.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[l.id]=l.timescale))}),n(null)}})},iD=function(e){var n=e.segment,i=e.finishProcessingFn;return function(r,a){var s=Vp(r,a);if(s)return i(s,n);var o=new Uint8Array(a.response);if(n.map.key)return n.map.encryptedBytes=o,i(null,n);n.map.bytes=o,nx(n,function(u){if(u)return u.xhr=a,u.status=a.status,i(u,n);i(null,n)})}},aD=function(e){var n=e.segment,i=e.finishProcessingFn,r=e.responseType;return function(a,s){var o=Vp(a,s);if(o)return i(o,n);var u=r==="arraybuffer"||!s.responseText?s.response:$A(s.responseText.substring(n.lastReachedChar||0));return n.stats=rD(s),n.key?n.encryptedBytes=new Uint8Array(u):n.bytes=new Uint8Array(u),i(null,n)}},sD=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog,b=n.map&&n.map.tracks||{},E=!!(b.audio&&b.video),x=a.bind(null,n,"audio","start"),C=a.bind(null,n,"audio","end"),P=a.bind(null,n,"video","start"),A=a.bind(null,n,"video","end"),L=function(){return rx({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:E,onData:function(M){M.type=M.type==="combined"?"video":M.type,f(n,M)},onTrackInfo:function(M){r&&(E&&(M.isMuxed=!0),r(n,M))},onAudioTimingInfo:function(M){x&&typeof M.start<"u"&&(x(M.start),x=null),C&&typeof M.end<"u"&&C(M.end)},onVideoTimingInfo:function(M){P&&typeof M.start<"u"&&(P(M.start),P=null),A&&typeof M.end<"u"&&A(M.end)},onVideoSegmentTimingInfo:function(M){s(M)},onAudioSegmentTimingInfo:function(M){o(M)},onId3:function(M,j){u(n,M,j)},onCaptions:function(M){l(n,[M])},isEndOfTimeline:d,onEndedTimeline:function(){h()},onTransmuxerLog:T,onDone:function(M){v&&(M.type=M.type==="combined"?"video":M.type,v(null,n,M))}})};Tl({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function(F){n.bytes=i=F.data;var M=F.result;M&&(r(n,{hasAudio:M.hasAudio,hasVideo:M.hasVideo,isMuxed:E}),r=null,M.hasAudio&&!E&&x(M.audioStart),M.hasVideo&&P(M.videoStart),x=null,P=null),L()}})},ix=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog,b=new Uint8Array(i);if(CP(b)){n.isFmp4=!0;var E=n.map.tracks,x={isFmp4:!0,hasVideo:!!E.video,hasAudio:!!E.audio};E.audio&&E.audio.codec&&E.audio.codec!=="enca"&&(x.audioCodec=E.audio.codec),E.video&&E.video.codec&&E.video.codec!=="encv"&&(x.videoCodec=E.video.codec),E.video&&E.audio&&(x.isMuxed=!0),r(n,x);var C=function(A){f(n,{data:b,type:x.hasAudio&&!x.isMuxed?"audio":"video"}),A&&A.length&&l(n,A),v(null,n,{})};Tl({action:"probeMp4StartTime",timescales:n.map.timescales,data:b,transmuxer:n.transmuxer,callback:function(A){var L=A.data,B=A.startTime;if(i=L.buffer,n.bytes=b=L,x.hasAudio&&!x.isMuxed&&a(n,"audio","start",B),x.hasVideo&&a(n,"video","start",B),!E.video||!L.byteLength||!n.transmuxer){C();return}Tl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:b,timescales:n.map.timescales,trackIds:[E.video.id],callback:function(M){i=M.data.buffer,n.bytes=b=M.data,M.logs.forEach(function(j){T(N.mergeOptions(j,{stream:"mp4CaptionParser"}))}),C(M.captions)}})}});return}if(!n.transmuxer){v(null,n,{});return}if(typeof n.container>"u"&&(n.container=rp(b)),n.container!=="ts"&&n.container!=="aac"){r(n,{hasAudio:!1,hasVideo:!1}),v(null,n,{});return}sD({segment:n,bytes:i,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:v,onTransmuxerLog:T})},ax=function(e,n){var i=e.id,r=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function l(d){if(d.data.source===i){s.removeEventListener("message",l);var h=d.data.decrypted;n(new Uint8Array(h.bytes,h.byteOffset,h.byteLength))}};s.addEventListener("message",o);var u;r.bytes.slice?u=r.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(r.bytes)),s.postMessage(WS({source:i,encrypted:a,key:u,iv:r.iv}),[a.buffer,u.buffer])},oD=function(e){var n=e.decryptionWorker,i=e.segment,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog;ax({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(b){i.bytes=b,ix({segment:i,bytes:i.bytes,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:v,onTransmuxerLog:T})})},uD=function(e){var n=e.activeXhrs,i=e.decryptionWorker,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog,b=0,E=!1;return function(x,C){if(!E){if(x)return E=!0,jf(n),v(x,C);if(b+=1,b===n.length){var P=function(){if(C.encryptedBytes)return oD({decryptionWorker:i,segment:C,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:v,onTransmuxerLog:T});ix({segment:C,bytes:C.bytes,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:v,onTransmuxerLog:T})};if(C.endOfAllRequests=Date.now(),C.map&&C.map.encryptedBytes&&!C.map.bytes)return ax({decryptionWorker:i,id:C.requestId+"-init",encryptedBytes:C.map.encryptedBytes,key:C.map.key},function(A){C.map.bytes=A,nx(C,function(L){if(L)return jf(n),v(L,C);P()})});P()}}}},lD=function(e){var n=e.loadendState,i=e.abortFn;return function(r){var a=r.target;a.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},dD=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var a=r.target;if(!a.aborted)return n.stats=N.mergeOptions(n.stats,nD(r)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(r,n)}},cD=function(e){var n=e.xhr,i=e.xhrOptions,r=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,u=e.trackInfoFn,l=e.timingInfoFn,d=e.videoSegmentTimingInfoFn,h=e.audioSegmentTimingInfoFn,f=e.id3Fn,v=e.captionsFn,T=e.isEndOfTimeline,b=e.endedTimelineFn,E=e.dataFn,x=e.doneFn,C=e.onTransmuxerLog,P=[],A=uD({activeXhrs:P,decryptionWorker:r,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:v,isEndOfTimeline:T,endedTimelineFn:b,dataFn:E,doneFn:x,onTransmuxerLog:C});if(a.key&&!a.key.bytes){var L=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&L.push(a.map.key);var B=N.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),F=Yv(a,L,A),M=n(B,F);P.push(M)}if(a.map&&!a.map.bytes){var j=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(j){var U=N.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),K=Yv(a,[a.map.key],A),q=n(U,K);P.push(q)}var re=N.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Uf(a.map)}),fe=iD({segment:a,finishProcessingFn:A}),ge=n(re,fe);P.push(ge)}var ae=N.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:Uf(a)}),le=aD({segment:a,finishProcessingFn:A,responseType:ae.responseType}),G=n(ae,le);G.addEventListener("progress",dD({segment:a,progressFn:o,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:v,isEndOfTimeline:T,endedTimelineFn:b,dataFn:E})),P.push(G);var te={};return P.forEach(function(Z){Z.addEventListener("loadend",lD({loadendState:te,abortFn:s}))}),function(){return jf(P)}},fD=Sr("CodecUtils"),hD=function(e){var n=e.attributes||{};if(n.CODECS)return Cr(n.CODECS)},sx=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},pD=function(e,n){if(!sx(e,n))return!0;var i=n.attributes||{},r=e.mediaGroups.AUDIO[i.AUDIO];for(var a in r)if(!r[a].uri&&!r[a].playlists)return!0;return!1},Sl=function(e){var n={};return e.forEach(function(i){var r=i.mediaType,a=i.type,s=i.details;n[r]=n[r]||[],n[r].push(w_(""+a+s))}),Object.keys(n).forEach(function(i){if(n[i].length>1){fD("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},Jv=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},Es=function(e,n){var i=n.attributes||{},r=Sl(hD(n)||[]);if(sx(e,n)&&!r.audio&&!pD(e,n)){var a=Sl(Aw(e,i.AUDIO)||[]);a.audio&&(r.audio=a.audio)}return r},lu=Sr("PlaylistSelector"),Zv=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},xl=function(e,n){if(!e)return"";var i=I.getComputedStyle(e);return i?i[n]:""},ea=function(e,n){var i=e.slice();e.sort(function(r,a){var s=n(r,a);return s===0?i.indexOf(r)-i.indexOf(a):s})},Hp=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||I.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||I.Number.MAX_VALUE,i-r},mD=function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||I.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||I.Number.MAX_VALUE,i===r&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},ox=function(e,n,i,r,a,s){if(e){var o={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:a},u=e.playlists;Ot.isAudioOnly(e)&&(u=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=u.map(function(U){var K,q=U.attributes&&U.attributes.RESOLUTION&&U.attributes.RESOLUTION.width,re=U.attributes&&U.attributes.RESOLUTION&&U.attributes.RESOLUTION.height;return K=U.attributes&&U.attributes.BANDWIDTH,K=K||I.Number.MAX_VALUE,{bandwidth:K,width:q,height:re,playlist:U}});ea(l,function(U,K){return U.bandwidth-K.bandwidth}),l=l.filter(function(U){return!Ot.isIncompatible(U.playlist)});var d=l.filter(function(U){return Ot.isEnabled(U.playlist)});d.length||(d=l.filter(function(U){return!Ot.isDisabled(U.playlist)}));var h=d.filter(function(U){return U.bandwidth*Qe.BANDWIDTH_VARIANCE<n}),f=h[h.length-1],v=h.filter(function(U){return U.bandwidth===f.bandwidth})[0];if(a===!1){var T=v||d[0]||l[0];if(T&&T.playlist){var b="sortedPlaylistReps";return v&&(b="bandwidthBestRep"),d[0]&&(b="enabledPlaylistReps"),lu("choosing "+Zv(T)+" using "+b+" with options",o),T.playlist}return lu("could not choose a playlist with options",o),null}var E=h.filter(function(U){return U.width&&U.height});ea(E,function(U,K){return U.width-K.width});var x=E.filter(function(U){return U.width===i&&U.height===r});f=x[x.length-1];var C=x.filter(function(U){return U.bandwidth===f.bandwidth})[0],P,A,L;C||(P=E.filter(function(U){return U.width>i||U.height>r}),A=P.filter(function(U){return U.width===P[0].width&&U.height===P[0].height}),f=A[A.length-1],L=A.filter(function(U){return U.bandwidth===f.bandwidth})[0]);var B;if(s.experimentalLeastPixelDiffSelector){var F=E.map(function(U){return U.pixelDiff=Math.abs(U.width-i)+Math.abs(U.height-r),U});ea(F,function(U,K){return U.pixelDiff===K.pixelDiff?K.bandwidth-U.bandwidth:U.pixelDiff-K.pixelDiff}),B=F[0]}var M=B||L||C||v||d[0]||l[0];if(M&&M.playlist){var j="sortedPlaylistReps";return B?j="leastPixelDiffRep":L?j="resolutionPlusOneRep":C?j="resolutionBestRep":v?j="bandwidthBestRep":d[0]&&(j="enabledPlaylistReps"),lu("choosing "+Zv(M)+" using "+j+" with options",o),M.playlist}return lu("could not choose a playlist with options",o),null}},e0=function(){var e=this.useDevicePixelRatio&&I.devicePixelRatio||1;return ox(this.playlists.master,this.systemBandwidth,parseInt(xl(this.tech_.el(),"width"),10)*e,parseInt(xl(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},gD=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&I.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),ox(this.playlists.master,n,parseInt(xl(this.tech_.el(),"width"),10)*r,parseInt(xl(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},vD=function(e){var n=e.master,i=e.currentTime,r=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,u=e.currentTimeline,l=e.syncController,d=n.playlists.filter(function(b){return!Ot.isIncompatible(b)}),h=d.filter(Ot.isEnabled);h.length||(h=d.filter(function(b){return!Ot.isDisabled(b)}));var f=h.filter(Ot.hasAttribute.bind(null,"BANDWIDTH")),v=f.map(function(b){var E=l.getSyncPoint(b,a,u,i),x=E?1:2,C=Ot.estimateSegmentRequestTime(s,r,b),P=C*x-o;return{playlist:b,rebufferingImpact:P}}),T=v.filter(function(b){return b.rebufferingImpact<=0});return ea(T,function(b,E){return Hp(E.playlist,b.playlist)}),T.length?T[0]:(ea(v,function(b,E){return b.rebufferingImpact-E.rebufferingImpact}),v[0]||null)},yD=function(){var e=this,n=this.playlists.master.playlists.filter(Ot.isEnabled);ea(n,function(r,a){return Hp(r,a)});var i=n.filter(function(r){return!!Es(e.playlists.master,r).video});return i[0]||null},_D=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(r){i.set(r,n),n+=r.byteLength})),i},TD=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var r=i;/^cc708_/.test(i)&&(r="SERVICE"+i.split("_")[1]);var a=n.textTracks().getTrackById(r);if(a)e[i]=a;else{var s=n.options_.vhs&&n.options_.vhs.captionServices||{},o=i,u=i,l=!1,d=s[r];d&&(o=d.label,u=d.language,l=d.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:r,default:l,label:o,language:u},!1).track}}},SD=function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var a=I.WebKitDataCue||I.VTTCue;i.forEach(function(s){var o=s.stream;n[o].addCue(new a(s.startTime+r,s.endTime+r,s.text))})}},xD=function(e){Object.defineProperties(e.frame,{id:{get:function(){return N.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return N.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return N.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},bD=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,a=e.videoDuration;if(i){var s=I.WebKitDataCue||I.VTTCue,o=n.metadataTrack_;if(o&&(i.forEach(function(v){var T=v.cueTime+r;typeof T!="number"||I.isNaN(T)||T<0||!(T<1/0)||v.frames.forEach(function(b){var E=new s(T,T,b.value||b.url||b.data||"");E.frame=b,E.value=b,xD(E),o.addCue(E)})}),!(!o.cues||!o.cues.length))){for(var u=o.cues,l=[],d=0;d<u.length;d++)u[d]&&l.push(u[d]);var h=l.reduce(function(v,T){var b=v[T.startTime]||[];return b.push(T),v[T.startTime]=b,v},{}),f=Object.keys(h).sort(function(v,T){return Number(v)-Number(T)});f.forEach(function(v,T){var b=h[v],E=Number(f[T+1])||a;b.forEach(function(x){x.endTime=E})})}}},ED=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},ds=function(e,n,i){var r,a;if(i&&i.cues)for(r=i.cues.length;r--;)a=i.cues[r],a.startTime>=e&&a.endTime<=n&&i.removeCue(a)},CD=function(e){var n=e.cues;if(n)for(var i=0;i<n.length;i++){for(var r=[],a=0,s=0;s<n.length;s++)n[i].startTime===n[s].startTime&&n[i].endTime===n[s].endTime&&n[i].text===n[s].text&&(a++,a>1&&r.push(n[s]));r.length&&r.forEach(function(o){return e.removeCue(o)})}},wD=function(e,n,i){if(typeof n>"u"||n===null||!e.length)return[];var r=Math.ceil((n-i+3)*ol.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>r);a++);return e.slice(a)},kD=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var r=n[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=r);a++);return e.slice(0,a).concat(n)},PD=function(e,n,i,r){for(var a=Math.ceil((n-r)*ol.ONE_SECOND_IN_TS),s=Math.ceil((i-r)*ol.ONE_SECOND_IN_TS),o=e.slice(),u=e.length;u--&&!(e[u].pts<=s););if(u===-1)return o;for(var l=u+1;l--&&!(e[l].pts<=a););return l=Math.max(l,0),o.splice(l,u-l+1),o},ID=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),r=Object.keys(n).sort();if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==r[a]||e[s]!==n[s])return!1}return!0},ux=22,AD=function(e,n,i){n=n||[];for(var r=[],a=0,s=0;s<n.length;s++){var o=n[s];if(e===o.timeline&&(r.push(s),a+=o.duration,a>i))return s}return r.length===0?0:r[r.length-1]},es=1,DD=500,t0=function(e){return typeof e=="number"&&isFinite(e)},du=1/60,OD=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},LD=function(e,n,i){var r=n-Qe.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var a=n-i;return Math.min(a,r)},Ii=function(e){var n=e.startOfSegment,i=e.duration,r=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,u=s.id,l=s.segments,d=l===void 0?[]:l,h=e.mediaIndex,f=e.partIndex,v=e.timeline,T=d.length-1,b="mediaIndex/partIndex increment";e.getMediaInfoForTime?b="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(b+=" with independent "+e.independent);var E=typeof f=="number",x=e.segment.uri?"segment":"pre-segment",C=E?AS({preloadSegment:r})-1:0;return x+" ["+(o+h)+"/"+(o+T)+"]"+(E?" part ["+f+"/"+C+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(E?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+v+"]")+(" selected by ["+b+"]")+(" playlist ["+u+"]")},r0=function(e){return e+"TimingInfo"},RD=function(e){var n=e.segmentTimeline,i=e.currentTimeline,r=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&n===i?null:n<i?r:a.length?a.end(a.length-1):r},n0=function(e){var n=e.timelineChangeController,i=e.currentTimeline,r=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===r)return!1;if(a==="audio"){var o=n.lastTimelineChange({type:"main"});return!o||o.to!==r}if(a==="main"&&s){var u=n.pendingTimelineChange({type:"audio"});return!(u&&u.to===r)}return!1},ND=function(e){var n=0;return["video","audio"].forEach(function(i){var r=e[i+"TimingInfo"];if(r){var a=r.start,s=r.end,o;typeof a=="bigint"||typeof s=="bigint"?o=I.BigInt(s)-I.BigInt(a):typeof a=="number"&&typeof s=="number"&&(o=s-a),typeof o<"u"&&o>n&&(n=o)}}),typeof n=="bigint"&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n},i0=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+Rn:!1},MD=function(e,n){if(n!=="hls")return null;var i=ND({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var r=e.playlist.targetDuration,a=i0({segmentDuration:i,maxDuration:r*2}),s=i0({segmentDuration:i,maxDuration:r}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},Vf=function(t){X(e,t);function e(i,r){var a;if(a=t.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=N.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=Sr("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(se(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var n=e.prototype;return n.createTransmuxer_=function(){return vc.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&I.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,I.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},n.error=function(r){return typeof r<"u"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&vc.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return N.createTimeRanges();if(this.loaderType_==="main"){var a=r.hasAudio,s=r.hasVideo,o=r.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=_l(r),o=this.initSegments_[s];return a&&!o&&r.bytes&&(this.initSegments_[s]=o={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),o||r},n.segmentKey=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=GS(r),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&r.bytes&&(this.keyCache_[s]=o={resolvedUri:r.resolvedUri,bytes:r.bytes});var u={resolvedUri:(o||r).resolvedUri};return o&&(u.bytes=o.bytes),u},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(r,a){if(a===void 0&&(a={}),!!r){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=a,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var u=null;if(s&&(s.id?u=s.id:s.uri&&(u=s.uri)),this.logger_("playlist update ["+u+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var l=r.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+l+"]"),this.mediaIndex!==null)if(this.mediaIndex-=l,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){var h=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=h}}o&&(o.mediaIndex-=l,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=r.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,r)}},n.pause=function(){this.checkBufferTimeout_&&(I.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(r){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&vc.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(r,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var u=1,l=function(){u--,u===0&&s()};(o||!this.audioDisabled_)&&(u++,this.sourceUpdater_.removeAudio(r,a,l)),(o||this.loaderType_==="main")&&(this.gopBuffer_=PD(this.gopBuffer_,r,a,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(r,a,l));for(var d in this.inbandTextTracks_)ds(r,a,this.inbandTextTracks_[d]);ds(r,a,this.segmentMetadataTrack_),l()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&I.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=I.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&I.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=I.setTimeout(this.monitorBufferTick_.bind(this),DD)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();r&&(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},n.isEndOfStream_=function(r,a,s){if(r===void 0&&(r=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof r=="number"&&a.segments[r],u=r+1===a.segments.length,l=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&u&&l},n.chooseNextRequest_=function(){var r=this.buffered_(),a=Gv(r)||0,s=Mp(r,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,u=s>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||o||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(d.isSyncRequest)d.mediaIndex=AD(this.currentTimeline_,l,a);else if(this.mediaIndex!==null){var h=l[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=h.end?h.end:a,h.parts&&h.parts[f+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=f+1):d.mediaIndex=this.mediaIndex+1}else{var v=Ot.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),T=v.segmentIndex,b=v.startTime,E=v.partIndex;d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),d.mediaIndex=T,d.startOfSegment=b,d.partIndex=E}var x=l[d.mediaIndex],C=x&&typeof d.partIndex=="number"&&x.parts&&x.parts[d.partIndex];if(!x||typeof d.partIndex=="number"&&!C)return null;if(typeof d.partIndex!="number"&&x.parts&&(d.partIndex=0,C=x.parts[0]),!s&&C&&!C.independent)if(d.partIndex===0){var P=l[d.mediaIndex-1],A=P.parts&&P.parts.length&&P.parts[P.parts.length-1];A&&A.independent&&(d.mediaIndex-=1,d.partIndex=P.parts.length-1,d.independent="previous segment")}else x.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");var L=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=l.length-1&&L&&!this.seeking_()?null:this.generateSegmentInfo_(d)},n.generateSegmentInfo_=function(r){var a=r.independent,s=r.playlist,o=r.mediaIndex,u=r.startOfSegment,l=r.isSyncRequest,d=r.partIndex,h=r.forceTimestampOffset,f=r.getMediaInfoForTime,v=s.segments[o],T=typeof d=="number"&&v.parts[d],b={requestId:"segment-loader-"+Math.random(),uri:T&&T.resolvedUri||v.resolvedUri,mediaIndex:o,partIndex:T?d:null,isSyncRequest:l,startOfSegment:u,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:v.timeline,duration:T&&T.duration||v.duration,segment:v,part:T,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:a},E=typeof h<"u"?h:this.isPendingTimestampOffset_;b.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:v.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:E});var x=Gv(this.sourceUpdater_.audioBuffered());return typeof x=="number"&&(b.audioAppendStart=x-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(b.gopsToAlignWith=wD(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),b},n.timestampOffsetForSegment_=function(r){return RD(r)},n.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=r.bandwidth,o=this.pendingSegment_.duration,u=Ot.estimateSegmentRequestTime(o,s,this.playlist_,r.bytesReceived),l=nA(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(u<=l)){var d=vD({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(d){var h=u-l,f=h-d.rebufferingImpact,v=.5;l<=Rn&&(v=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||f<v)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*Qe.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(r){this.logger_("Aborting "+Ii(r)),this.mediaRequestsAborted+=1},n.handleProgress_=function(r,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(r,a){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},ID(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(r,a,s,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var u=this.pendingSegment_,l=r0(a);u[l]=u[l]||{},u[l][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(r,a){var s=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,a));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};a.forEach(function(d){l[d.stream]=l[d.stream]||{startTime:1/0,captions:[],endTime:0};var h=l[d.stream];h.startTime=Math.min(h.startTime,d.startTime+u),h.endTime=Math.max(h.endTime,d.endTime+u),h.captions.push(d)}),Object.keys(l).forEach(function(d){var h=l[d],f=h.startTime,v=h.endTime,T=h.captions,b=s.inbandTextTracks_;s.logger_("adding cues from "+f+" -> "+v+" for "+d),TD(b,s.vhs_.tech_,d),ds(f,v,b[d]),SD({captionArray:T,inbandTextTracks:b,timestampOffset:u})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(r,a,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,a,s));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();ED(this.inbandTextTracks_,s,this.vhs_.tech_),bD({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:u,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(a){return a()})},n.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(a){return a()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!n0({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},n.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!r||!a)return!1;var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed;return!(o&&!r.videoTimingInfo||s&&!this.audioDisabled_&&!u&&!r.audioTimingInfo||n0({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(r,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),s.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),s.isFmp4=r.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[r0(a.type)].start;else{var o=this.getCurrentMediaInfo_(),u=this.loaderType_==="main"&&o&&o.hasVideo,l;u&&(l=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:u,firstVideoFrameTimeForData:l,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var d=this.chooseNextRequest_();if(d.mediaIndex!==s.mediaIndex||d.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},n.updateAppendInitSegmentStatus=function(r,a){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==r.playlist&&(this.appendInitSegment_[a]=!0)},n.getInitSegmentAndUpdateState_=function(r){var a=r.type,s=r.initSegment,o=r.map,u=r.playlist;if(o){var l=_l(o);if(this.activeInitSegmentId_===l)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=l}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=u,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},n.handleQuotaExceededError_=function(r,a){var s=this,o=r.segmentInfo,u=r.type,l=r.bytes,d=this.sourceUpdater_.audioBuffered(),h=this.sourceUpdater_.videoBuffered();d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Zn(d).join(", ")),h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Zn(h).join(", "));var f=d.length?d.start(0):0,v=d.length?d.end(d.length-1):0,T=h.length?h.start(0):0,b=h.length?h.end(h.length-1):0;if(v-f<=es&&b-T<=es){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+l.byteLength+", ")+("audio buffer: "+Zn(d).join(", ")+", ")+("video buffer: "+Zn(h).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:u,bytes:l}));var E=this.currentTime_(),x=E-es;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+x),this.remove(0,x,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+es+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=I.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},es*1e3)},!0)},n.handleAppendError_=function(r,a){var s=r.segmentInfo,o=r.type,u=r.bytes;if(a){if(a.code===ux){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:u});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+u.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(r){var a=r.segmentInfo,s=r.type,o=r.initSegment,u=r.data,l=r.bytes;if(!l){var d=[u],h=u.byteLength;o&&(d.unshift(o),h+=o.byteLength),l=_D({bytes:h,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:l}))},n.handleSegmentTimingInfo_=function(r,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,u=r+"TimingInfo";o[u]||(o[u]={}),o[u].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[u].transmuxedPresentationStart=s.start.presentation,o[u].transmuxedDecodeStart=s.start.decode,o[u].transmuxedPresentationEnd=s.end.presentation,o[u].transmuxedDecodeEnd=s.end.decode,o[u].baseMediaDecodeTime=s.baseMediaDecodeTime}},n.appendData_=function(r,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var u=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:s,initSegment:u,data:o})}},n.loadSegment_=function(r){var a=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=ar({},r,{forceTimestampOffset:!0});ar(r,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},n.updateTransmuxerAndRequestSegment_=function(r){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var s=this.createSimplifiedSegmentObj_(r),o=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),u=this.mediaIndex!==null,l=r.timeline!==this.currentTimeline_&&r.timeline>0,d=o||u&&l;this.logger_("Requesting "+Ii(r)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=cD({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var v=f.message,T=f.level,b=f.stream;a.logger_(Ii(r)+" logged from transmuxer stream "+b+" as a "+T+": "+v)}})},n.trimBackBuffer_=function(r){var a=LD(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},n.createSimplifiedSegmentObj_=function(r){var a=r.segment,s=r.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},u=r.playlist.segments[r.mediaIndex-1];if(u&&u.timeline===a.timeline&&(u.videoTimingInfo?o.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(o.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),a.key){var l=a.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=l}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},n.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},n.saveBandwidthRelatedStats_=function(r,a){if(this.pendingSegment_.byteLength=a.bytesReceived,r<du){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+du));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},n.segmentRequestFinished_=function(r,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===Ar.ABORTED)return;if(this.pause(),r.code===Ar.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=kD(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},n.setTimeMapping_=function(r){var a=this.syncController_.mappingForTimeline(r);a!==null&&(this.timeMapping_=a)},n.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(r){var a=r.currentStart,s=r.playlist,o=r.mediaIndex,u=r.firstVideoFrameTimeForData,l=r.currentVideoTimestampOffset,d=r.useVideoTimingInfo,h=r.videoTimingInfo,f=r.audioTimingInfo;if(typeof a<"u")return a;if(!d)return f.start;var v=s.segments[o-1];return o===0||!v||typeof v.start>"u"||v.end!==u+l?u:h.start},n.waitForAppendsToComplete_=function(r){var a=this.getCurrentMediaInfo_(r);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed,l=this.loaderType_==="main"&&o,d=!this.audioDisabled_&&s&&!u;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}l&&r.waitingOnAppends++,d&&r.waitingOnAppends++,l&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},n.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(r){var a=OD(this.loaderType_,this.getCurrentMediaInfo_(),r);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;r.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:r.segment.videoTimingInfo,audioTimingInfo:r.segment.audioTimingInfo,timingInfo:r.timingInfo}),r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),a=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(r){var a=r.videoTimingInfo,s=r.audioTimingInfo,o=r.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o.start:o.start},n.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;o&&(r.timingInfo.end=typeof o.end=="number"?o.end:o.start+r.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=MD(r,this.sourceType_);if(a&&(a.severity==="warn"?N.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Ii(r));return}this.logger_("Appended "+Ii(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var s=r.segment,o=r.part,u=s.end&&this.currentTime_()-s.end>r.playlist.targetDuration*3,l=o&&o.end&&this.currentTime_()-o.end>r.playlist.partTargetDuration*3;if(u||l){this.logger_("bad "+(u?"segment":"part")+" "+Ii(r)),this.resetEverything();return}var d=this.mediaIndex!==null;d&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(r){if(r.duration<du){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+du));return}var a=this.throughput.rate,s=Date.now()-r.endOfAllRequests+1,o=Math.floor(r.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},n.addSegmentMetadataCue_=function(r){if(this.segmentMetadataTrack_){var a=r.segment,s=a.start,o=a.end;if(!(!t0(s)||!t0(o))){ds(s,o,this.segmentMetadataTrack_);var u=I.WebKitDataCue||I.VTTCue,l={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:s,end:o},d=JSON.stringify(l),h=new u(s,o,d);h.value=l,this.segmentMetadataTrack_.addCue(h)}}},e}(N.EventTarget);function Wr(){}var lx=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},FD=["video","audio"],Hf=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},UD=function(e,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.type==="mediaSource")return null;if(r.type===e)return i}return null},zp=function t(e,n){if(n.queue.length!==0){var i=0,r=n.queue[i];if(r.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||Hf(e,n))){if(r.type!==e){if(i=UD(e,n.queue),i===null)return;r=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=r,r.action(e,n),!r.doneFn){n.queuePending[e]=null,t(e,n);return}}}},dx=function(e,n){var i=n[e+"Buffer"],r=lx(e);i&&(i.removeEventListener("updateend",n["on"+r+"UpdateEnd_"]),i.removeEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},wr=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},jt={appendBuffer:function(e,n,i){return function(r,a){var s=a[r+"Buffer"];if(wr(a.mediaSource,s)){a.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===ux?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+r+"Buffer")),a.queuePending[r]=null,i(o)}}}},remove:function(e,n){return function(i,r){var a=r[i+"Buffer"];if(wr(r.mediaSource,a)){r.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{a.remove(e,n)}catch{r.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var r=i[n+"Buffer"];wr(i.mediaSource,r)&&(i.logger_("Setting "+n+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){N.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){N.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(wr(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(r){N.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,n){return function(i){var r=lx(e),a=zs(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+r+"UpdateEnd_"]),s.addEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(dx(e,n),!!wr(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(r){N.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(n,i){var r=i[n+"Buffer"],a=zs(e);wr(i.mediaSource,r)&&i.codecs[n]!==e&&(i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e),r.changeType(a),i.codecs[n]=e)}}},Vt=function(e){var n=e.type,i=e.sourceUpdater,r=e.action,a=e.doneFn,s=e.name;i.queue.push({type:n,action:r,doneFn:a,name:s}),zp(n,i)},a0=function(e,n){return function(i){if(n.queuePending[e]){var r=n.queuePending[e].doneFn;n.queuePending[e]=null,r&&r(n[e+"Error_"])}zp(e,n)}},cx=function(t){X(e,t);function e(i){var r;return r=t.call(this)||this,r.mediaSource=i,r.sourceopenListener_=function(){return zp("mediaSource",se(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=Sr("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=a0("video",se(r)),r.onAudioUpdateEnd_=a0("audio",se(r)),r.onVideoError_=function(a){r.videoError_=a},r.onAudioError_=function(a){r.audioError_=a},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(r,a){Vt({type:"mediaSource",sourceUpdater:this,action:jt.addSourceBuffer(r,a),name:"addSourceBuffer"})},n.abort=function(r){Vt({type:r,sourceUpdater:this,action:jt.abort(r),name:"abort"})},n.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){N.log.error("removeSourceBuffer is not supported!");return}Vt({type:"mediaSource",sourceUpdater:this,action:jt.removeSourceBuffer(r),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!N.browser.IE_VERSION&&!N.browser.IS_FIREFOX&&I.MediaSource&&I.MediaSource.prototype&&typeof I.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return I.SourceBuffer&&I.SourceBuffer.prototype&&typeof I.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(r,a){if(!this.canChangeType()){N.log.error("changeType is not supported!");return}Vt({type:r,sourceUpdater:this,action:jt.changeType(a),name:"changeType"})},n.addOrChangeSourceBuffers=function(r){var a=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(s){var o=r[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},n.appendBuffer=function(r,a){var s=this,o=r.segmentInfo,u=r.type,l=r.bytes;if(this.processedAppend_=!0,u==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,a]),this.logger_("delayed audio append of "+l.length+" until video append");return}var d=a;if(Vt({type:u,sourceUpdater:this,action:jt.appendBuffer(l,o||{mediaIndex:-1},d),doneFn:a,name:"appendBuffer"}),u==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var h=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+h.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,h.forEach(function(f){s.appendBuffer.apply(s,f)})}},n.audioBuffered=function(){return wr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:N.createTimeRange()},n.videoBuffered=function(){return wr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:N.createTimeRange()},n.buffered=function(){var r=wr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=wr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!r?this.audioBuffered():r&&!a?this.videoBuffered():rA(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(r,a){a===void 0&&(a=Wr),Vt({type:"mediaSource",sourceUpdater:this,action:jt.duration(r),name:"duration",doneFn:a})},n.endOfStream=function(r,a){r===void 0&&(r=null),a===void 0&&(a=Wr),typeof r!="string"&&(r=void 0),Vt({type:"mediaSource",sourceUpdater:this,action:jt.endOfStream(r),name:"endOfStream",doneFn:a})},n.removeAudio=function(r,a,s){if(s===void 0&&(s=Wr),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}Vt({type:"audio",sourceUpdater:this,action:jt.remove(r,a),doneFn:s,name:"remove"})},n.removeVideo=function(r,a,s){if(s===void 0&&(s=Wr),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}Vt({type:"video",sourceUpdater:this,action:jt.remove(r,a),doneFn:s,name:"remove"})},n.updating=function(){return!!(Hf("audio",this)||Hf("video",this))},n.audioTimestampOffset=function(r){return typeof r<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(Vt({type:"audio",sourceUpdater:this,action:jt.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},n.videoTimestampOffset=function(r){return typeof r<"u"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(Vt({type:"video",sourceUpdater:this,action:jt.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},n.audioQueueCallback=function(r){this.audioBuffer&&Vt({type:"audio",sourceUpdater:this,action:jt.callback(r),name:"callback"})},n.videoQueueCallback=function(r){this.videoBuffer&&Vt({type:"video",sourceUpdater:this,action:jt.callback(r),name:"callback"})},n.dispose=function(){var r=this;this.trigger("dispose"),FD.forEach(function(a){r.abort(a),r.canRemoveSourceBuffer()?r.removeSourceBuffer(a):r[a+"QueueCallback"](function(){return dx(a,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(N.EventTarget),s0=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},o0=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),BD=function(t){X(e,t);function e(){return t.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(bf(Error)),jD=function(t){X(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.loadVttJs=i.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return N.createTimeRanges();var r=this.subtitlesTrack_.cues,a=r[0].startTime,s=r[r.length-1].startTime;return N.createTimeRanges([[a,s]])},n.initSegmentForMap=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=_l(r),o=this.initSegments_[s];if(a&&!o&&r.bytes){var u=o0.byteLength+r.bytes.byteLength,l=new Uint8Array(u);l.set(r.bytes),l.set(o0,r.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:l}}return o||r},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(r){return typeof r>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(r,a){ds(r,a,this.subtitlesTrack_)},n.fillBuffer_=function(){var r=this,a=this.chooseNextRequest_();if(a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},n.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(r,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===Ar.TIMEOUT&&this.handleTimeout_(),r.code===Ar.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var l=u.segment;if(l.map&&(l.map.bytes=a.map.bytes),u.bytes=a.bytes,typeof I.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return o.segmentRequestFinished_(r,a,s)},function(){return o.stopForError({message:"Error loading vtt.js"})});return}l.requested=!0;try{this.parseVTTCues_(u)}catch(d){this.stopForError({message:d.message});return}if(this.updateTimeMapping_(u,this.syncController_.timelines[u.timeline],this.playlist_),u.cues.length?u.timingInfo={start:u.cues[0].startTime,end:u.cues[u.cues.length-1].endTime}:u.timingInfo={start:u.startOfSegment,end:u.startOfSegment+u.duration},u.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}u.byteLength=u.bytes.byteLength,this.mediaSecondsLoaded+=l.duration,u.cues.forEach(function(d){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new I.VTTCue(d.startTime,d.endTime,d.text):d)}),CD(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(r){var a,s=!1;if(typeof I.WebVTT!="function")throw new BD;typeof I.TextDecoder=="function"?a=new I.TextDecoder("utf8"):(a=I.WebVTT.StringDecoder(),s=!0);var o=new I.WebVTT.Parser(I,I.vttjs,a);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=r.cues.push.bind(r.cues),o.ontimestampmap=function(d){r.timestampmap=d},o.onparsingerror=function(d){N.log.warn("Error encountered when parsing cues: "+d.message)},r.segment.map){var u=r.segment.map.bytes;s&&(u=s0(u)),o.parse(u)}var l=r.bytes;s&&(l=s0(l)),o.parse(l),o.flush()},n.updateTimeMapping_=function(r,a,s){var o=r.segment;if(a){if(!r.cues.length){o.empty=!0;return}var u=r.timestampmap,l=u.MPEGTS/ol.ONE_SECOND_IN_TS-u.LOCAL+a.mapping;if(r.cues.forEach(function(f){f.startTime+=l,f.endTime+=l}),!s.syncInfo){var d=r.cues[0].startTime,h=r.cues[r.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+r.mediaIndex,time:Math.min(d,h-o.duration)}}}},e}(Vf),VD=function(e,n){for(var i=e.cues,r=0;r<i.length;r++){var a=i[r];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},HD=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var r=i,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=VD(n,r+o.duration/2)),a){if("cueIn"in o){a.endTime=r,a.adEndTime=r,r+=o.duration,a=null;continue}if(r<a.endTime){r+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new I.VTTCue(r,r+o.duration,o.cueOut),a.adStartTime=r,a.adEndTime=r+parseFloat(o.cueOut),n.addCue(a)),"cueOutCont"in o){var u=o.cueOutCont.split("/").map(parseFloat),l=u[0],d=u[1];a=new I.VTTCue(r,r+o.duration,""),a.adStartTime=r-l,a.adEndTime=a.adStartTime+d,n.addCue(a)}r+=o.duration}},zD=86400,u0=[{name:"VOD",run:function(e,n,i,r,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,n,i,r,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,u=Lf(n);a=a||0;for(var l=0;l<u.length;l++){var d=n.endList||a===0?l:u.length-(l+1),h=u[d],f=h.segment,v=e.timelineToDatetimeMappings[f.timeline];if(!(!v||!f.dateTimeObject)){var T=f.dateTimeObject.getTime()/1e3,b=T+v;if(f.parts&&typeof h.partIndex=="number")for(var E=0;E<h.partIndex;E++)b+=f.parts[E].duration;var x=Math.abs(a-b);if(o!==null&&(x===0||o<x))break;o=x,s={time:b,segmentIndex:h.segmentIndex,partIndex:h.partIndex}}}return s}},{name:"Segment",run:function(e,n,i,r,a){var s=null,o=null;a=a||0;for(var u=Lf(n),l=0;l<u.length;l++){var d=n.endList||a===0?l:u.length-(l+1),h=u[d],f=h.segment,v=h.part&&h.part.start||f&&f.start;if(f.timeline===r&&typeof v<"u"){var T=Math.abs(a-v);if(o!==null&&o<T)break;(!s||o===null||o>=T)&&(o=T,s={time:v,segmentIndex:h.segmentIndex,partIndex:h.partIndex})}}return s}},{name:"Discontinuity",run:function(e,n,i,r,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var o=null,u=0;u<n.discontinuityStarts.length;u++){var l=n.discontinuityStarts[u],d=n.discontinuitySequence+u+1,h=e.discontinuities[d];if(h){var f=Math.abs(a-h.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:h.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(e,n,i,r,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return s}return null}}],WD=function(t){X(e,t);function e(i){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=Sr("SyncController"),r}var n=e.prototype;return n.getSyncPoint=function(r,a,s,o){var u=this.runStrategies_(r,a,s,o);return u.length?this.selectSyncPoint_(u,{key:"time",value:o}):null},n.getExpiredTime=function(r,a){if(!r||!r.segments)return null;var s=this.runStrategies_(r,a,r.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+bs({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:o.segmentIndex,endIndex:0}))},n.runStrategies_=function(r,a,s,o){for(var u=[],l=0;l<u0.length;l++){var d=u0[l],h=d.run(this,r,a,s,o);h&&(h.strategy=d.name,u.push({strategy:d.name,syncPoint:h}))}return u},n.selectSyncPoint_=function(r,a){for(var s=r[0].syncPoint,o=Math.abs(r[0].syncPoint[a.key]-a.value),u=r[0].strategy,l=1;l<r.length;l++){var d=Math.abs(r[l].syncPoint[a.key]-a.value);d<o&&(o=d,s=r[l].syncPoint,u=r[l].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+u+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},n.saveExpiredSegmentInfo=function(r,a){var s=a.mediaSequence-r.mediaSequence;if(s>zD){N.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var u=r.segments[o];if(u&&typeof u.start<"u"){a.syncInfo={mediaSequence:r.mediaSequence+o,time:u.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var a=r.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},n.saveSegmentTimingInfo=function(r){var a=r.segmentInfo,s=r.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),u=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:u.start}));var l=u.dateTimeObject;u.discontinuity&&s&&l&&(this.timelineToDatetimeMappings[u.timeline]=-(l.getTime()/1e3))},n.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].time},n.mappingForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].mapping},n.calculateSegmentTimeMapping_=function(r,a,s){var o=r.segment,u=r.part,l=this.timelines[r.timeline],d,h;if(typeof r.timestampOffset=="number")l={time:r.startOfSegment,mapping:r.startOfSegment-a.start},s&&(this.timelines[r.timeline]=l,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+l.time+"] [mapping: "+l.mapping+"]"))),d=r.startOfSegment,h=a.end+l.mapping;else if(l)d=a.start+l.mapping,h=a.end+l.mapping;else return!1;return u&&(u.start=d,u.end=h),(!o.start||d<o.start)&&(o.start=d),o.end=h,!0},n.saveDiscontinuitySyncInfo_=function(r){var a=r.playlist,s=r.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var u=a.discontinuityStarts[o],l=a.discontinuitySequence+o+1,d=u-r.mediaIndex,h=Math.abs(d);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>h){var f=void 0;d<0?f=s.start-bs({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:r.mediaIndex,endIndex:u}):f=s.end+bs({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:r.mediaIndex+1,endIndex:u}),this.discontinuities[l]={time:f,accuracy:h}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(N.EventTarget),GD=function(t){X(e,t);function e(){var i;return i=t.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(r){var a=r.type,s=r.from,o=r.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},n.lastTimelineChange=function(r){var a=r.type,s=r.from,o=r.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(N.EventTarget),$D=YS(JS(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(A,L,B){return B={path:L,exports:{},require:function(M,j){return n(M,j??B.path)}},A(B,B.exports),B.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(A){function L(F,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}function B(F,M,j){return M&&L(F.prototype,M),j&&L(F,j),F}A.exports=B,A.exports.default=A.exports,A.exports.__esModule=!0}),r=e(function(A){function L(B,F){return A.exports=L=Object.setPrototypeOf||function(j,U){return j.__proto__=U,j},A.exports.default=A.exports,A.exports.__esModule=!0,L(B,F)}A.exports=L,A.exports.default=A.exports,A.exports.__esModule=!0}),a=e(function(A){function L(B,F){B.prototype=Object.create(F.prototype),B.prototype.constructor=B,r(B,F)}A.exports=L,A.exports.default=A.exports,A.exports.__esModule=!0}),s=function(){function A(){this.listeners={}}var L=A.prototype;return L.on=function(F,M){this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push(M)},L.off=function(F,M){if(!this.listeners[F])return!1;var j=this.listeners[F].indexOf(M);return this.listeners[F]=this.listeners[F].slice(0),this.listeners[F].splice(j,1),j>-1},L.trigger=function(F){var M=this.listeners[F];if(M)if(arguments.length===2)for(var j=M.length,U=0;U<j;++U)M[U].call(this,arguments[1]);else for(var K=Array.prototype.slice.call(arguments,1),q=M.length,re=0;re<q;++re)M[re].apply(this,K)},L.dispose=function(){this.listeners={}},L.pipe=function(F){this.on("data",function(M){F.push(M)})},A}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(A){return A.subarray(0,A.byteLength-A[A.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var u=function(){var L=[[[],[],[],[],[]],[[],[],[],[],[]]],B=L[0],F=L[1],M=B[4],j=F[4],U,K,q,re=[],fe=[],ge,ae,le,G,te,Z;for(U=0;U<256;U++)fe[(re[U]=U<<1^(U>>7)*283)^U]=U;for(K=q=0;!M[K];K^=ge||1,q=fe[q]||1)for(G=q^q<<1^q<<2^q<<3^q<<4,G=G>>8^G&255^99,M[K]=G,j[G]=K,le=re[ae=re[ge=re[K]]],Z=le*16843009^ae*65537^ge*257^K*16843008,te=re[G]*257^G*16843008,U=0;U<4;U++)B[U][K]=te=te<<24^te>>>8,F[U][G]=Z=Z<<24^Z>>>8;for(U=0;U<5;U++)B[U]=B[U].slice(0),F[U]=F[U].slice(0);return L},l=null,d=function(){function A(B){l||(l=u()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var F,M,j,U=this._tables[0][4],K=this._tables[1],q=B.length,re=1;if(q!==4&&q!==6&&q!==8)throw new Error("Invalid aes key size");var fe=B.slice(0),ge=[];for(this._key=[fe,ge],F=q;F<4*q+28;F++)j=fe[F-1],(F%q===0||q===8&&F%q===4)&&(j=U[j>>>24]<<24^U[j>>16&255]<<16^U[j>>8&255]<<8^U[j&255],F%q===0&&(j=j<<8^j>>>24^re<<24,re=re<<1^(re>>7)*283)),fe[F]=fe[F-q]^j;for(M=0;F;M++,F--)j=fe[M&3?F:F-4],F<=4||M<4?ge[M]=j:ge[M]=K[0][U[j>>>24]]^K[1][U[j>>16&255]]^K[2][U[j>>8&255]]^K[3][U[j&255]]}var L=A.prototype;return L.decrypt=function(F,M,j,U,K,q){var re=this._key[1],fe=F^re[0],ge=U^re[1],ae=j^re[2],le=M^re[3],G,te,Z,xe=re.length/4-2,pe,Pt=4,ot=this._tables[1],sr=ot[0],Ke=ot[1],or=ot[2],gi=ot[3],vi=ot[4];for(pe=0;pe<xe;pe++)G=sr[fe>>>24]^Ke[ge>>16&255]^or[ae>>8&255]^gi[le&255]^re[Pt],te=sr[ge>>>24]^Ke[ae>>16&255]^or[le>>8&255]^gi[fe&255]^re[Pt+1],Z=sr[ae>>>24]^Ke[le>>16&255]^or[fe>>8&255]^gi[ge&255]^re[Pt+2],le=sr[le>>>24]^Ke[fe>>16&255]^or[ge>>8&255]^gi[ae&255]^re[Pt+3],Pt+=4,fe=G,ge=te,ae=Z;for(pe=0;pe<4;pe++)K[(3&-pe)+q]=vi[fe>>>24]<<24^vi[ge>>16&255]<<16^vi[ae>>8&255]<<8^vi[le&255]^re[Pt++],G=fe,fe=ge,ge=ae,ae=le,le=G},A}(),h=function(A){a(L,A);function L(){var F;return F=A.call(this,s)||this,F.jobs=[],F.delay=1,F.timeout_=null,F}var B=L.prototype;return B.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},B.push=function(M){this.jobs.push(M),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},L}(s),f=function(L){return L<<24|(L&65280)<<8|(L&16711680)>>8|L>>>24},v=function(L,B,F){var M=new Int32Array(L.buffer,L.byteOffset,L.byteLength>>2),j=new d(Array.prototype.slice.call(B)),U=new Uint8Array(L.byteLength),K=new Int32Array(U.buffer),q,re,fe,ge,ae,le,G,te,Z;for(q=F[0],re=F[1],fe=F[2],ge=F[3],Z=0;Z<M.length;Z+=4)ae=f(M[Z]),le=f(M[Z+1]),G=f(M[Z+2]),te=f(M[Z+3]),j.decrypt(ae,le,G,te,K,Z),K[Z]=f(K[Z]^q),K[Z+1]=f(K[Z+1]^re),K[Z+2]=f(K[Z+2]^fe),K[Z+3]=f(K[Z+3]^ge),q=ae,re=le,fe=G,ge=te;return U},T=function(){function A(B,F,M,j){var U=A.STEP,K=new Int32Array(B.buffer),q=new Uint8Array(B.byteLength),re=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(K.subarray(re,re+U),F,M,q)),re=U;re<K.length;re+=U)M=new Uint32Array([f(K[re-4]),f(K[re-3]),f(K[re-2]),f(K[re-1])]),this.asyncStream_.push(this.decryptChunk_(K.subarray(re,re+U),F,M,q));this.asyncStream_.push(function(){j(null,o(q))})}var L=A.prototype;return L.decryptChunk_=function(F,M,j,U){return function(){var K=v(F,M,j);U.set(K,F.byteOffset)}},i(A,null,[{key:"STEP",get:function(){return 32e3}}]),A}(),b;typeof window<"u"?b=window:typeof t<"u"?b=t:typeof self<"u"?b=self:b={};var E=b,x=function(L){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(L):L&&L.buffer instanceof ArrayBuffer},C=E.BigInt||Number;C("0x1"),C("0x100"),C("0x10000"),C("0x1000000"),C("0x100000000"),C("0x10000000000"),C("0x1000000000000"),C("0x100000000000000"),C("0x10000000000000000");var P=function(L){var B={};return Object.keys(L).forEach(function(F){var M=L[F];x(M)?B[F]={bytes:M.buffer,byteOffset:M.byteOffset,byteLength:M.byteLength}:B[F]=M}),B};self.onmessage=function(A){var L=A.data,B=new Uint8Array(L.encrypted.bytes,L.encrypted.byteOffset,L.encrypted.byteLength),F=new Uint32Array(L.key.bytes,L.key.byteOffset,L.key.byteLength/4),M=new Uint32Array(L.iv.bytes,L.iv.byteOffset,L.iv.byteLength/4);new T(B,F,M,function(j,U){self.postMessage(P({source:L.source,decrypted:U}),[U.buffer])})}})),qD=QS($D),KD=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},bl=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},zf=function(e,n){n.activePlaylistLoader=e,e.load()},XD=function(e,n){return function(){var i=n.segmentLoaders,r=i[e],a=i.main,s=n.mediaTypes[e],o=s.activeTrack(),u=s.getActiveGroup(),l=s.activePlaylistLoader,d=s.lastGroup_;if(!(u&&d&&u.id===d.id)&&(s.lastGroup_=u,s.lastTrack_=o,bl(r,s),!(!u||u.isMasterPlaylist))){if(!u.playlistLoader){l&&a.resetEverything();return}r.resyncLoader(),zf(u.playlistLoader,s)}}},QD=function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];r.lastGroup_=null,i.abort(),i.pause()}},YD=function(e,n){return function(){var i=n.masterPlaylistLoader,r=n.segmentLoaders,a=r[e],s=r.main,o=n.mediaTypes[e],u=o.activeTrack(),l=o.getActiveGroup(),d=o.activePlaylistLoader,h=o.lastTrack_;if(!(h&&u&&h.id===u.id)&&(o.lastGroup_=l,o.lastTrack_=u,bl(a,o),!!l)){if(l.isMasterPlaylist){if(!u||!h||u.id===h.id)return;var f=n.vhs.masterPlaylistController_,v=f.selectPlaylist();if(f.media()===v)return;o.logger_("track change. Switching master audio from "+h.id+" to "+u.id),i.pause(),s.resetEverything(),f.fastQualityChange_(v);return}if(e==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(d===l.playlistLoader){zf(l.playlistLoader,o);return}a.track&&a.track(u),a.resetEverything(),zf(l.playlistLoader,o)}}},El={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e],a=n.blacklistCurrentPlaylist;bl(i,r);var s=r.activeTrack(),o=r.activeGroup(),u=(o.filter(function(h){return h.default})[0]||o[0]).id,l=r.tracks[u];if(s===l){a({message:"Problem encountered loading the default audio track."});return}N.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in r.tracks)r.tracks[d].enabled=r.tracks[d]===l;r.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];N.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),bl(i,r);var a=r.activeTrack();a&&(a.mode="disabled"),r.onTrackChanged()}}},l0={AUDIO:function(e,n,i){if(n){var r=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];n.on("loadedmetadata",function(){var o=n.media();s.playlist(o,a),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),r.paused()||s.load()}),n.on("error",El[e](e,i))}},SUBTITLES:function(e,n,i){var r=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];n.on("loadedmetadata",function(){var u=n.media();s.playlist(u,a),s.track(o.activeTrack()),(!r.paused()||u.endList&&r.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),r.paused()||s.load()}),n.on("error",El[e](e,i))}},JD={AUDIO:function(e,n){var i=n.vhs,r=n.sourceType,a=n.segmentLoaders[e],s=n.requestOptions,o=n.master.mediaGroups,u=n.mediaTypes[e],l=u.groups,d=u.tracks,h=u.logger_,f=n.masterPlaylistLoader,v=mo(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},v&&(o[e].main.default.playlists=f.master.playlists));for(var T in o[e]){l[T]||(l[T]=[]);for(var b in o[e][T]){var E=o[e][T][b],x=void 0;if(v?(h("AUDIO group '"+T+"' label '"+b+"' is a master playlist"),E.isMasterPlaylist=!0,x=null):r==="vhs-json"&&E.playlists?x=new Gi(E.playlists[0],i,s):E.resolvedUri?x=new Gi(E.resolvedUri,i,s):E.playlists&&r==="dash"?x=new Bf(E.playlists[0],i,s,f):x=null,E=N.mergeOptions({id:b,playlistLoader:x},E),l0[e](e,E.playlistLoader,n),l[T].push(E),typeof d[b]>"u"){var C=new N.AudioTrack({id:b,kind:KD(E),enabled:!1,language:E.language,default:E.default,label:b});d[b]=C}}}a.on("error",El[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,r=n.vhs,a=n.sourceType,s=n.segmentLoaders[e],o=n.requestOptions,u=n.master.mediaGroups,l=n.mediaTypes[e],d=l.groups,h=l.tracks,f=n.masterPlaylistLoader;for(var v in u[e]){d[v]||(d[v]=[]);for(var T in u[e][v])if(!u[e][v][T].forced){var b=u[e][v][T],E=void 0;if(a==="hls")E=new Gi(b.resolvedUri,r,o);else if(a==="dash"){var x=b.playlists.filter(function(P){return P.excludeUntil!==1/0});if(!x.length)return;E=new Bf(b.playlists[0],r,o,f)}else a==="vhs-json"&&(E=new Gi(b.playlists?b.playlists[0]:b.resolvedUri,r,o));if(b=N.mergeOptions({id:T,playlistLoader:E},b),l0[e](e,b.playlistLoader,n),d[v].push(b),typeof h[T]>"u"){var C=i.addRemoteTextTrack({id:T,kind:"subtitles",default:b.default&&b.autoselect,language:b.language,label:T},!1).track;h[T]=C}}}s.on("error",El[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,r=n.master.mediaGroups,a=n.mediaTypes[e],s=a.groups,o=a.tracks;for(var u in r[e]){s[u]||(s[u]=[]);for(var l in r[e][u]){var d=r[e][u][l];if(/^(?:CC|SERVICE)/.test(d.instreamId)){var h=i.options_.vhs&&i.options_.vhs.captionServices||{},f={label:l,language:d.language,instreamId:d.instreamId,default:d.default&&d.autoselect};if(h[f.instreamId]&&(f=N.mergeOptions(f,h[f.instreamId])),f.default===void 0&&delete f.default,s[u].push(N.mergeOptions({id:l},d)),typeof o[l]>"u"){var v=i.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[l]=v}}}}}},ZD=function t(e,n){for(var i=0;i<e.length;i++)if(Bp(n,e[i])||e[i].playlists&&t(e[i].playlists,n))return!0;return!1},eO=function(e,n){return function(i){var r=n.masterPlaylistLoader,a=n.mediaTypes[e].groups,s=r.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var u=Object.keys(a);if(!o)if(e==="AUDIO"&&u.length>1&&mo(n.master))for(var l=0;l<u.length;l++){var d=a[u[l]];if(ZD(d,s)){o=d;break}}else a.main?o=a.main:u.length===1&&(o=a[u[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(function(h){return h.id===i.id})[0]||null}},tO={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].mode==="showing"||i[r].mode==="hidden")return i[r];return null}}},rO=function(e,n){var i=n.mediaTypes;return function(){var r=i[e].activeTrack();return r?i[e].activeGroup(r):null}},nO=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(T){JD[T](T,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,u=s.main;["AUDIO","SUBTITLES"].forEach(function(T){n[T].activeGroup=eO(T,e),n[T].activeTrack=tO[T](T,e),n[T].onGroupChanged=XD(T,e),n[T].onGroupChanging=QD(T,e),n[T].onTrackChanged=YD(T,e),n[T].getActiveGroup=rO(T,e)});var l=n.AUDIO.activeGroup();if(l){var d=(l.filter(function(T){return T.default})[0]||l[0]).id;n.AUDIO.tracks[d].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var h=n.AUDIO.getActiveGroup();h.playlistLoader?(u.setAudio(!1),o.setAudio(!0)):u.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(T){return n[T].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(T){return n[T].onGroupChanging()})});var f=function(){n.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",f),r.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){r.audioTracks().removeEventListener("change",f),r.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var v in n.AUDIO.tracks)r.audioTracks().addTrack(n.AUDIO.tracks[v])},iO=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Wr,activeTrack:Wr,getActiveGroup:Wr,onGroupChanged:Wr,onTrackChanged:Wr,lastTrack_:null,logger_:Sr("MediaGroups["+n+"]")}}),e},aO=60*2,Br,sO=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],oO=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},uO=function(e){var n=e.currentPlaylist,i=e.buffered,r=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,u=e.duration,l=e.experimentalBufferBasedABR,d=e.log;if(!a)return N.log.warn("We received no playlist to switch to. Please check your stream."),!1;var h="allowing switch "+(n&&n.id||"null")+" -> "+a.id;if(!n)return d(h+" as current playlist is not set"),!0;if(a.id===n.id)return!1;var f=!!Wi(i,r).length;if(!n.endList)return!f&&typeof n.partTargetDuration=="number"?(d("not "+h+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(d(h+" as current playlist is live"),!0);var v=Mp(i,r),T=l?Qe.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Qe.MAX_BUFFER_LOW_WATER_LINE;if(u<T)return d(h+" as duration < max low water line ("+u+" < "+T+")"),!0;var b=a.attributes.BANDWIDTH,E=n.attributes.BANDWIDTH;if(b<E&&(!l||v<o)){var x=h+" as next bandwidth < current bandwidth ("+b+" < "+E+")";return l&&(x+=" and forwardBuffer < bufferHighWaterLine ("+v+" < "+o+")"),d(x),!0}if((!l||b>E)&&v>=s){var C=h+" as forwardBuffer >= bufferLowWaterLine ("+v+" >= "+s+")";return l&&(C+=" and next bandwidth > current bandwidth ("+b+" > "+E+")"),d(C),!0}return d("not "+h+" as no switching criteria met"),!1},lO=function(t){X(e,t);function e(i){var r;r=t.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,u=i.tech,l=i.bandwidth,d=i.externVhs,h=i.useCueTags,f=i.blacklistDuration,v=i.enableLowInitialPlaylist,T=i.sourceType,b=i.cacheEncryptionKeys,E=i.experimentalBufferBasedABR,x=i.experimentalLeastPixelDiffSelector,C=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var P=i.maxPlaylistRetries;(P===null||typeof P>"u")&&(P=1/0),Br=d,r.experimentalBufferBasedABR=!!E,r.experimentalLeastPixelDiffSelector=!!x,r.withCredentials=o,r.tech_=u,r.vhs_=u.vhs,r.sourceType_=T,r.useCueTags_=h,r.blacklistDuration=f,r.maxPlaylistRetries=P,r.enableLowInitialPlaylist=v,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:P,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=iO(),r.mediaSource=new I.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(se(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(se(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(se(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=N.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new WD(i),r.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new qD,r.sourceUpdater_=new cx(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new GD;var A={vhs:r.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:C,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:l,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:b,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new Bf(a,r.vhs_,r.requestOptions_):new Gi(a,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new Vf(N.mergeOptions(A,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),i),r.audioSegmentLoader_=new Vf(N.mergeOptions(A,{loaderType:"audio"}),i),r.subtitleSegmentLoader_=new jD(N.mergeOptions(A,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(F,M){function j(){u.off("vttjserror",U),F()}function U(){u.off("vttjsloaded",j),M()}u.one("vttjsloaded",j),u.one("vttjserror",U),u.addWebVttScript_()})}}),i),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),sO.forEach(function(B){r[B+"_"]=oO.bind(se(r),B)}),r.logger_=Sr("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var L=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(L,function(){var B=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-B,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return r===-1||a===-1?-1:r+a},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(r){r===void 0&&(r="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,r)},n.switchMedia_=function(r,a,s){var o=this.media(),u=o&&(o.id||o.uri),l=r.id||r.uri;u&&u!==l&&(this.logger_("switch media "+u+" -> "+l+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(r,s)},n.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=I.setInterval(function(){return r.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(I.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var r=this.master(),a=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return a;var s=r.mediaGroups.AUDIO,o=Object.keys(s),u;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)u=this.mediaTypes_.AUDIO.activeTrack();else{var l=s.main||o.length&&s[o[0]];for(var d in l)if(l[d].default){u={label:d};break}}if(!u)return a;var h=[];for(var f in s)if(s[f][u.label]){var v=s[f][u.label];if(v.playlists&&v.playlists.length)h.push.apply(h,v.playlists);else if(v.uri)h.push(v);else if(r.playlists.length)for(var T=0;T<r.playlists.length;T++){var b=r.playlists[T];b.attributes&&b.attributes.AUDIO&&b.attributes.AUDIO===f&&h.push(b)}}return h.length?h:a},n.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=r.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;Rf(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=s,a.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(a,r.requestOptions_),r.mainSegmentLoader_.load()),nO({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),a),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var a=r.masterPlaylistLoader_.media();if(!a){r.excludeUnsupportedVariants_();var s;if(r.enableLowInitialPlaylist&&(s=r.selectInitialPlaylist()),s||(s=r.selectPlaylist()),!s||!r.shouldSwitchToMedia_(s))return;r.initialMedia_=s,r.switchMedia_(r.initialMedia_,"initial");var o=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!o)return;a=r.initialMedia_}r.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=r.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;Rf(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=s,r.masterPlaylistLoader_.load(),r.mainSegmentLoader_.playlist(a,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=r.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=r.stuckAtPlaylistEnd_(a);s&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(r,a){var s=r.mediaGroups||{},o=!0,u=Object.keys(s.AUDIO);for(var l in s.AUDIO)for(var d in s.AUDIO[l]){var h=s.AUDIO[l][d];h.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Br.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),u.length&&Object.keys(s.AUDIO[u[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(r){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),u=this.bufferHighWaterLine(),l=this.tech_.buffered();return uO({buffered:l,currentTime:s,currentPlaylist:a,nextPlaylist:r,bufferLowWaterLine:o,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var r=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){r.checkABR_("bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){r.experimentalBufferBasedABR&&r.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},aO))});var a=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var o=r.getCodecsOrExclude_();o&&r.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},n.fastQualityChange_=function(r){var a=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){N.browser.IE_VERSION||N.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},n.setupFirstPlay=function(){var r=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(N.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(s.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r<"u"&&typeof r.then=="function"&&r.then(null,function(a){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var a=this.duration();r[r.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}r&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(r){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(r,this.duration());if(s===null)return!1;var o=Br.Playlist.playlistEnd(r,s),u=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return o-u<=Ir;var d=l.end(l.length-1);return d-u<=Ir&&o-d<=Ir},n.blacklistCurrentPlaylist=function(r,a){r===void 0&&(r={});var s=r.playlist||this.masterPlaylistLoader_.media();if(a=a||r.blacklistDuration||this.blacklistDuration,!s){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,u=o.filter(sd),l=u.length===1&&u[0]===s;if(o.length===1&&a!==1/0)return N.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(l);if(l){var d=!1;o.forEach(function(x){if(x!==s){var C=x.excludeUntil;typeof C<"u"&&C!==1/0&&(d=!0,delete x.excludeUntil)}}),d&&(N.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var h;s.playlistErrors_>this.maxPlaylistRetries?h=1/0:h=Date.now()+a*1e3,s.excludeUntil=h,r.reason&&(s.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var v=r.internal?this.logger_:N.log.warn,T=r.message?" "+r.message:"";v((r.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(T+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var b=f.targetDuration/2*1e3||5*1e3,E=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=b;return this.switchMedia_(f,"exclude",l||E)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(r,a){var s=this,o=[],u=r==="all";(u||r==="main")&&o.push(this.masterPlaylistLoader_);var l=[];(u||r==="audio")&&l.push("AUDIO"),(u||r==="subtitle")&&(l.push("CLOSED-CAPTIONS"),l.push("SUBTITLES")),l.forEach(function(d){var h=s.mediaTypes_[d]&&s.mediaTypes_[d].activePlaylistLoader;h&&o.push(h)}),["main","audio","subtitle"].forEach(function(d){var h=s[d+"SegmentLoader_"];h&&(r===d||r==="all")&&o.push(h)}),o.forEach(function(d){return a.forEach(function(h){typeof d[h]=="function"&&d[h]()})})},n.setCurrentTime=function(r){var a=Wi(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:Br.Playlist.duration(r):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var r;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,u=Br.Playlist.seekable(a,s,Br.Playlist.liveEdgeDelay(o,a));if(u.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(r=Br.Playlist.seekable(a,s,Br.Playlist.liveEdgeDelay(o,a)),r.length===0)))){var l,d;this.seekable_&&this.seekable_.length&&(l=this.seekable_.end(0),d=this.seekable_.start(0)),r?r.start(0)>u.end(0)||u.start(0)>r.end(0)?this.seekable_=u:this.seekable_=N.createTimeRanges([[r.start(0)>u.start(0)?r.start(0):u.start(0),r.end(0)<u.end(0)?r.end(0):u.end(0)]]):this.seekable_=u,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===l&&this.seekable_.start(0)===d)&&(this.logger_("seekable updated ["+PS(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=Br.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},n.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=r.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(u){u.playlistLoader&&u.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},n.getCodecsOrExclude_=function(){var r=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var o=Es(this.master(),s),u={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(u.video=o.video||a.main.videoCodec||Ow),a.main.isMuxed&&(u.video+=","+(o.audio||a.main.audioCodec||$g)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||l)&&(u.audio=o.audio||a.main.audioCodec||a.audio.audioCodec||$g,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!u.audio&&!u.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var d=function(x,C){return x?bu(C):Zd(C)},h={},f;if(["video","audio"].forEach(function(E){if(u.hasOwnProperty(E)&&!d(a[E].isFmp4,u[E])){var x=a[E].isFmp4?"browser":"muxer";h[x]=h[x]||[],h[x].push(u[E]),E==="audio"&&(f=x)}}),l&&f&&s.attributes.AUDIO){var v=s.attributes.AUDIO;this.master().playlists.forEach(function(E){var x=E.attributes&&E.attributes.AUDIO;x===v&&E!==s&&(E.excludeUntil=1/0)}),this.logger_("excluding audio group "+v+" as "+f+' does not support codec(s): "'+u.audio+'"')}if(Object.keys(h).length){var T=Object.keys(h).reduce(function(E,x){return E&&(E+=", "),E+=x+' does not support codec(s): "'+h[x].join(",")+'"',E},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:T,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var b=[];if(["video","audio"].forEach(function(E){var x=(Cr(r.sourceUpdater_.codecs[E]||"")[0]||{}).type,C=(Cr(u[E]||"")[0]||{}).type;x&&C&&x.toLowerCase()!==C.toLowerCase()&&b.push('"'+r.sourceUpdater_.codecs[E]+'" -> "'+u[E]+'"')}),b.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+b.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return u},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(r){this.sourceUpdater_.createSourceBuffers(r);var a=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},n.excludeUnsupportedVariants_=function(){var r=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var u=a[o];if(s.indexOf(u.id)===-1){s.push(u.id);var l=Es(r.master,u),d=[];l.audio&&!Zd(l.audio)&&!bu(l.audio)&&d.push("audio codec "+l.audio),l.video&&!Zd(l.video)&&!bu(l.video)&&d.push("video codec "+l.video),l.text&&l.text==="stpp.ttml.im1t"&&d.push("text codec "+l.text),d.length&&(u.excludeUntil=1/0,r.logger_("excluding "+u.id+" for unsupported: "+d.join(", ")))}})},n.excludeIncompatibleVariants_=function(r){var a=this,s=[],o=this.master().playlists,u=Sl(Cr(r)),l=Jv(u),d=u.video&&Cr(u.video)[0]||null,h=u.audio&&Cr(u.audio)[0]||null;Object.keys(o).forEach(function(f){var v=o[f];if(!(s.indexOf(v.id)!==-1||v.excludeUntil===1/0)){s.push(v.id);var T=[],b=Es(a.masterPlaylistLoader_.master,v),E=Jv(b);if(!(!b.audio&&!b.video)){if(E!==l&&T.push('codec count "'+E+'" !== "'+l+'"'),!a.sourceUpdater_.canChangeType()){var x=b.video&&Cr(b.video)[0]||null,C=b.audio&&Cr(b.audio)[0]||null;x&&d&&x.type.toLowerCase()!==d.type.toLowerCase()&&T.push('video codec "'+x.type+'" !== "'+d.type+'"'),C&&h&&C.type.toLowerCase()!==h.type.toLowerCase()&&T.push('audio codec "'+C.type+'" !== "'+h.type+'"')}T.length&&(v.excludeUntil=1/0,a.logger_("blacklisting "+v.id+": "+T.join(" && ")))}}})},n.updateAdCues_=function(r){var a=0,s=this.seekable();s.length&&(a=s.start(0)),HD(r,this.cueTagsTrack_,a)},n.goalBufferLength=function(){var r=this.tech_.currentTime(),a=Qe.GOAL_BUFFER_LENGTH,s=Qe.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,Qe.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+r*s,o)},n.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),a=Qe.BUFFER_LOW_WATER_LINE,s=Qe.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,Qe.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(a,Qe.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+r*s,this.experimentalBufferBasedABR?u:o)},n.bufferHighWaterLine=function(){return Qe.BUFFER_HIGH_WATER_LINE},e}(N.EventTarget),dO=function(e,n,i){return function(r){var a=e.master.playlists[n],s=Up(a),o=sd(a);return typeof r>"u"?o:(r?delete a.disabled:a.disabled=!0,r!==o&&!s&&(i(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},cO=function(e,n,i){var r=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=r[s+"QualityChange_"].bind(r);if(n.attributes){var u=n.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Es(r.master(),n),this.playlist=n,this.id=i,this.enabled=dO(e.playlists,n.id,o)},fO=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=mo(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(r){return!Up(r)}).map(function(r,a){return new cO(e,r,r.id)}):[]}},d0=["seeking","seeked","pause","playing","error"],hO=function(){function t(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Sr("PlaybackWatcher"),this.logger_("initialize");var r=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},u=this.masterPlaylistController_,l=["main","subtitle","audio"],d={};l.forEach(function(f){d[f]={reset:function(){return i.resetSegmentDownloads_(f)},updateend:function(){return i.checkSegmentDownloads_(f)}},u[f+"SegmentLoader_"].on("appendsdone",d[f].updateend),u[f+"SegmentLoader_"].on("playlistupdate",d[f].reset),i.tech_.on(["seeked","seeking"],d[f].reset)});var h=function(v){["main","audio"].forEach(function(T){u[T+"SegmentLoader_"][v]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),h("off"))},this.clearSeekingAppendCheck_=function(){return h("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),h("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(d0,o),this.tech_.on("canplay",a),this.tech_.one("play",r),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(d0,o),i.tech_.off("canplay",a),i.tech_.off("play",r),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),l.forEach(function(f){u[f+"SegmentLoader_"].off("appendsdone",d[f].updateend),u[f+"SegmentLoader_"].off("playlistupdate",d[f].reset),i.tech_.off(["seeked","seeking"],d[f].reset)}),i.checkCurrentTimeTimeout_&&I.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&I.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=I.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var r=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(i){var r=this.masterPlaylistController_,a=r[i+"SegmentLoader_"],s=a.buffered_(),o=iA(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Zn(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===i&&(!r.length||i+Ir>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var r=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(r,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var u=r.end(r.length-1);o=u}if(this.beforeSeekableWindow_(r,a)){var l=r.start(0);o=l+(l===r.end(0)?0:Ir)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+PS(r)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var d=this.masterPlaylistController_.sourceUpdater_,h=this.tech_.buffered(),f=d.audioBuffer?d.audioBuffered():null,v=d.videoBuffer?d.videoBuffered():null,T=this.media(),b=T.partTargetDuration?T.partTargetDuration:(T.targetDuration-Rn)*2,E=[f,v],x=0;x<E.length;x++)if(E[x]){var C=Mp(E[x],a);if(C<b)return!1}var P=uu(h,a);return P.length===0?!1:(o=P.start(0)+Ir,this.logger_("Buffered region starts ("+P.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),r=this.tech_.buffered(),a=Wi(r,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,r)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),u=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:r});if(u)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var l=uu(o,r);if(l.length>0){var d=l.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+d+", seeking "+("to "+l.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),d*1e3,r),!0}return!1},e.afterSeekableWindow_=function(i,r,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+Ir,u=!a.endList;return u&&s&&(o=i.end(i.length-1)+a.targetDuration*3),r>o},e.beforeSeekableWindow_=function(i,r){return!!(i.length&&i.start(0)>0&&r<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var r=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(r){var o;if(r.length&&a.length){var u=Wi(r,s-3),l=Wi(r,s),d=Wi(a,s);d.length&&!l.length&&u.length&&(o={start:u.end(0),end:d.end(0)})}else{var h=uu(r,s);h.length||(o=this.gapFromVideoUnderflow_(r,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var r=this.tech_.buffered(),a=this.tech_.currentTime(),s=uu(r,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Rn),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,r){for(var a=tA(i),s=0;s<a.length;s++){var o=a.start(s),u=a.end(s);if(r-o<4&&r-o>2)return{start:o,end:u}}return null},t}(),pO={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},mO=function t(e,n){var i=0,r=0,a=N.mergeOptions(pO,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){r&&e.currentTime(r)},o=function(f){f!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){N.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,o)},l=function h(){e.off("loadedmetadata",s),e.off("error",u),e.off("dispose",h)},d=function(f){l(),t(e,f)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=d},gO=function(e){mO(this,e)},fx="2.16.2",vO="6.0.1",yO="0.22.1",_O="4.8.0",TO="3.1.3",it={PlaylistLoader:Gi,Playlist:Ot,utils:IA,STANDARD_PLAYLIST_SELECTOR:e0,INITIAL_PLAYLIST_SELECTOR:yD,lastBandwidthSelector:e0,movingAverageBandwidthSelector:gD,comparePlaylistBandwidth:Hp,comparePlaylistResolution:mD,xhr:zS()};Object.keys(Qe).forEach(function(t){Object.defineProperty(it,t,{get:function(){return N.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Qe[t]},set:function(n){if(N.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){N.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Qe[t]=n}})});var hx="videojs-vhs",px=function(e,n){for(var i=n.media(),r=-1,a=0;a<e.length;a++)if(e[a].id===i.id){r=a;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},SO=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),px(e,n.playlists)};it.canPlaySource=function(){return N.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var xO=function(e,n,i){if(!e)return e;var r={};n&&n.attributes&&n.attributes.CODECS&&(r=Sl(Cr(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(r.audio=i.attributes.CODECS);var a=zs(r.video),s=zs(r.audio),o={};for(var u in e)o[u]={},s&&(o[u].audioContentType=s),a&&(o[u].videoContentType=a),n.contentProtection&&n.contentProtection[u]&&n.contentProtection[u].pssh&&(o[u].pssh=n.contentProtection[u].pssh),typeof e[u]=="string"&&(o[u].url=e[u]);return N.mergeOptions(e,o)},bO=function(e,n){return e.reduce(function(i,r){if(!r.contentProtection)return i;var a=n.reduce(function(s,o){var u=r.contentProtection[o];return u&&u.pssh&&(s[o]={pssh:u.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},EO=function(e){var n=e.player,i=e.sourceKeySystems,r=e.audioMedia,a=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var s=r?a.concat([r]):a,o=bO(s,Object.keys(i)),u=[],l=[];return o.forEach(function(d){l.push(new Promise(function(h,f){n.tech_.one("keysessioncreated",h)})),u.push(new Promise(function(h,f){n.eme.initializeMediaKeys({keySystems:d},function(v){if(v){f(v);return}h()})}))}),Promise.race([Promise.all(u),Promise.race(l)])},CO=function(e){var n=e.player,i=e.sourceKeySystems,r=e.media,a=e.audioMedia,s=xO(i,r,a);return s?(n.currentSource().keySystems=s,s&&!n.eme?(N.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},mx=function(){if(!I.localStorage)return null;var e=I.localStorage.getItem(hx);if(!e)return null;try{return JSON.parse(e)}catch{return null}},wO=function(e){if(!I.localStorage)return!1;var n=mx();n=n?N.mergeOptions(n,e):e;try{I.localStorage.setItem(hx,JSON.stringify(n))}catch{return!1}return n},kO=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};it.supportsNativeHls=function(){if(!$||!$.createElement)return!1;var t=$.createElement("video");if(!N.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(t.canPlayType(n))})}();it.supportsNativeDash=function(){return!$||!$.createElement||!N.getTech("Html5").isSupported()?!1:/maybe|probably/i.test($.createElement("video").canPlayType("application/dash+xml"))}();it.supportsTypeNatively=function(t){return t==="hls"?it.supportsNativeHls:t==="dash"?it.supportsNativeDash:!1};it.isSupported=function(){return N.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var PO=N.getComponent("Component"),Wp=function(t){X(e,t);function e(i,r,a){var s;if(s=t.call(this,r,N.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&N.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=Sr("VhsHandler"),r.options_&&r.options_.playerId){var o=N(r.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return N.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),se(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return N.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),se(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return N.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),se(s)},configurable:!0}),s.player_=o}if(s.tech_=r,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on($,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(u){var l=$.fullscreenElement||$.webkitFullscreenElement||$.mozFullScreenElement||$.msFullscreenElement;l&&l.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var n=e.prototype;return n.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=mx();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Qe.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Qe.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof r.source_[s]<"u"&&(r.options_[s]=r.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(r,a){var s=this;if(r){this.setOptions_(),this.options_.src=kO(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=it,this.options_.sourceType=P_(a),this.options_.seekTo=function(l){s.tech_.setCurrentTime(l)},this.options_.smoothQualityChange&&N.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new lO(this.options_);var o=N.mergeOptions({liveRangeSafeTimeDelta:Ir},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new hO(o),this.masterPlaylistController_.on("error",function(){var l=N.players[s.tech_.options_.playerId],d=s.masterPlaylistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),l.error(d)});var u=this.options_.experimentalBufferBasedABR?it.movingAverageBandwidthSelector(.55):it.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):u.bind(this),this.masterPlaylistController_.selectInitialPlaylist=it.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(d){this.masterPlaylistController_.selectPlaylist=d.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=d,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var d=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,h=I.navigator.connection||I.navigator.mozConnection||I.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&h){var v=h.downlink*1e3*1e3;v>=f&&d>=f?d=Math.max(d,v):d=v}return d},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=d,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var d=1/(this.bandwidth||1),h;this.throughput>0?h=1/this.throughput:h=0;var f=Math.floor(1/(d+h));return f},set:function(){N.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Zn(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Zn(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&wO({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){fO(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=I.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var r=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),EO({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){r.logger_("error while creating EME key session",s),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var r=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=CO({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){if(o.status==="output-restricted"){var u=r.masterPlaylistController_.master();if(!(!u||!u.playlists)){var l=[];if(u.playlists.forEach(function(h){h&&h.attributes&&h.attributes.RESOLUTION&&h.attributes.RESOLUTION.height>=720&&(!h.excludeUntil||h.excludeUntil<1/0)&&(h.excludeUntil=1/0,l.push(h))}),l.length){var d;(d=N.log).warn.apply(d,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(l)),r.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),N.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},n.setupQualityLevels_=function(){var r=this,a=N.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){SO(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){px(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":fx,"mux.js":vO,"mpd-parser":yO,"m3u8-parser":_O,"aes-decrypter":TO}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return cx.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&I.URL.revokeObjectURL&&(I.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},n.convertToProgramTime=function(r,a){return MA({playlist:this.masterPlaylistController_.media(),time:r,callback:a})},n.seekToProgramTime=function(r,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),FA({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(PO),Js={name:"videojs-http-streaming",VERSION:fx,canHandleSource:function(e,n){n===void 0&&(n={});var i=N.mergeOptions(N.options,n);return Js.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var r=N.mergeOptions(N.options,i);return n.vhs=new Wp(e,n,r),N.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return N.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=zS(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){var i=P_(e);if(!i)return"";var r=Js.getOverrideNative(n),a=it.supportsTypeNatively(i),s=!a||r;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var n=e,i=n.vhs,r=i===void 0?{}:i,a=n.hls,s=a===void 0?{}:a,o=!(N.browser.IS_ANY_SAFARI||N.browser.IS_IOS),u=r.overrideNative,l=u===void 0?o:u,d=s.overrideNative,h=d===void 0?!1:d;return h||l}},IO=function(){return bu("avc1.4d400d,mp4a.40.2")};IO()&&N.getTech("Html5").registerSourceHandler(Js,0);N.VhsHandler=Wp;Object.defineProperty(N,"HlsHandler",{get:function(){return N.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Wp},configurable:!0});N.VhsSourceHandler=Js;Object.defineProperty(N,"HlsSourceHandler",{get:function(){return N.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Js},configurable:!0});N.Vhs=it;Object.defineProperty(N,"Hls",{get:function(){return N.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),it},configurable:!0});N.use||(N.registerComponent("Hls",it),N.registerComponent("Vhs",it));N.options.vhs=N.options.vhs||{};N.options.hls=N.options.hls||{};if(!N.getPlugin||!N.getPlugin("reloadSourceOnError")){var AO=N.registerPlugin||N.plugin;AO("reloadSourceOnError",gO)}const DO={autoplay:!1,bigPlayButton:!0,controls:!0,fluid:!0,loop:!1,playbackRates:[.75,1,1.25,1.5,2,3],controlBar:{volumePanel:{inline:!1}}};function OO({options:t}){const e=Sn.useRef(),n=Sn.useRef(null);return Sn.useEffect(()=>(n.current&&(e.current=N(n.current,{...DO,...t}).ready(()=>{})),()=>{e.current&&e.current.dispose()}),[t]),Wt.jsx("video",{ref:n,className:"video-js"})}const LO={sources:[{src:"video.mp4",type:"video/mp4"}]};function RO(){return Wt.jsxs("div",{className:"flex flex-col px-5 md:px-48 py-5",children:[Wt.jsx("h1",{className:"text-center font-semibold text-black text-lg",children:"Video.js Demo"}),Wt.jsx(OO,{options:LO})]})}yc.createRoot(document.getElementById("root")).render(Wt.jsxs(fE.StrictMode,{children:[Wt.jsx(RO,{}),Wt.jsx(bC,{})]}));
